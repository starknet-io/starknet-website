id: e975f067-3fd3-424e-985d-277db2fd67ef
post_type: audio
title: Testing new post
published_date: Jan 10th, 2023
time_to_consume: 4 min read
image: https://editors.dexerto.com/wp-content/uploads/2022/07/06/MidJourney.jpg
category: stark-math
topic:
  - account-abstraction
  - events
  - open_source
short_desc: As a result, users want more transparency. They want a way to
  trustlessly verify that the exchange indeed has the exact assets to meet its
  liabilities. They don’t trust regulation, they trust code. Additionally, many
  users want self-custody without losing the ability to trade.
blocks:
  - type: markdown
    body: >-
      ### Proof of Reserves isn’t Good Enough


      How does Proof of Reserves work? Typically, once a quarter, an external auditor gets access to the books of the exchange. They verify that the wallets that the exchange controls have sufficient assets to cover user liabilities. The auditor then keeps a Merkle Tree where each leaf includes each user’s balance of an asset. The user can then verify against this auditor that their balance appears in this tree. Kraken has been doing this well for many years. See their [Proof of Reserves](https://www.kraken.com/proof-of-reserves) webpage.


      The problem is that Proof of Reserves provides a false sense of security to the end user. Why?


      #### **Proof of Reserves aren’t updated daily**


      The exchange takes a quarterly snapshot, and it then takes the auditor a few weeks to get everything ready. In that time, the industry may have endured a contagion event that puts severe stress on the exchange.


      #### **The exchange can collude with the auditor**


      While the auditor presumably wants to preserve their long-term reputation, and also avoid breaking the law, the simple truth is that there is still a risk that they may be bribed to lie. FTX claimed to be regulated with GAAP audits, and look at what happened.
  - type: flex_layout
    heading_variant: sm
    base: 1
    md: 2
    blocks:
      - type: basic_card
        size: sm
        title: Learn more about Starks
        link_label: Learn
        link_href: /learn/
      - type: basic_card
        size: sm
        title: Cairo 101
        link_label: View course
        link_href: /tutorials/
  - type: markdown
    body: >-
      #### **The exchange can borrow assets right before the snapshot**


      The exchange can game the audit by borrowing assets from a counterparty ahead of the snapshot. They can keep this loan off their books and claim to the auditor that the funds were transferred from a cold wallet. This is a real risk.


      #### **Exchanges have to sign cold wallets to prove ownership**


      Often exchanges claim that they have cold wallets that are air-gapped from the internet. These wallets have heavy controls to avoid hacks. If a quarterly attestation is required, these wallets are then signed every quarter. This introduces operational risk to the exchange.


      ### StarkEx Solves Everything


      There is a better alternative than Proof of Reserves. There is an architecture that exists that can not only prove that the exchange has the exact assets to meet user liabilities, but additionally, it **can** **trustlessly prevent the exchange from stealing users’ funds completely**.


      Before you read on, make sure to read [Vitalik’s article](https://vitalik.ca/general/2022/11/19/proof_of_solvency.html) on this, particularly the section titled, “Plasma and validiums: can we make CEXes non-custodial?”.
