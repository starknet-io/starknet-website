# Comment StarkNet révolutionne la signature crypto
## *Sortez avec les clés complexes, avec l'ID du visage. Une étude de cas sur le résumé du compte client*
Le moment où les gens peuvent utiliser des méthodes familières comme l'identifiant de visage pour signer des transactions de cryptomonnaie, nous verrons un boom de l'autogarde. Tout le monde sait que la gestion de votre propre portefeuille est l’idéal original de cryptomonnaie, mais c’est intimidant, et a des gens qui embrassent les échanges à la place. Il s'agit d'une étude de cas sur la façon dont une fonctionnalité StarkNet appelée Account Abstraction est utilisée par Braavos pour obtenir une façon beaucoup plus intuitive d'utiliser votre portefeuille.
## Introduction du résumé du compte client
Après le scandale FTX, la question est plus pertinente que jamais. Pourquoi les gens choisissent-ils encore de donner leurs cryptomonnaies à des institutions centralisées plutôt que de les garder eux-mêmes? La réponse : pour la plupart des gens, l'autogarde est compliquée. Les phrases de graines sont le mécanisme de récupération le plus « le plus mauvais », ce qui en dissuade beaucoup (même certains des dégènes les plus endurcis). La réponse à ce défi: Résumé du compte. Résumé du compte client permet aux portefeuilles de répondre (et de dépasser) aux attentes UX des utilisateurs Web2. comme la signature d'une transaction à l'aide de Face ID ou à l'aide d'une authentification à deux facteurs. Il facilite la segmentation des comptes et les limites de dépenses, et permet éventuellement la récupération de compte simple et la suppression de la phrase graine ensemble. C'est une révolution pour l'interface utilisateur et UX.
## StarkNet
StarkNet, le premier Rollup de validité, possède plusieurs caractéristiques qui en font la solution la plus prometteuse pour la mise à l'échelle de l'Ethereum. Basé sur les preuves STARK, il offre des frais de gaz peu élevés sans compromettre la sécurité Ethereum. L'enregistrement des preuves STARK alimentant StarkEx comprend 800$ en volume de trading cumulatif, 300M de transactions et 90M de NFTs. Les capacités de STARK pour fournir de faibles frais, couplées à la puissance de l'abstraction du compte, a permis à Braavos de développer les capacités de portefeuille innovantes auxquelles il vise.
## Contexte
La plupart des blockchains, y compris Bitcoin et Ethereum, utilisent les schémas de signatures elliptiques secp256k1 courbes (voir[ici](http://ethanfast.com/top-crypto.html)pour une liste détaillée). Cette implémentation de courbe elliptique est considérée comme robuste — de nombreuses blockchains l'utilisent et il a résisté à l'épreuve du temps. Mais il n'est pas compatible avec le schéma de signature cryptographique disponible dans les modules de sécurité matérielle des appareils mobiles (HSM), tels que les iPhones et les téléphones Android (Pixel et autres). Ces appareils utilisent une autre courbe : secp256r1 (également appelé NIST-P256). Cela signifie que les utilisateurs de ces blockchains ne peuvent pas tirer parti des puces de sécurité sur leurs périphériques et doivent par défaut utiliser des portefeuilles matériels s'ils veulent obtenir un niveau de sécurité élevé. Cela restreint considérablement toute innovation UX sur la façon dont les utilisateurs peuvent se connecter à un portefeuille et approuver les transactions (d'où l'ubiquité des phrases en graines). StarkNet ne supporte pas secp256r1, et a sa propre courbe propriétaire qui est une courbe compatible STARK. Mais contrairement aux autres blockchains, StarkNet a une abstraction de compte disponible nativement sur sa plate-forme, qui ouvre un nouveau monde d'opportunités UX pour les applications de portefeuille. Braavos a exploité cette capacité à introduire le Hardware Signer.
## Le signet Matériel
Le Hardware Signer se compose de deux parties principales :
* Le sous-système sécurisé dans l'appareil mobile des utilisateurs * Le contrat intelligent du compte qui peut exécuter une logique arbitraire (a.k.a Account Abstraction)
## Sous-système sécurisé
Le Hardware Signer utilise le sous-système sécurisé intégré dans l'appareil des utilisateurs —**Secure Enclave**de l'iPhone ou le**Titan**HSM d'Android Phone — pour protéger le compte. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) La puce Enclave Sécurisée / Titan est un sous-système dédié et isolé, totalement séparé du processeur d'application qui peut générer des clés privées et signer des messages. Il génère les clés à l'aide d'un générateur interne de nombres aléatoires True (TRNG) et signe des messages sur la courbe elliptique NIST-P256 (secp256r1) via son accélérateur de clé publique (PKA). Les clés privées ne quittent jamais le système sécurisé et sont inconnues/inaccessibles à personne, même à l'utilisateur, ou à l'application elle-même. Cela signifie que même si le noyau du processeur de l'application du périphérique est compromis, les clés de l'utilisateur restent en sécurité ! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Plongée plus profonde dans l'enclave sécurisée
Lors du processus de fabrication de la puce, un UID (identifiant unique) est généré par le TRNG et est stocké dans la PKA. Il ne peut pas être lu et ne quitte jamais le PKA, donc il est inconnu même pour le processeur Secure Enclave et pour le système d'exploitation Secure Enclave Processor Operating (SepOS). Cet UID est un nombre aléatoire qui est unique par périphérique et est utilisé pour chiffrer toutes les autres clés qui seront générées dans le futur sur cet appareil. La façon dont il fonctionne est la suivante: l'application demandera au SepOS de générer une nouvelle paire de clés, le SepOS demandera au TRNG Secure Enclave de générer une clé et de la chiffrer (en utilisant l'UID). L'application peut ensuite demander au SepOS de déchiffrer la clé et de signer un message en utilisant la clé générée. Pendant tout ce processus, la clé générée ne quitte pas l'enclave et n'est connue de personne. (Pour plus d’informations sur l’Enclave sécurisée, veuillez consulter[ici](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). Le mode de construction et de fonctionnement de l'enclave sécurisée, ainsi que le fait qu'il s'agit d'une cible pour les attaques des entreprises et des gouvernements puissants dans le monde entier. est la raison pour laquelle sa sécurité dépasse les portefeuilles matériels standard.
## Abstraction de compte
La puissance de Braavos en tant que portefeuille basé sur un contrat intelligent au dessus de StarkNet, est qu'elle est composée de deux piliers:
* Le côté client (par exemple l'application) qui permet à l'utilisateur de réviser/signer des transactions et de les envoyer à la chaîne. * Le côté de la chaîne — a un contrat intelligent de compte qui peut exécuter une logique arbitraire ; et en particulier dans notre cas, exécutez une logique de vérification**de signature arbitraire**. L'application signe la transaction à l'aide du module de sécurité de l'appareil mobile et l'envoie ensuite au contrat de compte sur la chaîne qui peut le vérifier. Comme mentionné ci-dessus, le module de sécurité sur les iPhones et les téléphones Android utilise une cryptographie appelée NIST-P256 (secp256r1), qui n'est pas compatible avec aucun schéma cryptographique majeur de la blockchain, y compris StarkNet. C'est la raison pour laquelle avoir un compte de contrat intelligent à la chaîne que toutes les transactions passent et peuvent exécuter une logique arbitraire, est crucial pour l'utilisation de ces HSMs sur iPhones et téléphones Android. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Biométriques
Comment l'utilisateur approuvera-t-il une transaction via le portefeuille de Braavos ? Une application malveillante peut-elle simplement signer automatiquement une transaction sans le consentement de l'utilisateur ? Non!! Ce qui est cool à propos du module de sécurité intégré dans les appareils mobiles, comme l'Enclave sécurisée, est qu'il supporte l'authentification intrinsèquement biométrique de l'identité de l'utilisateur. Cela signifie que même l’approbation réelle pour signer une transaction se fait directement par rapport à l’Enclave sécurisée. L'approbation ne passe pas par l'application et l'utilisateur devra approuver la transaction avec son empreinte digitale ou son identification faciale.
## Récupération
Si personne ne connaît la clé privée, que se passe-t-il si l'appareil est perdu ou devient brické ? Comment l'utilisateur peut-il reprendre le contrôle du compte ? À Braavos, un compte aura en fait 2 clés publiques — la clé de signature matérielle, qui sera utilisée pour signer toutes les transactions, et la clé dérivée de la phrase de graine qui ne peut signer qu'une seule transaction — une « Demande de suppression du signet matériel ». Cette requête ne sera pas exécutée immédiatement, mais aura plutôt un délai de 4 jours (configurable) pour permettre à l'utilisateur d'annuler une telle demande. Cela signifie que si l'appareil est volé/perdu/brické, les utilisateurs pourront toujours récupérer leur compte dans les 4 jours. Cependant, si leur phrase de graine est volée et qu'un attaquant envoie une requête pour supprimer le signal matériel, l'utilisateur recevra automatiquement (et de manière répétée) une notification à son appareil mobile et sera en mesure d'annuler la demande et de garder tous les actifs en sécurité.
## Summary
La fonctionnalité Hardware Signer offre à la fois un niveau de sécurité à la fine pointe de la technologie pour les utilisateurs de cryptomonnaies, et l'expérience des utilisateurs est utilisée à partir du web2. En ce sens, signer une transaction est aussi simple et s'inquiéter gratuitement que de payer avec Apple / Google. Il ne s'agit que d'un exemple important de la puissance de StarkNet, portefeuille basé sur un contrat intelligent (a. .a Account Abstraction) et le nouvel espace de design qu'il active. Nous prévoyons le développement de capacités de plus en plus naissantes qui conduiront l'industrie des cryptomonnaies vers un avenir meilleur et plus inclusif. fournir aux nouveaux utilisateurs et aux utilisateurs existants une sécurité sans compromis couplée à un UX non compromis.