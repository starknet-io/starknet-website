# Hoe StarkNet een revolutie van crypto ondertekenen
## *Weg met de complexe sleutels, in confrontatie ID. Een casestudy over Account Abstractie*
Op het moment dat mensen bekende methoden zoals face ID kunnen gebruiken om crypto-transacties te ondertekenen, zien we een boom in zelfingenomenheid Iedereen weet dat het beheren van uw eigen portemonnee de originele crypto-ideaal is, maar dat het intimiderend is en mensen in plaats daarvan uitwisselingen omarmt. Dit is een voorbeeld van hoe een StarkNet-functionaliteit genaamd Account Abstraction door Braavos wordt gebruikt om een veel meer intuïtieve manier van gebruik van uw portemonnee te krijgen.
## Introductie Account Abstraction
Na het FTX-schandaal is de kwestie relevanter dan ooit. Waarom kiezen mensen er nog steeds voor om hun crypto aan gecentraliseerde instellingen te geven in plaats van deze zelf te bewaren? Het antwoord: voor de meeste mensen is zelfingenomenheid gecompliceerd. Zaadzinnen zijn het ‘slechtste’ herstelmechanisme, waardoor veel (zelfs enkele van de zwaarste degens) worden ontmoedigd. Het antwoord op deze uitdaging: Account Abstraction. Rekeningabstractie stelt portemonnees in staat aan (en overtreft) de verwachtingen van Web2-gebruikers te voldoen (en zelfs te overtroffen). zoals het ondertekenen van een transactie met Face ID of het gebruik van two-factor authenticatie. Het vergemakkelijkt account segmentatie en bestedingslimiet; en het stelt uiteindelijk eenvoudige accountherstel in en het verwijderen van de herstelzin samen. Het is een revolutie voor UI en UX.
## StarkNet
StarkNet, de toonaangevende Validiteit Rollup, heeft verschillende belangrijke kenmerken waardoor het de meest veelbelovende oplossing is om Ethereum te schalen. Gebaseerd op STARK-proofs, biedt het lage gaskosten zonder de veiligheid van Ethereum in gevaar te brengen. Het track record van STARK proefs die StarkEx powering geven, omvat $800B in cumulatief handelsvolume, 300M transacties, en 90M NFT's. De mogelijkheden van STARK bewijzen om lage kosten te bieden, gekoppeld aan de kracht van account Abstraction, geeft Braavos de mogelijkheid om de innovatieve portemonnee mogelijkheden te ontwikkelen waar het op gericht is.
## Context
De meeste grote blockchains, waaronder Bitcoin en Ethereum, gebruiken de secp256k1 elliptische curve cryptografische handtekening programma's (zie[hier](http://ethanfast.com/top-crypto.html)voor een uitgebreide lijst). Deze elliptische kromme implementatie wordt beschouwd als robuust — veel blockchains gebruiken het en het stond de test der tijd. Maar het is niet compatibel met het cryptografische handtekeningenschema dat beschikbaar is in de hardware beveiligingsmodules van mobiele apparaten (HSM), zoals de iPhones en de Android (Pixel en andere) telefoons. Deze apparaten gebruiken een andere curve — secp256r1 (ook wel NIST-P256 genoemd). Dit betekent dat gebruikers van deze blockchains niet kunnen profiteren van de beveiligingschips op hun apparaten en standaard hardware wallets moeten gebruiken als ze een sterk veiligheidsniveau willen bereiken. Dit beperkt alle UX-innovatie ernstig op hoe gebruikers zich bij een portemonnee kunnen aanmelden en transacties kunnen goedkeuren (vandaar de alomtegenwoordigheid van seed-frasen). StarkNet ondersteunt geen secp256r1 en heeft een eigen merkcurve die een STARK-vriendelijke curve is. Maar anders dan andere blockchains heeft StarkNet een account abstractie die op zijn platform beschikbaar is, waardoor een nieuwe wereld van UX mogelijkheden voor portemonnee apps ontstaat. Braavos heeft gebruik gemaakt van deze mogelijkheid om de Hardware Signer te introduceren.
## De bevestigingsmateriaal handtekening
De Hardware Signer bestaat uit twee hoofddelen:
* Het beveiligde subsysteem op het mobiele apparaat van gebruikers * Het smart contract van je account dat willekeurige logica kan gebruiken (a.k.a Account Abstraction)
## Beveiligd subsysteem
De Hardware Signer maakt gebruik van het beveiligde subsysteem dat is ingebouwd in het gebruikersapparaat — iPhone’s**Secure Enclave**of Android Phone's**Titan**HSM — om het account te beschermen. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) Het Secure Enclave / Titan chip is een toegewijd en geïsoleerd subsysteem, Volledig gescheiden van de applicatieprocessor die privésleutels kan genereren en berichten kan ondertekenen. Het genereert de sleutels met behulp van een interne True Willekeurige Generator (TRNG) en ondertekent berichten via de NIST-P256 (secp256r1) elliptische kromme via de interne Public Key Accelerator (PKA). De privésleutels laten het beveiligde systeem nooit over en zijn onbekend/ontoegankelijk voor iedereen, zelfs niet voor de gebruiker, of voor de toepassing zelf. Dit betekent dat zelfs als de apparaatapplicatie kernel wordt gecompromitteerd, de gebruikerssleutels veilig blijven! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Dieper Duik in de Veilige Knap
Tijdens het proces van de chip wordt een UID (Unique Identifier) gegenereerd door de TRNG en opgeslagen in de PKA. Het kan niet worden gelezen en verlaat nooit de PKA, Dus het is zelfs onbekend voor de processor Secure Enclave en voor het Processor Secure Enclave Operation System (SepOS). Deze UID is een willekeurig getal dat uniek is per apparaat en wordt gebruikt om alle andere sleutels te versleutelen die in de toekomst zullen worden gegenereerd op dit apparaat. De manier waarop het werkt is als volgt: de applicatie zal het SepOS verzoeken een nieuw sleutelpaar te genereren, het SepOS zal de Secure Enclave TRNG instrueren om een sleutel te genereren en deze te versleutelen (met behulp van de UID). De app kan vervolgens vanaf het SepOS aanvragen om de sleutel te decoderen en een bericht te tekenen met behulp van de gegenereerde sleutel. Tijdens dit hele proces verlaat de gegenereerde sleutel de enclave en is niemand bekend. (Voor meer informatie over de Secure Enclave, zie[hier](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). De manier waarop de Secure Enclave is gebouwd en werkt, samen met het feit dat het een doelwit is van aanvallen door machtige bedrijven en regeringen over de hele wereld. is de reden dat zijn beveiliging de standaard hardware portemonnees overstijgt.
## Account Samenvatting
De macht van Braavos als een op contracten gebaseerde portemonnee bovenop StarkNet is dat het bestaat uit twee pijlers:
* De klant-zijde (bijvoorbeeld de toepassing) waarmee de gebruiker transacties kan beoordelen/ondertekenen en naar de keten kan sturen. * De on chain side - heeft een slim account contract dat willekeurige logica kan volgen; en in het bijzonder in ons geval, voer willekeurige ondertekening**verificatie**logica. De applicatie ondertekent de transactie met behulp van de beveiligingsmodule van het mobiele apparaat en stuurt deze vervolgens naar de on-chain account die dit kan verifiëren. Zoals hierboven vermeld, gebruikt de beveiligingsmodule op iPhones en Android telefoons een cryptografie die NIST-P256 wordt genoemd (secp256r1), die niet compatibel is met een belangrijk blockchain-cryptografische schema, inclusief StarkNet. Daarom is het online hebben van een smart contract account waar alle transacties doorheen gaan en kan de willekeurige logica draaien, is cruciaal voor het gebruik van deze HSMs op iPhones en Android-telefoons. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Biometrie
Hoe keurt de gebruiker een transactie goed via Braavos wallet? Kan een kwaadaardige applicatie simpelweg automatisch een transactie ondertekenen zonder toestemming van de gebruiker? Nee!! Het coole ding van de ingebouwde beveiligingsmodule in mobiele apparaten, zoals de Secure Enclave, Het is dat het een intrinsiek biometrische authenticatie van de identiteit van de gebruiker ondersteunt. Dit betekent dat zelfs de feitelijke goedkeuring om een transactie te ondertekenen direct gebeurt tegen de Secure Enclave. De goedkeuring loopt niet door de applicatie, en de gebruiker zal de transactie moeten goedkeuren met zijn vingerafdruk of met gezichtsidentificatie.
## Herstellen
Als niemand de private key kent, wat gebeurt er dan als het apparaat verloren raakt of gebrickerd wordt? Hoe kan de gebruiker weer controle krijgen over de account? In Braavos zal een account 2 openbare sleutels hebben — de Hardware Signer Key die zal worden gebruikt om alle transacties te ondertekenen, en de sleutel afgeleid van de herstelzin die slechts één transactie kan ondertekenen — een "Verzoek om Hardware Signer te verwijderen". Dit verzoek zal niet onmiddellijk worden uitgevoerd, maar eerder heeft een tijdvertraging van 4 dagen (configureerbaar) zodat de gebruiker de Hardware Signer kan gebruiken om een dergelijk verzoek te annuleren. Dit betekent dat als het apparaat gestolen/gebrickt wordt, gebruikers hun account nog steeds kunnen herstellen binnen 4 dagen. Als hun Seed Phrase echter gestolen wordt en een aanvaller een verzoek doet om de Hardware Signer te verwijderen, de gebruiker krijgt automatisch (en herhaald) een melding op zijn mobiele apparaat en kan het verzoek annuleren en alle assets veilig houden.
## Summary
De Hardware Signer functie biedt zowel het meest geavanceerde beveiligingsniveau voor crypto-gebruikers als de ervaren gebruikers worden gebruikt vanaf web2. In deze zin is het ondertekenen van een transactie net zo soepel en zorgwekkend als betalen met Apple/Google betalen. Dit is slechts één, maar prominent voorbeeld van de kracht van StarkNet, smart contract based wallet (a. .a Account Abstraction) en de nieuwe ontwerpruimte die het inschakelt. We voorzien de ontwikkeling van steeds meer ontluikende mogelijkheden die de crypto-industrie naar een betere en meer inclusieve toekomst zullen stuwen. het bieden van nieuwe en bestaande gebruikers van onaangetaste beveiliging gekoppeld aan onvoorwaardelijke UX.