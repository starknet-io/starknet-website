### TL;DR

* Το Κάιρο 1.0 είναι η πρώτη μεγάλη απελευθέρωση μετά την[εισαγωγή του Καΐρου](https://medium.com/starkware/hello-cairo-3cb43b13b209)πριν από δύο χρόνια
* Το Κάιρο 1.0 θα δώσει στους προγραμματιστές μια ασφαλέστερη, απλούστερη, χρησιμότερη γλώσσα προγραμματισμού
* Στην καρδιά του Καΐρου 1.0 θα είναι η**Σιέρα**, ένα ενδιάμεσο στρώμα αναπαράστασης που υπόσχεται μεγαλύτερη μακροπρόθεσμη σταθερότητα για τα προγράμματα του Καΐρου
* Η Sierra προωθεί το Κάιρο για να εξυπηρετεί σε ένα δίκτυο χωρίς άδεια:\
  -**Προστασία του δικτύου**: επιτρέπει την πιο ισχυρή προστασία DoS\
  -**Προστασία του χρήστη**: επιτρέπει την αντίσταση λογοκρισίας Ethereum-grade. Κάιρο 1. θα επηρεάσει το StarkNet με πολλούς τρόπους. Θα επηρεάσει επίσης την[Regenesis](https://medium.com/starkware/regenesis-starknets-no-sweat-state-reset-e296b12b80ae). Θα δημοσιεύσουμε περισσότερες πληροφορίες σχετικά με την Regenesis τις επόμενες εβδομάδες.

### Εισαγωγή

Το 2020 κυκλοφορήσαμε το Κάιρο, μια Turing-complete γλώσσα προγραμματισμού, και κάναμε ένα μεγάλο βήμα προς την υποστήριξη επαληθεύσιμων υπολογισμών χρησιμοποιώντας STARKs. Σήμερα, ανακοινώνουμε**Κάιρο 1.0**, τη μεγαλύτερη πρόοδο του Καΐρου μέχρι σήμερα. Θα εισαγάγει μια βελτιωμένη γλώσσα, με χαρακτηριστικά που θα ενισχύσουν τη χρηστικότητα, την ασφάλεια και την ευκολία. Έχει σχεδιαστεί για να υποστηρίζει τις απαιτήσεις του StarkNet ως δίκτυο χωρίς δικαιώματα, επιτρέποντας στο πρωτόκολλο να γίνει απλούστερο και ασφαλέστερο.\
Η ανάπτυξη είναι ήδη σε εξέλιξη, και αναμένουμε η πρώτη κυκλοφορία να συμβεί σύντομα.

Σε αυτό το post θα περιγράψουμε το ταξίδι του Καΐρου μέχρι στιγμής και θα μοιραστούμε λεπτομέρειες για τα επερχόμενα χαρακτηριστικά.

### Το Ταξίδι Του Καΐρου

Μέχρι το 2020, χρειαζόταν εξειδικευμένη γνώση για να χτίσει το STARK αποδεδειγμένα προγράμματα γενικής υπολογισμού. Ήταν δυνατό μόνο για όσους κατανόησαν τα σύνθετα μαθηματικά πίσω από τα STARKs. Συγκεκριμένα, για κάθε επιχειρηματική λογική, δηλ. κάθε υπολογισμό, που απαιτείται για τη δημιουργία μιας αλγεβρικής ενδιάμεσης αναπαράστασης (AIR), ένα σύνολο πολυνομικών περιορισμών που αναπαριστά τον συγκεκριμένο υπολογισμό.

Το Κάιρο γεννήθηκε από τη συνειδητοποίηση ότι ο επαληθεύσιμος υπολογισμός θα πρέπει να είναι διαθέσιμος στους προγραμματιστές παντού. Το Κάιρο επιτρέπει στους προγραμματιστές να αξιοποιήσουν τη δύναμη των STARKs.

Η κοινότητα των προγραμματιστών έχει έκτοτε κατασχεθεί στο Κάιρο για να χτίσει με ενθουσιασμό. Τα πάντα στο ακμάζον οικοσύστημα StarkNet σήμερα βασίζονται στο Κάιρο. Μεταξύ[StarkNet](https://starkware.co/starknet/)και[StarkEx](https://starkware.co/starkex/), οι εφαρμογές που κινούνται με το Κάιρο έχουν επεξεργαστεί μέσω συναλλαγών 220M, έκοψε περισσότερα από 65M NFT, και χειρίστηκε $ 700B αξίας των συναλλαγών, όλα εγκαταστάθηκαν στο Ethereum.

Ενώ το Κάιρο έκανε προσιτές τις STARKs αρχικά σχεδιάστηκε ως γλώσσα συναρμολόγησης, και ως εκ τούτου γράφτηκε ως γλώσσα χαμηλού επιπέδου.

![Ένα παράδειγμα για τα πρώιμα προγράμματα που γράφτηκαν στο Κάιρο](/assets/cairocode_01.png "Ένα παράδειγμα για τα πρώιμα προγράμματα που γράφτηκαν στο Κάιρο")

Προκλήθηκε από την ανατροφοδότηση από τους προγραμματιστές και την άνοδο του[StarkNet](https://starkware.co/starknet/), κάναμε σταδιακά το Κάιρο πιο εκφραστικό και πιο φιλικό προς τον προγραμματιστή.

![Ένα παράδειγμα από τη σύμβαση ERC-20 Κάιρο που αποδεικνύει την υποστήριξη μεταβλητών, αν δηλώσεις, λάθη και UINT256 βιβλιοθήκη](/assets/cairocode_02.png "Ένα παράδειγμα από τη σύμβαση ERC-20 Κάιρο που αποδεικνύει την υποστήριξη μεταβλητών, αν δηλώσεις, λάθη και UINT256 βιβλιοθήκη")

Αλλά σύντομα καταλήξαμε στο συμπέρασμα ότι είναι καιρός να κάνουμε ένα μεγάλο άλμα προς τα εμπρός και, αντί για σταδιακές βελτιώσεις στο Κάιρο, πηγαίνετε για πιο τολμηρή μεταμόρφωση.

### Cairo 1.0

Για Το Κάιρο 1. έχουμε χτίσει ένα εντελώς νέο μεταγλωττιστή από το έδαφος, το οποίο θα παρέχει στους προγραμματιστές χαρακτηριστικά ασφαλείας, και θα τους επιτρέψει να γράψουν συμβάσεις με απλούστερο και πιο εκφραστικό τρόπο.

#### Παρουσίαση Sierra: η εξασφάλιση κάθε λειτουργίας του Καΐρου μπορεί να αποδειχθεί

Η κύρια προσθήκη στο Κάιρο 1. είναι η Σιέρα (**S**afe**I**nt**e**rmediate**R**ep**r**esent**a**tion). Η Σιέρα αποτελεί ένα νέο ενδιάμεσο επίπεδο αναπαράστασης μεταξύ του κώδικα του Καΐρου 1.0 και του ψηφιολέξεων του Καΐρου. Στόχος της Sierra είναι να διασφαλίσει ότι κάθε τρέξιμο του Καΐρου — δηλαδή ένα πρόγραμμα του Καΐρου και η εισαγωγή του - μπορεί να αποδειχθεί (δείτε περισσότερα παρακάτω).

Η Σιέρα υπόσχεται καλύτερο μελλοντικό κώδικα για το Κάιρο. Περαιτέρω σταθερότητα παρέχεται από το γεγονός ότι οι συμβάσεις της StarkNet δεν θα χρειαστεί να ανασυνταχθούν σε περίπτωση βελτίωσης του υποκείμενου συστήματος (π. χ. ., CPU AIR αρχιτεκτονική αλλαγές, βελτιώσεις της τελικής μετάφρασης από τη Σιέρα στον κώδικα byte του Καΐρου).

**Αποδεικνύοντας κάθε τρέξιμο του Καΐρου.**Στο παλιό Κάιρο, μια διαδρομή Κάιρο μπορεί να οδηγήσει σε τρεις περιπτώσεις — ΑΛΗΘΕΙ, ΦΑΛΕΙΑ ή αποτυχία. Αποτυχία εκτέλεσης δεν μπορεί να αποδειχθεί. Η Σιέρρα, εξασφαλίζει ότι ένα τρέξιμο του Καΐρου δεν θα αποτύχει ποτέ, και μπορεί να οδηγήσει μόνο σε TRUE ή FALSE. Αυτό με τη σειρά του, εξασφαλίζει ότι κάθε τρέξιμο του Καΐρου μπορεί να αποδειχθεί.

Αυτή η εισαγωγή της Σιέρα έχει σημαντικές επιπτώσεις για το StarkNet ως άχρηστο δίκτυο. Η Sierra διασφαλίζει ότι ακόμη και οι επανακτημένες συναλλαγές μπορούν να συμπεριληφθούν στα μπλοκ του StarkNet. Αυτή η ιδιότητα θα επιτρέψει στο πρωτόκολλο StarkNet να παραμείνει άπαχο και απλό χωρίς την ανάγκη προσθήκης πολύπλοκων κρυπτο-οικονομικών μηχανισμών.\
Δύο σημαντικά παραδείγματα:

1. Οι αλληλουχίες θα είναι σε θέση να εισπράττουν τέλη για επανακτημένες συναλλαγές, επιτρέποντας στο StarkNet να αποτρέψει το Sequencer DoS με καθιερωμένο τρόπο.
2. Η εφαρμογή αναγκαστικών συναλλαγών L1 θα είναι δυνατή, επιτρέποντας στην StarkNet να κληρονομήσει την πλήρη αντίσταση λογοκρισίας του Ethereum.

### **Χαρακτηριστικά Γλώσσας**

Το Κάιρο 1.0 θα προσφέρει πολλές βελτιώσεις στη γλώσσα προγραμματισμού. Δεν είναι όλα που αναφέρονται παρακάτω θα είναι μέρος της πρώτης κυκλοφορίας, αλλά είναι μέρος του οδικού χάρτη.

#### **Βελτιωμένη σύνταξη**

* Δεν υπάρχει πλέον*τοπικό*και*tempvar*. Τώρα χρειαζόμαστε μόνο*αφήστε*για να τους κυβερνήσετε όλες τις μεταβλητές.
* Βελτιώθηκε*εάν*σύνταξη δηλώσεων

```python
#Παλιό
αν cond ! 0 {
  tempvar x = x+1;
} else {
  tempvar x = x;
}
__________________________________
#New
εάν cond {x = x + 1; }
```

#### **Εγγυήσεις ασφάλειας τύπου**

Ο μεταγλωττιστής θα χρησιμοποιήσει ισχυρή πληκτρολόγηση για να βελτιώσει την ασφάλεια του κώδικα. Για παράδειγμα:

* Οι δείκτες θα δείχνουν πάντα την αρχικοποίηση της μνήμης.
* Τα λεξικά θα είναι πάντα σκουριασμένα, σε αντίθεση με το να αφήσετε την ευθύνη να καλέσετε squash_dict στον προγραμματιστή.

#### **Ευκολότερη χρήση γλωσσικών κατασκευών**

Για παράδειγμα:

* Για βρόγχους

```
let sum = 0
for x in iter ↑
  sum = sum + x;
}
```

* Δυαδικές εκφράσεις
* Ακέραιοι αριθμοί (με κανονικό ακέραιο τμήμα 👯)
* Προστασία υπερχείλισης για τους σχετικούς τύπους
* Δυαδικές συνθήκες

```
#Παλιό
Αν cond1:
  if cond2:
       # Some code
  else if cond3:
       # Same code
__________________________________
#New
If cond1 && (cond2 - cond3) mptom … }
```

#### **Ένα πλήρες σύστημα τύπου**

* Τύποι αφηρημένων δεδομένων (π.χ. Σκωρόχρωμος ήλιος)

```
enum Option<T> mptom
 Some: T,
 None,
}
αποτέλεσμα αντιστοίχισης {
 Κάποιος (r) => {..},
 Κανένα => {..},
}
```

* Traits

```
trait Add<Uint256> mptom
    fn add(…) { … }
}

let a: Uint256 = 1;
let b: Uint256 = 4;
a + b; // Αξιολογήθηκε σε 5 του τύπου Uint256.
```

#### **Περισσότερες διαισθητικές βιβλιοθήκες**

(π.χ. dict, arrays)

* Dict<Uint256, MyStruct>
* Διάταξη<MyOtherStruct>;

#### **Πιο βελτιστοποιημένος κώδικας**

Δεν χρειάζεται να δηλώσει ρητά την κατανομή των τοπικών μεταβλητών - αυτόματη ανίχνευση και να γίνει αυτόματα.

#### **Καλύτερη ενσωμάτωση μεταγλωττιστή**

Ενεργοποίηση καλύτερης υποστήριξης IDE, διαχείρισης πακέτων και καλύτερη διευκόλυνση των κοινοτικών συνεισφορών.

### **Συμπέρασμα**

Δύο χρόνια μετά το Κάιρο χρησιμοποιήθηκε για πρώτη φορά στην παραγωγή, αναπτύσσουμε το Κάιρο 1.0, το οποίο θα προσφέρει βελτιωμένη εκφραστικότητα, ασφάλεια και σύνταξη. Θα πάρει ένα μεγάλο άλμα προς τα εμπρός, επιτρέποντας στους προγραμματιστές να γράψουν ευκολότερα τα συμβόλαια StarkNet τους.

Σε μια άλλη ανάρτηση, ερχόμενη σύντομα, θα μοιραστούμε περισσότερες λεπτομέρειες για το πώς το Κάιρο 1. θα επηρεάσει την αναγέννηση του StarkNet και πώς οι προγραμματιστές πρέπει να προετοιμαστούν για την απελευθέρωσή του.