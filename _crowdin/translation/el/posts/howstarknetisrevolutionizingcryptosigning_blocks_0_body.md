# Πώς το StarkNet φέρνει επανάσταση στην υπογραφή κρυπτονομισμάτων
## *Έξω με τα σύνθετα πλήκτρα, με ταυτότητα προσώπου. Μελέτη περίπτωσης για την Περίληψη του Λογαριασμού*
Τη στιγμή που οι άνθρωποι μπορούν να χρησιμοποιήσουν γνωστές μεθόδους όπως το αναγνωριστικό προσώπου για να υπογράψουν συναλλαγές κρυπτονομισμάτων, θα δούμε μια έκρηξη στην αυτο-κράτηση. Όλοι γνωρίζουν ότι η λειτουργία του δικού σας πορτοφολιού είναι το πρωτότυπο ιδανικό κρυπτονομίσματος, αλλά είναι εκφοβιστικό και έχει ανθρώπους που αγκαλιάζουν τις ανταλλαγές. Αυτή είναι μια μελέτη περιπτώσεων για το πώς μια λειτουργικότητα του StarkNet που ονομάζεται Λογαριασμός Abstraction χρησιμοποιείται από τον Braavos για να πάρει έναν πολύ πιο διαισθητικό τρόπο χρήσης του πορτοφολιού σας.
## Παρουσίαση Αφαίρεσης Λογαριασμού
Μετά το σκάνδαλο της FTX, το ερώτημα είναι πιο σχετικό από ποτέ. Γιατί οι άνθρωποι εξακολουθούν να επιλέγουν να δώσουν την κρυπτογράφηση τους σε συγκεντρωτικούς θεσμούς, αντί να την κρατούν οι ίδιοι? Η απάντηση: για τους περισσότερους ανθρώπους, η αυτοφύλαξη είναι περίπλοκη. Οι φράσεις των σπόρων είναι ο «χειρότερος-καλύτερος» μηχανισμός ανάκτησης, αποτρέποντας πολλούς (ακόμη και μερικούς από τους πιο σκληρούς βαθμούς). Η απάντηση σε αυτή την πρόκληση: Αφαίρεσης λογαριασμού. Η Περίληψη Λογαριασμού επιτρέπει στα πορτοφόλια να ανταποκριθούν (και να ξεπεράσουν) τις UX προσδοκίες των χρηστών Web2, όπως η υπογραφή μιας συναλλαγής χρησιμοποιώντας το Face ID ή η χρήση ελέγχου ταυτότητας δύο παραγόντων. Διευκολύνει την κατάτμηση λογαριασμού και τα όρια δαπανών; και τελικά επιτρέπει την απλή ανάκτηση του λογαριασμού και την αφαίρεση της φράσης σπόρων όλοι μαζί. Είναι μια επανάσταση για UI και UX.
## StarkNet
Το StarkNet, το κορυφαίο κύρος Rollup, έχει αρκετά βασικά χαρακτηριστικά που το καθιστά την πιο ελπιδοφόρα λύση για την κλίμακα του Ethereum. Με βάση τις αποδείξεις STARK, παρέχει χαμηλά τέλη φυσικού αερίου χωρίς να θέτει σε κίνδυνο την ασφάλεια του Ethereum. Το ιστορικό των αποδείξεων STARK που τροφοδοτούν StarkEx περιλαμβάνει $ 800B σε σωρευτικό όγκο συναλλαγών, 300M συναλλαγές, και 90M NFTs. Οι δυνατότητες των αποδείξεων STARK για την παροχή χαμηλών τελών, σε συνδυασμό με τη δύναμη της Περίληψης Λογαριασμού, επέτρεψε στο Braavos να αναπτύξει τις καινοτόμες δυνατότητες πορτοφολιού που στοχεύει.
## Πλαίσιο
Τα περισσότερα μεγάλα blockchains, συμπεριλαμβανομένων των Bitcoin και Ethereum, χρησιμοποιούν τα συστήματα κρυπτογράφησης της ελλειπτικής καμπύλης secp256k1 (βλ.[εδώ](http://ethanfast.com/top-crypto.html)για μια περιεκτική λίστα). Αυτή η ελλειπτική εφαρμογή καμπύλης θεωρείται ανθεκτική - πολλά blockchains το χρησιμοποιούν και στάθηκε η δοκιμή του χρόνου. Αλλά δεν είναι συμβατό με το κρυπτογραφικό σύστημα υπογραφής που διατίθεται σε κινητές συσκευές Hardware Security Modules (HSM), όπως το iPhones και το Android (Pixel και άλλα) τηλέφωνα. Αυτές οι συσκευές χρησιμοποιούν άλλη καμπύλη — secp256r1 (ονομάζεται επίσης NIST-P256). Αυτό σημαίνει ότι οι χρήστες αυτών των blockchains δεν μπορούν να επωφεληθούν από τις μάρκες ασφαλείας στις συσκευές τους και πρέπει να προεξέχουν σε πορτοφόλια υλικού αν θέλουν να αποκτήσουν ένα ισχυρό επίπεδο ασφάλειας. Αυτό περιορίζει σοβαρά κάθε καινοτομία UX για το πώς οι χρήστες μπορούν να συνδεθούν σε ένα πορτοφόλι και να εγκρίνουν συναλλαγές (ως εκ τούτου, την πανταχού παρούσα φράσεις). Το StarkNet δεν υποστηρίζει το secp256r1, και έχει τη δική του αποκλειστική καμπύλη που είναι φιλική προς το STARK. Αλλά σε αντίθεση με άλλα blockchains, το StarkNet έχει την αφαίρεση λογαριασμού διαθέσιμη εγγενώς στην πλατφόρμα του, η οποία ανοίγει έναν νέο κόσμο ευκαιριών UX για εφαρμογές πορτοφολιού. Ο Braavos χρησιμοποίησε αυτή την ικανότητα για να εισαγάγει τον υπογράφοντα υλικού.
## Ο Υπογραφέας Υλικού
Το Hardware Signer αποτελείται από δύο κύρια μέρη:
* Το ασφαλές υποσύστημα στην κινητή συσκευή των χρηστών * Το έξυπνο συμβόλαιο του λογαριασμού που μπορεί να τρέξει αυθαίρετη λογική (άλλως Abstraction)
## Ασφαλές Υποσύστημα
Το Hardware Signer χρησιμοποιεί το ασφαλές υποσύστημα ενσωματωμένο στη συσκευή των χρηστών — το**Secure Enclave του iPhone’s**ή το**Titan**HSM του Android Phone — για την προστασία του λογαριασμού. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) Το Secure Enclave / Titan chip είναι ένα ειδικό και απομονωμένο υποσύστημα, διαχωρισμένο πλήρως από τον επεξεργαστή εφαρμογής που μπορεί να δημιουργήσει ιδιωτικά κλειδιά και να υπογράψει μηνύματα. Δημιουργεί τα κλειδιά χρησιμοποιώντας μια εσωτερική γεννήτρια πραγματικών τυχαίων αριθμών (TRNG) και υπογράφει μηνύματα πάνω από το NIST-P256 (secp256r1) ελλειπτική καμπύλη μέσω του εσωτερικού δημόσιου επιταχυντή κλειδί (PKA). Τα ιδιωτικά κλειδιά δεν αφήνουν ποτέ το ασφαλές σύστημα και είναι άγνωστα/απρόσιτα σε κανέναν, ούτε καν στον χρήστη, ούτε στην ίδια την εφαρμογή. Αυτό σημαίνει ότι ακόμη και αν ο πυρήνας του επεξεργαστή εφαρμογών συσκευών τεθεί σε κίνδυνο, τα κλειδιά του χρήστη παραμένουν ασφαλής! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Βαθύτερα βουτιά στο ασφαλές θυλάκιο
Κατά τη διαδικασία κατασκευής τσιπ παράγεται UID (Μοναδικό Αναγνωριστικό) από το TRNG και αποθηκεύεται στο PKA. Δεν μπορεί να διαβαστεί και ποτέ δεν εγκαταλείπει το PKA, έτσι είναι άγνωστο ακόμη και στον επεξεργαστή ασφαλών θυλάκων και στο λειτουργικό σύστημα επεξεργαστών ασφαλούς θύλακα (SepOS). Αυτό το UID είναι ένας τυχαίος αριθμός που είναι μοναδικός ανά συσκευή και χρησιμοποιείται για την κρυπτογράφηση όλων των άλλων κλειδιών που θα δημιουργηθούν στο μέλλον σε αυτήν τη συσκευή. Ο τρόπος με τον οποίο λειτουργεί έχει ως εξής: η εφαρμογή θα ζητήσει από το SepOS να δημιουργήσει ένα νέο ζεύγος κλειδιών, το SepOS θα δώσει εντολή στο Secure Enclave TRNG να δημιουργήσει ένα κλειδί και να το κρυπτογραφήσει (χρησιμοποιώντας το UID). Η εφαρμογή μπορεί στη συνέχεια να ζητήσει από το SepOS να αποκρυπτογραφήσει το κλειδί και να υπογράψει ένα μήνυμα χρησιμοποιώντας το κλειδί που δημιουργήθηκε. Κατά τη διάρκεια όλης αυτής της διαδικασίας το παραγόμενο κλειδί δεν αφήνει το θυλάκιο και είναι άγνωστο σε κανέναν. (Για περισσότερες πληροφορίες σχετικά με το Secure Enclave, παρακαλούμε δείτε[εδώ](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). Ο τρόπος κατασκευής και λειτουργίας του Secure Enclave, μαζί με το γεγονός ότι είναι στόχος για επιθέσεις από ισχυρές εταιρείες και κυβερνήσεις σε όλο τον κόσμο, είναι ο λόγος για τον οποίο η ασφάλειά της ξεπερνά τα τυπικά πορτοφόλια υλικού.
## Περίληψη Λογαριασμού
Η δύναμη του Braavos ως έξυπνου συμβολαίου βασισμένου στο πορτοφόλι πάνω από το StarkNet, είναι ότι αποτελείται από δύο πυλώνες:
* Η πλευρά του πελάτη (π.χ. η εφαρμογή) που επιτρέπει στον χρήστη να εξετάζει / υπογράφει συναλλαγές και να τις αποστέλλει στην αλυσίδα. * Η πλευρά on-chain - έχει ένα έξυπνο συμβόλαιο λογαριασμού που μπορεί να τρέξει αυθαίρετη λογική; και ειδικότερα στην περίπτωσή μας, εκτελέστε αυθαίρετη υπογραφή**επαλήθευσης**λογική. Η εφαρμογή υπογράφει τη συναλλαγή χρησιμοποιώντας τη μονάδα ασφαλείας κινητής συσκευής και στη συνέχεια την αποστέλλει στο συμβόλαιο λογαριασμού on-chain που μπορεί να την επαληθεύσει. Όπως αναφέρθηκε παραπάνω, η μονάδα ασφαλείας σε τηλέφωνα iPhones και Android χρησιμοποιεί μια κρυπτογραφία που ονομάζεται NIST-P256 (secp256r1), το οποίο δεν είναι συμβατό με οποιοδήποτε σημαντικό κρυπτογραφικό σύστημα blockchain, συμπεριλαμβανομένου του StarkNet. Αυτός είναι ο λόγος που έχουν ένα έξυπνο λογαριασμό συμβολαίων on-chain ότι όλες οι συναλλαγές περνούν και μπορούν να τρέξουν αυθαίρετη λογική, είναι ζωτικής σημασίας για τη χρήση αυτών των HSMs για iPhones και τηλέφωνα Android. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Βιομετρικά
Πώς ο χρήστης εγκρίνει μια συναλλαγή μέσω πορτοφόλι Braavos? Μπορεί μια κακόβουλη εφαρμογή απλά να υπογράψει αυτόματα μια συναλλαγή χωρίς τη συγκατάθεση του χρήστη? Όχι!! Το δροσερό πράγμα για την ενσωματωμένη μονάδα ασφαλείας σε κινητές συσκευές, όπως το Secure Enclave, είναι ότι υποστηρίζει την εγγενώς βιομετρική εξακρίβωση της ταυτότητας του χρήστη. Αυτό σημαίνει ότι ακόμη και η πραγματική έγκριση για την υπογραφή μιας συναλλαγής γίνεται απευθείας σε σχέση με το Secure Enclave. Η έγκριση δεν περνά από την εφαρμογή και ο χρήστης θα πρέπει να εγκρίνει τη συναλλαγή με το δακτυλικό του αποτύπωμα ή την ταυτοποίηση προσώπου.
## Ανάκτηση
Αν κανείς δεν γνωρίζει το ιδιωτικό κλειδί, τι συμβαίνει αν η συσκευή χαθεί ή γίνει bricked? Πώς μπορεί ο χρήστης να κερδίσει πίσω τον έλεγχο του λογαριασμού? Στο Braavos, ένας λογαριασμός θα έχει στην πραγματικότητα 2 δημόσια κλειδιά - το κλειδί Hardware Signer, το οποίο θα χρησιμοποιηθεί για την υπογραφή όλων των συναλλαγών, και το κλειδί που προέρχεται από τη φράση του σπόρου που μπορεί να υπογράψει μόνο μία συναλλαγή - ένα «Αίτημα για την αφαίρεση του Hardware Signer». Αυτό το αίτημα δεν θα εκτελεστεί αμέσως, αλλά μάλλον θα έχει μια χρονική καθυστέρηση 4 ημερών (παραμετροποιήσιμη) για να επιτρέψει στο χρήστη να χρησιμοποιήσει την Υπογραφή υλικού για να ακυρώσει μια τέτοια αίτηση. Αυτό σημαίνει ότι αν η συσκευή κλαπεί/χαθεί/χαθεί, οι χρήστες θα είναι ακόμα σε θέση να ανακτήσουν το λογαριασμό τους εντός 4 ημερών. Ωστόσο, αν η Φράση των Σπόρων τους κλαπεί και ένας εισβολέας εκδίδει μια αίτηση για την αφαίρεση του Hardware Signer, ο χρήστης αυτόματα (και επανειλημμένα) θα λάβει ειδοποίηση για την κινητή συσκευή του και θα είναι σε θέση να ακυρώσει το αίτημα και να κρατήσει όλα τα περιουσιακά στοιχεία ασφαλή.
## Summary
Η λειτουργία Hardware Signer προσφέρει τόσο επίπεδο ασφάλειας τελευταίας τεχνολογίας για χρήστες κρυπτονομισμάτων όσο και η εμπειρία των χρηστών χρησιμοποιούνται από το web2. Με αυτή την έννοια, η υπογραφή μιας συναλλαγής είναι τόσο ομαλή και ανησυχούν δωρεάν όσο η πληρωμή με την Apple/Google αμοιβή. Αυτό είναι μόνο ένα, αλλά προεξέχει, παράδειγμα της δύναμης του StarkNet, έξυπνο συμβόλαιο που βασίζεται πορτοφόλι (a. .a Περίληψη Λογαριασμού) και το νέο χώρο σχεδιασμού που επιτρέπει. Προβλέπουμε την ανάπτυξη ολοένα και περισσότερων εκκολαπτόμενων δυνατοτήτων που θα οδηγήσουν τη βιομηχανία κρυπτονομισμάτων σε ένα καλύτερο και πιο περιεκτικό μέλλον, παρέχοντας στους νέους και τους υπάρχοντες χρήστες εξίσου με την απρόσβλητη ασφάλεια σε συνδυασμό με τα ασυμβίβαστα UX.