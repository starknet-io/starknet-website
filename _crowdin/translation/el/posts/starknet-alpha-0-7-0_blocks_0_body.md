### TL;DR

* Το StarkNet Alpha 0.7.0 κυκλοφόρησε στο Goerli; γεμάτο βελτιώσεις
* Τα Συμβόλαια μπορούν τώρα να αναβαθμιστούν χρησιμοποιώντας το Μοτίβο Αναβάθμισης Μεσολάβησης
* Συμβάσεις μπορούν τώρα να εκπέμπουν γεγονότα
* Υποστήριξη για το πολυαναμενόμενο αριθμό μπλοκ και μπλοκ σύστημα χρονοσήμανσης κλήσεις

### Εισαγωγή

Είμαστε στην ευχάριστη θέση να κυκλοφορήσει Alpha 0.7.0, μια έκδοση γεμάτη με νέα χαρακτηριστικά και βελτιώσεις. Ένα από τα καλύτερα διεγερτικά της StarkNet τους τελευταίους μήνες ήταν η αυξημένη συμμετοχή της κοινότητας στη διαμόρφωση του μέλλοντος του StarkNet. Αυτή η έκδοση καλύπτει μερικές από τις καυτές ανάγκες της κοινότητας.

#### Αλλαγές στη Σύμβαση Ονόματος

Ο παρατηρητικός αναγνώστης μπορεί να είχε παρατηρήσει ότι η προηγούμενη απελευθέρωση StarkNet Alpha ονομάστηκε Alpha 4, ενώ τώρα κυκλοφορεί Alpha 0.7.0. Αποφασίσαμε να παραλείψουμε τον αφιερωμένο αριθμό έκδοσης του Alpha και να βασιστούμε μόνο στην σχετική έκδοση cairo-lang.

### Νέα Χαρακτηριστικά

#### Αναβάθμιση Συμβολαίου

Το[Μοτίβο Αναβάθμισης Διακομιστή Μεσολάβησης του OpenZeppelin](https://docs.openzeppelin.com/upgrades-plugins/1.x/proxies)υποστηρίζεται πλέον πλήρως για αναβαθμίσεις συμβάσεων στο StarkNet. Το πρότυπο μεσολάβησης είναι η κοινή μέθοδος για να ενεργοποιήσετε τις αναβαθμίσεις συμβάσεων πάνω από το Ethereum. Το Alpha 0.7.0 επιτρέπει αυτό το μοτίβο μέσω του StarkNet.

Κάναμε ένα σύντομο[σεμινάριο](https://starknet.io/docs/hello_starknet/default_entrypoint.html)για να αποδείξουμε μια βασική εφαρμογή του μοτίβου, και το OpenZeppelin είναι ήδη σκληρά στην εργασία για την εφαρμογή μιας τυποποιημένης σύμβασης για το προσεγγιστικό πρότυπο· δείτε το πρωτότυπο[](https://github.com/OpenZeppelin/cairo-contracts/pull/129).

#### Αποκλεισμός αριθμού και φραγής χρονοσήμανσης

Η Alpha 0.7.0 προσθέτει δύο νέες κλήσεις συστήματος που έχουν ζητήσει πολλοί προγραμματιστές. Αυτές οι κλήσεις επιτρέπουν σε μια σύμβαση να έχει πρόσβαση στον αριθμό block και στο block timestamp. Ο αριθμός μπλοκ επιστρέφει τον αριθμό του τρέχοντος μπλοκ που εκτελέστηκε. Η χρονοσφραγίδα μπλοκ επιστρέφει τη χρονοσήμανση που δίνεται από το Sequencer κατά τη δημιουργία του μπλοκ.

Μπορείτε να δείτε ένα παράδειγμα για το πώς να χρησιμοποιήσετε αυτά τα χαρακτηριστικά στο[tutorial](https://starknet.io/docs/hello_starknet/more_features.html#block-number-and-timestamp).

#### Συμβάντα

Έκπληξη! Ένα χαρακτηριστικό που είχε προγραμματιστεί για μια μελλοντική έκδοση έχει εισέλθει σε αυτό νωρίτερα.

Οι συμβάσεις της StarkNet υποστηρίζουν τώρα τον καθορισμό και την εκπομπή συμβάντων, επιτρέποντάς τους να εκθέσουν πληροφορίες εκτέλεσης για εφαρμογές εκτός αλυσίδας που καταναλώνουν. Οι προγραμματιστές του Ethereum θα βρουν τη σημασιολογική και σύνταξη πολύ παρόμοια με την Αλληλεγγύη. Μπορείτε να διαβάσετε το[documentation](https://starknet.io/documentation/events/), ή να ακολουθήσετε το[tutorial](https://starknet.io/docs/hello_starknet/events.html), που εξηγεί αυτό το χαρακτηριστικό.

#### Αφαιρέθηκε %bοδηγία uiltins

Η οδηγία %builtin δεν χρειάζεται πλέον στα συμβόλαια του StarkNet. Αυτή η αλλαγή ακολούθησε μια συζήτηση της κοινότητας σχετικά με το[μοτίβο επέκτασης της σύμβασης](https://community.starknet.io/t/contract-extensibility-pattern/210)στο[StarkNet Shamans](https://community.starknet.io/). Απλοποιεί σημαντικά τη χρηστικότητα αυτού του μοτίβου επεκτασιμότητας.

Για παράδειγμα, το ακόλουθο συμβόλαιο θα αλλάξει από:

```
%lang starknet

# Αυτή είναι η οδηγία "%builtins".
# Δεν χρειάζεται πια.
%builtins range_check

@view
func add(x : felt, y : felt) -> (res : felt):
επιστροφή (res=x + y)
τέλος
```

Σε αυτό:

```
%lang starknet
@view
func add(x : felt, y : felt) -> (res : felt):
επιστροφή (res=x + y)
τέλος
```

Μπορείτε να δείτε τα[ERC-20](https://github.com/OpenZeppelin/cairo-contracts/tree/main/contracts/token)τυπικά συμβόλαια, τα οποία χρησιμοποιούν το νέο μοτίβο.

#### Εξωτερικές λειτουργίες Συστοιχίες υποστήριξης των δομών

Το Alpha 0.7.0 υποστηρίζει τη διέλευση και την επιστροφή των σειρών δομών σε εξωτερικές λειτουργίες. Αυτή η πρόσθετη λειτουργία επιτρέπει στις Συμβάσεις Λογαριασμού να υποστηρίζουν καλύτερα[multicalls](https://github.com/OpenZeppelin/cairo-contracts/pull/73#discussion_r753535751).

Το Multicall είναι ένα ισχυρό χαρακτηριστικό της Περίληψης Λογαριασμού που επιτρέπει σε έναν λογαριασμό να κάνει πολλαπλές κλήσεις σε μια ενιαία συναλλαγή. Μια προφανής περίπτωση χρήσης είναι η δημιουργία μιας**ενιαίας συναλλαγής**που καλεί το επίδομα και στη συνέχεια transferFrom.

Ανυπομονούμε να δούμε τι κάνει η κοινότητα με αυτό.

#### Βελτιώσεις στο StarkNet CLI

**Υποστήριξη για εκκρεμή μπλοκ**

[Αναμονή Κύβοι](https://starknet.io/documentation/block-structure-and-hash/#pending_block)εισήχθησαν[](https://community.starknet.io/t/cairo-v0-6-2-api-change-pending-block/195)στην τελευταία δευτερεύουσα έκδοση (v0.6.2) και προσέφεραν ταχύτερες επιβεβαιώσεις στις συναλλαγές. Η έκδοση αυτή περιλαμβάνει υποστήριξη για την αναζήτηση αυτών των τμημάτων μέσω του StarkNet CLI.

Για να το χρησιμοποιήσετε, σε κάθε εντολή CLI που παίρνει το block_number ως όρισμα (contract_call/get_block/get_code/get_storage_at), μπορούμε να αναρωτηθούμε για το StarkNet σε σχέση με το μπλοκ που εκκρεμεί καθορίζοντας block_number=pending.

**Υποστήριξη Συμβάσεων Λογαριασμού**

Το StarkNet χρησιμοποιεί την αφαίρεση λογαριασμού, δηλαδή όλοι οι λογαριασμοί υλοποιούνται ως έξυπνες συμβάσεις. Οι πρώτες υλοποιήσεις των συμβολαίων λογαριασμού έγιναν από τον[Argent](https://github.com/argentlabs/argent-contracts-starknet)και[OZ](https://github.com/OpenZeppelin/cairo-contracts/blob/main/contracts/Account.cairo), αλλά αναμένουμε πολλά περισσότερα να έρθουν.

Στο StarkNet, όλες οι συναλλαγές πρέπει να περάσουν από συμβόλαιο λογαριασμού και το CLI επιτρέπει πλέον την αλληλεπίδραση με την StarkNet Alpha απευθείας μέσω συμβολαίων λογαριασμού. Δείτε το[φροντιστήριο](https://starknet.io/docs/hello_starknet/account_setup.html#setting-up-a-starknet-account)για το πώς να το ρυθμίσετε.

Παρόμοια λειτουργικότητα προστέθηκε επίσης στο[StarkNet.py](https://github.com/software-mansion/starknet.py/)και στο[Νείλο](https://github.com/OpenZeppelin/nile)τον τελευταίο μήνα.

#### L1<>L2 Μηνύματα στο πλαίσιο δοκιμών

Το Alpha 0.7.0 εισάγει τον Postman. Το Postman επιτρέπει στους προγραμματιστές να χρησιμοποιούν το πλαίσιο δοκιμών για να δοκιμάσουν πιο περίπλοκες ροές.

Σε υψηλό επίπεδο, η Επιτροπή επισημαίνει ότι η StarkNet είναι υπεύθυνη για τη διαβίβαση μηνυμάτων από το L1 στο L2 και το L2 στο L1. Διασφαλίζει ότι τα μηνύματα που αποστέλλονται μέσω της σύμβασης ανταλλαγής μηνυμάτων αλληλεγγύης θα εμφανίζονται στον προορισμό της σύμβασης StarkNet και τα μηνύματα που αποστέλλονται από σύμβαση StarkNet θα εμφανίζονται στο μήνυμα της Αλληλεγγύης.

#### Και Περισσότερα Χαρακτηριστικά

Το Alpha 0.7.0 παρέχει πολλά περισσότερα χαρακτηριστικά και αλλαγές, όπως η προσθήκη μιας αποδοτικής λειτουργίας τετραγωνικής ρίζας στην κοινή βιβλιοθήκη μαθηματικών. Μια πλήρης λίστα εμφανίζεται στο[αρχείο αλλαγών](https://github.com/starkware-libs/cairo-lang/releases/tag/v0.7.0).

### Επόμενο Πάνω?

Η αρχική υποστήριξη[Μηχανισμού Χρέωσης](https://community.starknet.io/t/fees-in-starknet-alpha/286/29)θα κυκλοφορήσει σε εβδομάδες ως υποέκδοση του StarkNet.

### Περισσότερες Πληροφορίες?

[starknet.io](https://starknet.io/): για όλες τις πληροφορίες του StarkNet, μαθήματα και ενημερώσεις.

[StarkNet Discord](https://discord.gg/uJ9HZTUk2Y): συμμετάσχετε για να λάβετε απαντήσεις στις ερωτήσεις σας, να λάβετε υποστήριξη από τον προγραμματιστή και να γίνετε μέρος της κοινότητας.

[StarkNet Shamans](https://community.starknet.io/): συμμετάσχετε για να ακολουθήσετε (και να συμμετάσχετε!) στις ερευνητικές συζητήσεις του StarkNet.