### TL;DR

* 我们正在分享一份详细的 Regenesis 计划，该计划是通过与 Starknet 社区的广泛讨论而制定的。 特别感谢 Kuba@SWM。
* Regenesis 将在 Cairo 1.0 发布后发布，通过允许更简单、更安全的 Starknet 合约来使系统更加安全
* 用户应该准备在过渡阶段更新他们的钱包
* 开发人员将被要求将其合约移植到开罗 1.0

### 导 言

Starknet Alpha 正在迈向 Regenesis，这是迈向生产的重要一步。 在此更新中，我们希望分享有关 Regenesis —[Cairo 1.0](https://medium.com/starkware/cairo-1-0-aa96eefb19a0)— 的主要动机的更多详细信息，并开始解释它对用户和开发人员的要求。 Regenesis 之后，Starknet 将仅适用于基于 Cairo 1.0 的合约，并将从具有现有状态的新创世块开始。

Regenesis 对用户有何要求？ 他们的钱包的简单更新。 Starknet dapp 的构建者需要什么？ 将他们的合约移植到 Cairo 1.0，并遵循简单的升级指南。 具体来说，不会从干净状态重新启动，我们将保留相同的 Starknet 实例，这意味着不需要迁移**。**

Regenesis 计划是完全保留应用程序的状态，并且不会导致应用程序出现任何停机时间。 因此，遵循我们提供的指南的应用程序将能够立即在 Starknet Alpha 主网上启动，而不会在再生过程中对其操作和用户产生任何干扰。我们致力于与社区合作并提供所需的所有支持使这个过程尽可能顺利。

我们正在与社区进行广泛讨论，其中包括 Software Mansion 团队的重要建议，从而确定了这一方向。

### 为什么要复兴？

#### 开罗 1.0 和塞拉

Regenesis 的主要动机是利用 Cairo 1.0 带来的新可能性，即定序器 DOS 保护、审查抵抗和 Gas 计量，这对于 Starknet 作为去中心化网络至关重要。

Cairo 1.0将确保每笔交易都可以被证明。 这将允许 Starknet 将恢复的交易包含在区块中，并生成其执行的证明。 该机制将允许定序器在执行恢复的交易时获得报酬，从而增强 DOS 对恶意行为者的保护。 此外，Cairo 1.0将支持gas计量，这将使Starknet能够过渡到更直观的费用市场。 最后，这将允许 Starknet 从 L1 引入强制交易，并将增强网络的抗审查能力。

为了获得这些好处，Cairo v0 和 Cairo 1.0 合约不能混合使用。 如果我们有一些 Cairo v0 合约，则无法证明错误的陈述是错误的，也无法进行 Gas 追踪。 为此，我们需要从 Starknet 状态完全淘汰 Cairo v0 代码，从而实现 Regenesis。

**Regenesis之后，我们将拥有一个完全基于Cairo 1.0的Starknet系统。**

#### 简化代码和协议

Starknet 虽然仍处于 Alpha 阶段，但已经经历了许多变化。 迄今为止的每个版本都改变了 Starknet 操作系统、区块和交易结构。 这导致一些代码已过时。 然而，完整节点和基础设施提供商（例如索引器和状态探索器）需要了解并实施 Starknet Alpha 版本的所有过去行为，以便与状态进行不信任同步。 如果没有 Regenesis，这种负担可能会成为考虑为 Starknet 构建此类服务的开发人员的主要威慑。

因此，在投入生产之前，作为实现具有许多基础设施工具实现的去中心化世界的准备，我们打算降低协议的复杂性。 我们将通过不需要未来的基础设施执行任何 Starknet 0.x 代码并将过渡期后的第一个块标记为创世点来实现这一目标。

### 文再生？ 总体时间线

Regenesis 将在 Cairo 1.0 发布后发布，计划于 2022 年底发布。 2023 年第一季度，Starknet 将进行更新以支持 Cairo 1.0，我们的目标是在第一季度末迁移到完全基于 Cairo 1.0 的网络。

**用户和应用程序必须在此期间进行转换。**

![](/assets/1_ef85shzd2uudwex-cy8wdg-1.png)

### 那么我需要知道什么？

应用程序开发人员需要了解 Regenesis 的以下方面：

1. 确保您的合同已准备好升级。 该计划的全部技术细节已在[Starknet 社区论坛](https://community.starknet.io/t/regenesis-state-migration-current-suggestion/2080)中分享。 一旦细节最终确定，我们将分享一个简洁的指南。
2. 确保您已准备好将代码移植到 Cairo 1.0。 请参阅下一节了解所有最新详细信息。

#### 将您的合约移植到 Cairo 1.0

Cairo 1.0 为 Starknet 开发者带来了巨大的希望。 对现有 Cairo 的改进，将更安全、更好、更容易地编写合约，具有改进的语法、成熟的类型系统（本机 uint256 有人吗？）等等。 开发人员需要将其现有的 Starknet 合约移植到 Cairo 1.0 语法。 然而，由于逻辑和代码结构将保持不变，因此与最初开发应用程序所需的工作相比，这项工作预计可以忽略不计。

在这种情况下，值得注意的是，您可以选择重新审核应用程序的 Cairo 1.0 版本。 如果您的应用程序过去已经经过审核，则重新审核过程将更加便宜且更直接，因为审核员已经熟悉您的逻辑。

我们将在 2022 年第四季度发布有关 Cairo 1.0 的所有文档以及教程和研讨会。

### 我是 Starknet 用户。 我应该怎么办？

作为用户，您可能需要在再生期间执行一些操作。 至少，您必须升级您的帐户合同。 在（长达几个月的）过渡期内不这样做将导致您的帐户丢失。 根据您所使用的 Starknet 应用程序开发人员选择的升级路径，您可能需要采取额外的步骤。

我们提醒大家，Starknet 仍处于 Alpha 阶段，请用户密切关注 Starknet 和他们正在使用的应用程序的通信。 您有责任确保尽早升级到新系统。 *成为早期采用者并不总是那么容易，我们希望您尽自己的一份力量！*

### 结论

Cairo 1.0 即将到来，为 Starknet 及其开发人员提供了许多令人兴奋的好处和改进。 为了获得这些，需要网络的再生事件。 幸运的是，我们的设计使这个过程的破坏性降到最低——对于用户来说完全无缝，对于应用程序来说非常简单。

我们强烈建议您参与[社区讨论](https://community.starknet.io/t/regenesis-state-migration-current-suggestion/2080)并分享您的意见和疑虑，并及时了解作为 Starknet 上的应用程序开发人员需要采取的步骤的最新信息。