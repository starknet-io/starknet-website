## TL;DR

* Starknet-альфа-v0.11.0 виходить і проживає в Testnet
* Тепер ви можете розгорнути та взаємодіяти з Каїром 1.0 контрактами на Starknet Testnet!
* Обчислення на Starknet дешевше 5x!
* Вперше оновлення Майннету до Starknet альфа-версії v0.11,0 буде оголошено в голосуванні за управління
* Це позначає початок перехідного періоду до[Регенів](https://medium.com/starkware/starknet-regenesis-the-plan-bd0219843ef4)
* Розгортання Каїра 1. договори на Майннет будуть увімкнені лише через кілька тижнів роботи по тесту після того, як ми забезпечуємо роботу нової системи плавно.

## Вступ

Ми з радістю повідомляємо, що вже розраховано на Starknet альфа v0.11.0 живе в тесті! Чому це великий крок для Старкнета? У Starknet v0.11.0, ви можете заявити, розгорнути і запустити[Cairo 1.0](https://medium.com/starkware/cairo-1-0-is-here-7e1ac8377038)смарт контрактів. Ми також презентуємо новий системний виклик, який дозволяє здійснювати плавне перехід існуючих договорів до реалізації Каїра 1.0.

Каїр 1.0 покращує Starknet у двох різних аспектах. По-перше, це покращує досвід розвитку, пропонуючи більш багату мову програмування, яка знайомить (серед інших речей) типів/риси / помилки обробки Каїру. По-друге, Каїра 1.0 відіграє ключову роль у дорозі децентралізації Starknet: Каїр 1.0 договорів, надісланих в Starknet альфа-v0.11.0 компіляції в Sierra. Сьєрра гарантує, що кожне виконання контракту може виявитися, що є важливою власністю в децентралізованому Starknet.

Ще одне важливе покращення, яке наближається до цієї версії - зменшення витрат на 5х. Це дозволить Starknet більш зручним для обчислювальних програм. Більше деталей нижче.

## Готові до Регенезису

Starknet альфа v0.11.0 знаменує початок періоду Переходу, що дозволить підготовку до Starknet-Regenesis. План Регенезу Starknet:[був опублікований](https://medium.com/starkware/starknet-regenesis-the-plan-bd0219843ef4)кілька місяців тому, і він зосереджений на переході від системи, заснованої на Каїрі 0 в систему, заснованій на Каїрі 1.0.

У період переходу існуючі договори в Каїрі 0 (якщо вони можуть оновитися) мають можливість зберегти свою адресу та сховище, і легко переходить їх реалізацію Каїру 1. (див. наступний розділ).

Як користувач Starknet, це означає, що вам потрібно оновити гаманець лише коли нова Каїра 1. реалізація вашого облікового запису була опублікована (ви зможете зробити це в будь-який час до самого Регенезису). Не знайдено жодного спаду, всі застосунки системи продовжуватимуть працювати як звичайно.

Після того, як регенез зупинить Starknet контракти, що залишилися в Каїрі 0, на всій системі. Це буде добре повідомлено заздалегідь, і розробникам буде надано достатньо часу для міграції своїх контрактів. Очікується, що період перехідного періоду триватиме кілька місяців, а розробники dapp вже можуть почати міграцію своєї реалізації до Каїра 1.0. У кінець періоду переходу будуть траплятися Регенезиси.

## Плавна міграція до Каїру 1.0

З переходом до Каїру 1.0, наявні договори Каїра 0 є застарілими і більше не будуть підтримуватися Regenesis. Щоб оновити Каїр 0 контрактів, щоб продовжити дію, навіть після Регенезу, і зберегти конструкцію стану до цього часу, ми додали новий системний виклик - ['replace_class'](https://docs.starknet.io/documentation/starknet_versions/upcoming_versions/#replace_class_syscall). Покращення контрактів не має проблем з оновленням до Каїру 1. реалізація, але основний проксі (договір, який має фактичну стан) все одно застрягатиме в реалізації Каїра 0. syscall \`replace_class\` вирішує цю проблему, дозволяючи проксі-контракт на заміну основного класу, і. . зберегти ту ж адресу і сховище, але замінити реалізацію.

## Обчислення тепер 5х чіп!

Сьогодні тарифні збори в Starknet мають два основних компоненти: обчислення та мережі даних. Обчислювальний елемент комісії за транзакцію Starknet визначається граничною вартістю підтвердження своїх доказів на L1 (див.[документацію](https://docs.starknet.io/documentation/architecture_and_concepts/Fees/fee-mechanism/)для більш докладної інформації).

Спочатку наші 200m Каїр кроки в доказі того, що вимагає 5м газів для перевірки, призвели до наївної оцінки 0,05 газу за Каїрський крок. З того часу ми перейшли до[рекурсивних доведення](https://medium.com/starkware/recursive-starks-78f8dd401025)які дозволяють значно знизити вартість перевірки L1 (тільки корінь дерева рекурсії сягає L1). Настав час оновити наші початкові оцінки відповідно - ціна кожного Каїра на L2 зменшиться на 5х, і тепер коштуватиме 0. 1 газ.

Це зниження витрат є значним для обчислювальних інтенсивних програм, наприклад, контракти з нерідними підписами. Прості транзакції будуть бачити незначне зниження витрат (~ 5%). У майбутніх версіях ми будемо обробляти другий компонент: витрати даних за ланцюговим ланцюгом. Як тільки альтернативи даних в ланцюгах познайомляться з Starknet (aka Volition), зменшення витрат буде відчуватися по всій дошці.

## Starknet управління першим голосуванням

Виконується перша фаза Starknet управління (тут детальна інформація[](https://medium.com/starknet-foundation/starknets-governance-first-phase-4614c7566f40)). Зараз учасникам спільноти вдається взяти участь у формуванні Starknet через додатковий канал, а саме голосуванні за зміни протоколу.

Початкові фази управління Starknet будуть фокусуватися на оновленні протоколу Starknet. Кожне оновлення Starknet буде спочатку розгорнуто в тестовій мережі; У виборців буде 6-денний період вивчення та тестування оновленої версії, як вона працює на Goerli. Протягом цього часу буде відкрита пропозиція з знімками, і спільнота може голосувати за те, чи затвердити нову версію розгортання в Майннеті.

Якщо пропозиція набирає більшість голосів «ТАК» протягом 6-денного періоду голосування, пропозиція проходить і Starknet Mainnet будуть відповідно оновлені.

Starknet альфа-v0.11.0 є першою версією Starknet, котра голосує. Starknet-альфа-версії v0.11.0 голос буде відкритий на 6 днів, починаючи з розгортання в тестах.

Відповідні посилання:

* [Знімки](https://snapshot.org/#/starknet.eth/proposal/0x00889bc468509610e516e8602f00b21ca8c32466dd4f0140eca38becb7f40bef)
* [Сторінка виявлення делегування](https://delegate.starknet.io/)
* Starknet-кнопка для обговорення v0.11.0 на форумі[Спільнота](https://community.starknet.io/t/proposal-starknet-alpha-v0-11-0/50334)

## Каїр 1.0 і Сьєрра

Сьєрра (**S**afe**I**nt**e**rmediate**r**ep**r**esent**a**tion) є проміжним представленням, яке компілює в Каїрській асамблеї (CASM). Попередньо Starknet alpha v0.11.0, розробник скомпілював в Cairo 0 в CASM та відправив результат до послідовника Starknet. У Каїрі 1.0 розробники компілюють свій код до Сьєрри і відправляють це проміжне представлення послідовному. Сиквенсер буде скомпілювати його в CASM. Сьєрра гарантує компіляцію "безпечного CASM", тобто підмножину CASM, який не може провалитися, роблячи кожне виконання можливим. Це гарантує, що послідовник зможе стягувати плату навіть за зворотні транзакції, захищаючи від DOS. Для отримання додаткової інформації дивіться[документацію](https://docs.starknet.io/documentation/architecture_and_concepts/Contracts/cairo-1-and-sierra/).

![](https://miro.medium.com/v2/resize:fit:1400/0*KsAwaJTIsOuCsJIe)

Starknet alpha 0.11.0 використовуватиметься[Каїр 1.0-alpha.6 версія](https://github.com/starkware-libs/cairo/releases/tag/v1.0.0-alpha.6). Ця версія знаходиться поблизу[збігу функцій](https://github.com/starkware-libs/cairo/blob/main/docs/FEATURE_PARITY.md)з Каїром 0, з усіма викликами систему Starknet.

Зауважте, що послідовник Starknet використовує фіксовану версію компілятора, це означає, що мовні покращення можуть бути недоступними безпосередньо в Starknet, і будуть доступні тільки після оновлення версії Starknet. Зокрема, вдосконалення, які впливають на Каїр 1. → Сьєрра-компіляція може набути чинності негайно, зміни до Сьєрра-→ компілятора CASM (див. у[документації](https://docs.starknet.io/documentation/architecture_and_concepts/Contracts/cairo-1-and-sierra/)для більш докладної інформації) необхідно чекати оновлення Starknet.

## Що таке іще нове?

### Новий тип транзакції — декрет v2

Ми додаємо[новий тип транзакцій](https://docs.starknet.io/documentation/architecture_and_concepts/Blocks/transactions/#declare_v2_cairo_1_0)за оголошенням карети 1.0 класів.

Ця нова версія транзакцій \`declare\` схожа на існуючу \`declare\`, з двома важливими відмінностями:

* Об’єкт, який зараз відправляється, представляє Сьєрру, а не КСМ, тобто семантику класу визначається представником Сьєрри.
* Користувач також підписує хэш компільованого класу. Це дуже важливий крок до наближення, доки буде перевірено як частина Starknet OS.

Для детальнішої інформації дивіться[документацію](https://docs.starknet.io/documentation/starknet_versions/upcoming_versions/#what_to_expect).

З точки зору розробника, досвід залишається однаковим. Після написання вашого коду в Каїрі 1.0, ви можете використати CLI для оголошення класу.

**Зверніть увагу на те, що транзакція \`declare v2\` не буде прийнята в Starknet Mainnet. Після періоду експерименту в тестовій мережі новий тип транзакцій буде увімкнено в Mainnet, а класи Cairo 1.0 стануть доступними.**

### Посейдон тут

[Poseidon](https://www.poseidon-hash.info/)— це сім'я геш-функцій, розроблена для створення дуже ефективних алгебраїчних схем. Таким чином, вони можуть бути дуже корисними для систем доведення ZK, таких як Контрагенти і SNARK. Станом на адресу Starknet-альфа v0.11.0, розробники зможуть використовувати Poseidon. Крім того, деякі хеш-розрахунки, які є частиною протоколу Starknet, будуть переходити до Poseidon (зокрема, хеша класу, скомпільований клас хеш і частини вашого занять будуть використовувати Poseidon, див.[документацію](https://docs.starknet.io/documentation/starknet_versions/upcoming_versions/#poseidon_hash)для більш докладної інформації). В майбутньому, більше внутрішніх компонентів перейдуть до використання функції хешування Poseidon.

Точну версію та параметри, які використовуються в Starknet, можна знайти[тут](https://docs.starknet.io/documentation/architecture_and_concepts/Hashing/hash-functions/#poseidon_hash).

### Інші зміни

Як і попередні версії Starknet, оновлення також має наслідки для наших API та інших компонентів низького рівня. Нижче ми перерахуємо ті та вписуємо конкретні зміни, які було зроблено:

* v0 invoke/declare транзакції більше не підтримуються
* L1→L2 повідомлення тепер потрібно[комісія](https://docs.starknet.io/documentation/architecture_and_concepts/L1-L2_Communication/messaging-mechanism/#l1-l2_message_fees). Тобто, повідомлення, відправлені в нульовій платі, не будуть оброблені послідовником Starknet
* Формат даних на ланцюжку[змінено](https://docs.starknet.io/documentation/architecture_and_concepts/Data_Availability/on-chain-data/#on_chain_data_post_v0_11_0)
* [Зміни API](https://docs.starknet.io/documentation/starknet_versions/upcoming_versions/#api_changes)(не всі зміни перераховані тут, будь ласка, зверніться до документації списку вичерпних програм) :
* додав нову точку \`get_compiled_class_by_class_hash\`
* \`get_class_by_hash\` повертає дані в Каїрі 0 / Каїрі 1.0 класів (в залежності від запрошеного хешу)
* \`get_state_update\` має новий розділ для замінених класів, а декларації розділяються між класами Каїра 0 і Каїр 1 класами.
* \`estimate_fee\` і \`simulate_tx\` тепер може пропустити перевірку
* [нова](https://github.com/starkware-libs/starknet-specs/releases/tag/v0.3.0-rc1)Starknet JSON-RPC версія

## Що буде далі?

Тепер, коли була поставлена вся Каїр на 1.0 інфраструктури, можна очікувати:

* Подальші мовні вдосконалення для Каїру 1.0
* Виконання поліпшення:[як обіцяно](https://medium.com/starkware/starknet-performance-roadmap-bb7aae14c7de)ми продовжуємо рухатися вперед до істотного збільшення ТЕС. Наступним кроком у дорожній карті є перехід на[сиквенсер Rust](https://github.com/starkware-libs/blockifier), яка розроблена у відкритій під Apache 2. ліцензія. Новий сиквенсер буде використовувати[rust CairoVM](https://github.com/lambdaclass/cairo-rs)та[Papyrus](https://github.com/starkware-libs/papyrus)повний вузол, формуючи племені про продуктивність.
* Offchain[DA](https://docs.starknet.io/documentation/architecture_and_concepts/Data_Availability/on-chain-data/)! У цій версії ми обробляли обчислювальний компонент вартості транзакції. У майбутніх версіях ми будемо вирішувати витрати на дані ланцюга, які сьогодні є домінуючою вартістю для середніх транзакцій.

![](/assets/starknet-alpha-v0.11.0-diagram.png)