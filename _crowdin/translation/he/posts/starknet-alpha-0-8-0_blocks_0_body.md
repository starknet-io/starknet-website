### TL;DR

* StarkNet Alpha 0.8.0 מציג את הגרסה הראשונית של מנגנון העמלות (אופציונלי עד StarkNet Alpha 0.9.0.)
* API חדש קורא להערכת עמלת העסקה לקבלת מעקב העסקה, המאפשר נראות טובה יותר ויכולות ניפוי באגים
* שיפורי ביצועים לרצף StarkNet
* ביטול הודעה L1→L2

### הקדמה

כפי ששותף במפת הדרכים[שלנו](https://www.notion.so/starkware/StarkNet-Alpha-Features-Tentative-Roadmap-f2b8f5f25a2d4d1cb3265fb82a098c51), בעקבות התוספת האחרונה לפונקציונליות ולתכונות של StarkNet, תשומת הלב שלנו עוברת לשיפורי ביצועים ועיצוב פרוטוקולים (כולל עמלות, הפשטת חשבונות, ביזור וכו'). StarkNet Alpha 0.8.0 מתחיל בתהליך של הוספת עמלות עסקה ושיפור ביצועי הרצף.

מפת הדרכים של StarkNet כוללת מנגנון עמלות, ועל ידי התקדמות עם גרסה זו אנו מתקרבים צעד חשוב לביצועים מלאים עבור הפלטפורמה.

הוספת מנגנון העמלות היא חלק חיוני מעיצוב הביצועים של StarkNet. ללא עמלה מינימלית, אנו מסתכנים בפני אינסוף עסקאות: מה שלא יאפשר למערכת להיות ביצועית, ללא קשר לאופטימיזציות של הרצף.

### מאפיינים

#### תמיכה בתשלום

StarkNet Alpha תומך כעת בגרסה הראשונה של מנגנון העמלות. מנגנון זה חיוני אפילו בשלב מוקדם זה, ואפילו ב-Testnet, משתי סיבות עיקריות:

1. זה מאפשר למפתחים להתחיל לייעל את החוזים שלהם לפי מודל העלויות של StarkNet.
2. זהו מקביל מכריע לשיפור ביצועי המערכת, שכן הוא מונע ספאם על ידי שליחת אינספור עסקאות.

גרסה זו מציגה את הרכיבים הדרושים למפתחים כדי לשלב תשלומי עמלות בכלים ובאפליקציות שלהם. מפתחים יכולים כעת להעריך את עמלת העסקה על ידי קריאה לנקודת הקצה \`estimate_fee\` ולבצע את תשלום העמלה כחלק מביצוע העסקה.

מכיוון שתכונה זו אינה תואמת לאחור, לא נאכוף את תשלום העמלה בשלב זה, אלא רק מגרסה 0.9.0, שאמורה לצאת בעוד מספר שבועות. מעבר הדרגתי זה יאפשר למשתמשים ולמפתחים להסתגל לדגם החדש.

#### מבנה עמלות ב-0.8.0

בתאריך 0.8.0, עמלות ייגבו בהתאם למורכבות החישובית בלבד, בעוד ש-StarkWare עדיין תסבסד את עלות התקשורת L1. אנו נעדכן את מנגנון העמלות כך שיכלול את עלויות התפעול והתקשורת L1 הללו במהלך השבועות הקרובים. התשלום ייגבה באופן אטומי עם ביצוע העסקה ב-StarkNet L2. עיין בתיעוד[עמלות](https://starknet.io/documentation/fee-mechanism/)לתיאור מעמיק.

חשוב לציין שאנו נעבוד בשיתוף פעולה הדוק עם קהילת המפתחים כדי לצבוט ולפתח את מנגנון העמלות ככל ש-StarkNet מתפתח.

#### ברז L2 Goerli ETH

השקנו את[L2 Goerli ETH Faucet](https://faucet.goerli.starknet.io/)כדי לאפשר למשתמשים לשלם עמלות ב-Testnet. ברז זה שולח כמויות קטנות של L2 Goerli ETH לכתובת החשבון שלך ב-StarkNet Goerli שבה תוכל להשתמש לתשלום עמלת העסקה.

#### Trace API

הוספנו את היכולת לאחזר מעקב ביצוע של עסקה ל-API של StarkNet. בתוך עקבות העסקה, כל השיחות הפנימיות גלויות, מלוות במידע כמו משאבי ביצוע שנצרכו, ערך החזרה, אירועים שנפלטו והודעות שנשלחו. קריאה חדשה זו מפשטת את הבנת התנהגות החוזה או ניפוי באגים בעסקאות. בנוסף, כלים כגון[Voyager](https://voyager.online/)או[StarkTx](https://starktx.info/)יכולים לשלב נתונים אלה; לספק למשתמשים ניתוח מפורט יותר, במיוחד עבור אינטראקציה עם חוזה חשבון.

כדי להשיג את המעקב, אתה יכול להשתמש ב-\`get_transaction_trace\` ב-CLI של StarkNet. כדי לראות דוגמה לשימוש בו, עיין במדריך[](https://www.cairo-lang.org/docs/hello_starknet/cli.html?#get-transaction-trace).

#### ביטול הודעה

תכונה נוספת של גרסה זו היא היכולת לבטל הודעות L1→L2. למה זה שימושי? תארו לעצמכם תרחיש שבו משתמש מעביר נכס מ-L1 ל-L2. הזרימה מתחילה בכך שהמשתמש שולח את הנכס לגשר של StarkNet ויצירת הודעות L1→L2 התואמת. כעת, תארו לעצמכם שצריכת ההודעות L2 לא פועלת (זה עלול לקרות בגלל באג בחוזה קהיר של dApps). זה עלול לגרום למשתמש לאבד את המשמורת על הנכס שלו לנצח.

כדי להפחית סיכון זה, אנו מאפשרים לחוזה שיזם את הודעת L1→L2 לבטל אותו - לאחר שהכריזו על הכוונה לעשות זאת והמתנה פרק זמן מתאים (ראה תיעוד[](https://starknet.io/l1-l2-messaging/#cancellation)).

### שיפורי ביצועים

גרסה זו מקטינה משמעותית את הזמן שסיקוונסר צריך לבצע זרם של עסקאות נכנסות בקהיר.

זה רק הצעד הראשון! אבן הדרך הגדולה הבאה שלנו בביצועים, שתוצג בקרוב (0.9.0), היא ביצוע מקביל של הרצף, וצפויות עוד אופטימיזציות רבות בהמשך הדרך.

### מה עכשיו?

קרא את התיעוד הטכני[כאן](https://starknet.io/documentation/fee-mechanism/).

עבור אל[starknet.io](https://starknet.io/), לקבלת כל המידע, התיעוד, ההדרכות והעדכונים של StarkNet.

הצטרף ל[StarkNet Discord](https://discord.gg/uJ9HZTUk2Y)לתמיכה במפתחים, הכרזות של מערכות אקולוגיות והפיכה לחלק מהקהילה.

בקר ב[StarkNet Shamans](https://community.starknet.io/)כדי להישאר מעודכן ולהשתתף בכל דיוני המחקר של StarkNet.