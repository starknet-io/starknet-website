# איך StarkNet מחוללת מהפכה בחתימת קריפטו
## *החוצה עם המפתחות המורכבים, פנימה עם זיהוי פנים. תיאור מקרה על הפשטת חשבון*
ברגע שאנשים יוכלו להשתמש בשיטות מוכרות כמו זיהוי פנים כדי לחתום על עסקאות קריפטו, נראה פריחה במשמורת עצמית. כולם יודעים שניהול הארנק שלך הוא אידיאל הקריפטו המקורי, אבל זה מפחיד, ואנשים מחבקים חילופי דברים במקום זאת. זהו מקרה בוחן כיצד פונקציונליות StarkNet הנקראת Account Abstraction נמצאת בשימוש על ידי Braavos כדי לקבל דרך אינטואיטיבית הרבה יותר להשתמש בארנק שלך.
## היכרות עם הפשטת חשבון
לאחר שערוריית ה-FTX, השאלה רלוונטית מתמיד. מדוע אנשים עדיין בוחרים לתת את הקריפטו שלהם למוסדות ריכוזיים, במקום לשמור עליו בעצמם? התשובה: עבור רוב האנשים, משמורת עצמית היא מסובכת. ביטויי זרע הם מנגנון ההתאוששות 'הגרוע-הטוב ביותר', המרתיע רבים (אפילו כמה מהדג'נים המוקשים ביותר). התשובה לאתגר הזה: הפשטת חשבון. הפשטת חשבון מאפשרת לארנקים לעמוד (ולעלות) על ציפיות ה-UX של משתמשי Web2, כגון חתימה על עסקה באמצעות Face ID או שימוש באימות דו-גורמי. זה מקל על פילוח חשבונות ומגבלות הוצאות; ובסופו של דבר מאפשר שחזור חשבון פשוט והסרת ביטוי ה-Seed ביחד. זוהי מהפכה עבור UI ו-UX.
## StarkNet
ל-StarkNet, אוסף התוקף המוביל, יש כמה מאפיינים מרכזיים שהופכים אותו לפתרון המבטיח ביותר להגדלת ה-Ethereum. בהתבסס על הוכחות STARK, הוא מספק עמלות גז נמוכות מבלי לפגוע באבטחת Ethereum. הרקורד של הוכחות STARK המניעות את StarkEx כולל 800 מיליארד דולר בנפח מסחר מצטבר, 300 מיליון עסקאות ו-90 מיליון NFTs. היכולות של הוכחות STARK לספק עמלות נמוכות, יחד עם הכוח של הפשטת חשבון, אפשרו ל-Braavos לפתח את יכולות הארנק החדשניות אליהן היא שואפת.
## הֶקשֵׁר
רוב רשתות הבלוקצ'יין הגדולות, כולל ביטקוין ו-Ethereum, משתמשים בסכימות החתימה הקריפטוגרפית של עקומה אליפטית secp256k1 (ראה[כאן](http://ethanfast.com/top-crypto.html)לרשימה מקיפה). יישום עקומה אליפטית זה נחשב לחזק - בלוקצ'יין רבים משתמשים בו והוא עמד במבחן הזמן. אבל זה לא תואם את ערכת החתימות ההצפנה הזמינה במודולי אבטחת החומרה (HSM) של מכשירים ניידים, כמו מכשירי האייפון וטלפונים אנדרואיד (פיקסל ואחרים). מכשירים אלה משתמשים בעקומה אחרת - secp256r1 (נקרא גם NIST-P256). משמעות הדבר היא שמשתמשי הבלוקצ'יין הללו אינם יכולים לנצל את שבבי האבטחה במכשיריהם וצריכים להשתמש בארנקי חומרה כברירת מחדל אם הם רוצים להשיג רמת אבטחה חזקה. זה מגביל מאוד כל חידוש UX לגבי האופן שבו משתמשים יכולים להיכנס לארנק ולאשר עסקאות (ולכן, נוכחותם של ביטויי זריעה). StarkNet לא תומך ב-secp256r1, ויש לו עקומה קניינית משלה שהיא עקומה ידידותית ל-STARK. אבל בניגוד לבלוקצ'יין אחרים, ל-StarkNet יש הפשטת חשבונות זמינה באופן מקורי בפלטפורמה שלה, מה שפותח עולם חדש של הזדמנויות UX עבור אפליקציות ארנק. Braavos רתמה את היכולת הזו כדי להציג את ה- Hardware Signer.
## חותם החומרה
חותם החומרה מורכב משני חלקים עיקריים:
* תת-המערכת המאובטחת במכשיר הנייד של המשתמשים * החוזה החכם של החשבון שיכול להפעיל לוגיקה שרירותית (המכונה הפשטה של חשבון)
## תת מערכת מאובטחת
ה-Hardware Signer משתמש בתת המערכת המאובטחת המובנית במכשיר של המשתמשים -**Secure Enclave**של iPhone או**Titan**HSM של Android Phone - כדי להגן על החשבון. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) שבב Secure Enclave / Titan הוא תת-מערכת ייעודית ומבודדת, מופרדת לחלוטין ממעבד היישומים שיכולה ליצור מפתחות פרטיים ולחתום על הודעות. הוא יוצר את המפתחות באמצעות מחולל מספר אקראי אמיתי (TRNG) וחותם הודעות על העקומה האליפטית של NIST-P256 (secp256r1) באמצעות מאיץ המפתח הציבורי הפנימי שלו (PKA). המפתחות הפרטיים לעולם אינם עוזבים את המערכת המאובטחת ואינם ידועים/לא נגישים לאף אחד, גם לא למשתמש, או לאפליקציה עצמה. המשמעות היא שגם אם ליבת מעבד יישומי ההתקן נפגעת, מפתחות המשתמש נשארים בטוחים! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## צלול עמוק יותר לתוך המובלעת המאובטחת
במהלך תהליך ייצור השבב נוצר UID (זיהוי ייחודי) על ידי ה-TRNG והוא מאוחסן ב-PKA. לא ניתן לקרוא אותו ולעולם לא עוזב את ה-PKA, ולכן הוא לא ידוע אפילו למעבד Secure Enclave ולמערכת ההפעלה Secure Enclave Processor (SepOS). UID זה הוא מספר אקראי שהוא ייחודי לכל מכשיר ומשמש להצפנת כל שאר המפתחות שייווצרו בעתיד במכשיר זה.\ אופן הפעולה הוא כדלקמן: האפליקציה תבקש מה-SepOS ליצור מפתח חדש -זוג, ה-SepOS ינחה את Secure Enclave TRNG ליצור מפתח ולהצפין אותו (באמצעות UID). לאחר מכן, האפליקציה יכולה לבקש מה-SepOS לפענח את המפתח ולחתום על הודעה באמצעות המפתח שנוצר. במהלך כל התהליך הזה המפתח שנוצר אינו עוזב את המובלעת ואינו ידוע לאיש. (למידע נוסף על המובלעת המאובטחת, ראה[כאן](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). האופן שבו ה-Secure Enclave בנויה ופועלת, יחד עם העובדה שהיא מהווה יעד להתקפות של תאגידים וממשלות רבי עוצמה ברחבי העולם, היא הסיבה שהאבטחה שלה עולה על ארנקי החומרה הסטנדרטיים.
## הפשטת חשבון
הכוח של Braavos כארנק מבוסס חוזים חכם על גבי StarkNet, הוא שהוא מורכב משני עמודים:
* צד הלקוח (למשל האפליקציה) המאפשר למשתמש לסקור/לחתום עסקאות ולשלוח אותן לרשת. * בצד השרשרת - יש חוזה חכם בחשבון שיכול להפעיל היגיון שרירותי; ובפרט במקרה שלנו, הפעל לוגיקה של חתימה שרירותית**אימות**. האפליקציה חותמת על העסקה באמצעות מודול האבטחה של המכשיר הנייד ולאחר מכן שולחת אותה לחוזה החשבון על השרשרת שיכול לאמת אותה. כפי שהוזכר לעיל, מודול האבטחה במכשירי אייפון ואנדרואיד משתמש בקריפטוגרפיה הנקראת NIST-P256 (secp256r1), שאינה תואמת לשום ערכת קריפטוגרפית בלוקצ'יין גדולה, כולל StarkNet. זו הסיבה שקיומה של חשבון חוזה חכם בשרשרת שכל העסקאות עוברות ויכול להפעיל היגיון שרירותי, חיונית בשימוש ב-HSMs אלה במכשירי אייפון ואנדרואיד. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## ביומטריה
כיצד המשתמש מאשר עסקה באמצעות ארנק Braavos? האם אפליקציה זדונית יכולה פשוט לחתום אוטומטית על עסקה ללא הסכמת המשתמש? לא!! הדבר המגניב במודול האבטחה המובנה במכשירים ניידים, כגון Secure Enclave, הוא שהוא תומך באימות ביומטרי מהותי של זהות המשתמש. המשמעות היא שאפילו האישור בפועל לחתום על עסקה נעשה ישירות מול ה-Secure Enclave. האישור לא עובר דרך האפליקציה, והמשתמש יצטרך לאשר את העסקה עם טביעת האצבע או זיהוי הפנים שלו.
## התאוששות
אם אף אחד לא יודע את המפתח הפרטי, מה קורה אם המכשיר הולך לאיבוד או הופך לבנים? איך המשתמש יכול לקבל בחזרה את השליטה בחשבון? ב-Braavos, לחשבון יהיו למעשה 2 מפתחות ציבוריים - מפתח Hardware Signer, שישמש לחתימה על כל העסקאות, והמפתח הנגזר מביטוי ה-Seed שיכול לחתום רק על עסקה אחת - "Request to Remove Hardware Signer". בקשה זו לא תבוצע באופן מיידי, אלא תהיה עיכוב זמן של 4 ימים (ניתן להגדרה) על מנת לאפשר למשתמש להשתמש בחותם החומרה כדי לבטל בקשה כזו. משמעות הדבר היא שאם המכשיר ייגנב/יאבד/נקרע, המשתמשים עדיין יוכלו לשחזר את חשבונם תוך 4 ימים. עם זאת, אם משפט ה-Seed שלו ייגנב ותוקף יגיש בקשה להסיר את חתם החומרה, המשתמש יקבל באופן אוטומטי (ושוב ושוב) התראה למכשיר הנייד שלו ויוכל לבטל את הבקשה ולשמור על כל הנכסים בטוחים .
## סיכום
תכונת Hardware Signer מציעה גם רמת אבטחה עדכנית עבור משתמשי קריפטו, וגם את החוויה אליה רגילים המשתמשים מ-web2. במובן זה, חתימה על עסקה היא חלקה ונטולת דאגות כמו תשלום באמצעות Apple/Google Pay. זוהי רק דוגמה אחת, אך בולטת, לכוחו של StarkNet, ארנק מבוסס חוזים חכם (המכונה Account Abstraction) ולמרחב העיצוב החדש שהוא מאפשר. אנו צופים התפתחות של יותר ויותר יכולות מתחילות שיניעו את תעשיית הקריפטו לעתיד טוב ומכיל יותר, ויספקו למשתמשים חדשים וקיימים כאחד אבטחה ללא פשרות יחד עם UX ללא פשרות.