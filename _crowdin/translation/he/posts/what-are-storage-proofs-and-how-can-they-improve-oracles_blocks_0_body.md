## מבוא

הוכחות אחסון הן דרך קריפטוגרפית לעקוב אחר מידע בלוקצ'יין כך שניתן יהיה לשתף אותו בין רשתות. בדומה לאורקל, הוכחות אחסון מספקות הוכחה לכך שהמידע נכון. עם זאת, בניגוד לאורקלים, הם**דורשים אמון בצד שלישי לצורך הוכחה זו; במקום זאת, עם הוכחות אחסון, האמון מובנה באחסון.

במקרים מסוימים, הוכחות אחסון יכולות להחליף אורקל. במקרים אחרים, הוכחות אחסון יכולות לשפר אותן ולפתוח מקרי שימוש חדשים בבלוקצ'יין שלא היו אפשריים קודם לכן.

אז בואו נסתכל בפירוט על הוכחות אחסון - מה הן, איך הן פועלות, מקרי השימוש שלהן ואיך הן יכולות לשפר (ולפעמים להחליף) אורקלות.

## מהן הוכחות אחסון?

הוכחות אחסון מאפשרות לך לפתוח התחייבויות קריפטוגרפיות של המדינה, ניתן לייעל אותן על ידי נישואין עם S\[N/T]ARKS. . הוכחות תקפות אלו מוכיחות שמצב מסוים היה קיים והיה תקף בבלוק מסוים בעבר.

ביסודו של דבר, בלוקצ'יין הם מסדי נתונים המכילים נתונים שבוצעו בצורה קריפטוגרפית באמצעות עצי מרקל, עצי מרקל פטרישיה, עצי ורקל וכו'). מכיוון שכל הנתונים מחויבים, אנו יכולים להוכיח שמידע מסוים מובלע במצב נתון. עם זאת, עם תוכניות מחויבות פשוטות, גודל ההוכחה הזו הופך בולט יותר ככל שגודל הנתונים שהיא כוללת גדל. אימות הוכחות כאלה ברשת הופך להיות יקר מכדי להיות מעשי.

הוכחות אחסון, לעומת זאת, כשהן בשימוש בשילוב עם STARKs או SNARKs, יכולות להיות קטנות יחסית, ולאפשר לך לאמת חלק מסוים של מדינה, בנקודת זמן מסוימת, ובכל תחום - מבלי לסמוך על צד שלישי . במקום צדדים שלישיים, הם מסתמכים על אבטחת השרשרת הבסיסית עצמה.

למה זה חשוב? Ethereum היום היא לא השרשרת המונוליטית הפשוטה (L1) שהיא הייתה לפני מספר שנים. עם הופעת פתרונות L2, הנתונים מפוזרים כעת על פני מספר רשתות.

לא ניתן עוד להניח הנחות סינכרוניות לגבי מצב השרשרת. פתרונות רבים לשיתוף נתונים פעילים כעת, כגון מערכות הודעות>L2, גשרים צולבים שרשרת ואורקל. אבל הבעיה עם הפתרונות הנוכחיים האלה היא שהם כוללים אמון בצד שלישי כמו ממסרים, חותמי מולטיסייג וועדות. הוכחות אחסון מאפשרות לנו לאמת את מצב הבלוקצ'יין בכל נקודת זמן תוך שימוש בהתחייבויות קריפטוגרפיות בהנחה שאין אמון בצד שלישי.

## מקרי השימוש להוכחות אחסון

מכיוון שהוכחות אחסון מאפשרות לנו "לדחוס" ביעילות בלוקצ'יין ולהעביר את הנתונים למקום אחר, יש להן לא מעט יישומים. עלות האימות המשתלמת, מאפיין אינטגרלי של הוכחות אחסון, מאפשרת לאמת את ההוכחה בשרשרת*יעד*, תוך מזעור הצורך בפיתוח מערכות הודעות חוצות שרשרת.

מקרי שימוש פוטנציאליים כוללים:

* **מידע כללי גישה**של שרשרת אחת מהשנייה על מצב ועסקאות בבלוקצ'יין.
* **מערכות הצבעה צולבות מפושטות**. לעתים קרובות משתמשים מחזיקים את הנכסים שלהם בשרשרת אטית אך מאובטחת יותר, אך חלק מהצבעות מבוססות אסימונים מתרחשות בשרשרת ב' עם עסקאות זולות יותר. זה מאלץ את המשתמש לדלג על ההצבעה שלו או לשלם עמלות עתק כדי לגשר על הנכסים שלו מ-A ל-B, להצביע, ואז לגשר אותם בחזרה ל-A. במקרים כאלה, הוכחות אחסון מאפשרות למשתמשים להוכיח את היתרה הסמלית שלהם בשרשרת A. בבלוק נתון והצביעו בצורה חלקה על שרשרת ב'.
* **חלופה לגשרים חוצי שרשרת**. נכון לעכשיו, גשרים חוצי שרשרת מניחים רמה של אמון בצד שלישי מכיוון שהם בדרך כלל מערבים מתווך, כגון אפוטרופוס או ארגון אוטונומי מבוזר (DAO). מתווך זה אחראי על קבלת כמות מסוימת של אסימונים על ידי המתווך בשרשרת המקור ועל החזקת הנכסים בשרשרת המקור. לאחר מכן, האסימונים המתאימים מוטבעים בשרשרת היעד. הוכחות אחסון יכולות לאפשר גשרים חוצי שרשרת ללא אמון, שכן יישום חוזים חכמים בשרשרת היעד יכול לאמת עסקה שבה הועברו נכסים לחוזה החכם של הגשר בשרשרת המקור ולהטביע את הנכסים המגושרים. עם זאת, במקרים רבים הצורך בהעברת נכסים בין רשתות עשוי להתבטל שכן ניתן היה להוכיח בעלות על נכסים ברשת אחרת פשוט באמצעות הוכחות אחסון.
* **מקרי שימוש משופר UX עבור הפשטת חשבון (AA)**. AA הוטמע ברשתות שונות ונחשב לחידוש מכריע בהכנסת מיליארד המשתמשים הראשונים לתחום הבלוקצ'יין. עם הוכחות אחסון, ארנקים יכולים לכלול את הפונקציונליות הנוספת של שחזור גישה רק אם הארנק לא שלח כל עסקאות לאורך זמן. ניתן לאכוף גם בדיקות נוספות הדורשות שימוש בנתונים מסוימים מרשתות אחרות.

![תמונת זרימת גשר צולב אופיינית](/assets/typical-cross.bridge-flog-imagewebp.webp "תמונת זרימת גשר צולב אופיינית")

## דוגמה להוכחת אחסון

יצירת הוכחות אחסון ברשתות תואמות EVM היא פשוטה. לדוגמה, לספריית Web3.js יש את הפונקציה \`getProof\` שיכולה לייצר הוכחה למצב חוזה ב-Ethereum (ורשתות אחרות תואמות EVM כגון Polygon או BSC). יש להעביר לפונקציה כתובת חוזה וחריץ האחסון עבור החוזה.

ב-Ethereum, חוזים חכמים משתמשים במאגר ערך מפתח כדי לאחסן נתונים באחסון שלהם. כל פיסת נתונים מאוחסנת במיקום ספציפי המכונה "חריץ אחסון". חריצי אחסון הם מיקומי זיכרון בתוך האחסון של החוזה ומזוהים על ידי אינדקס ייחודי. בואו נסתכל על חוזה חכם לדוגמה עם הקוד הבא פרוס ברשת Ethereum mainnet ב[0xcc…da8b](https://etherscan.io/address/0xcca577ee56d30a444c73f8fc8d5ce34ed1c7da8b#code).

![](/assets/blog-post-image-2-.webp)

המשתנה \`בעלים\` יאוחסן במשבצת 0. כעת, כדי להפיק את ההוכחה לכך שהבעלים של חוזה זה היה כתובת A, נוכל להשתמש בפונקציה 'getProof\' באופן הבא:

![](/assets/blog-post-image-3-.webp)

\
הפלט של הקוד למעלה נראה בערך כך:

![](/assets/blog-post-image-4-.webp)

ה-"storageProof" שהוחזר מכיל את הוכחת האחסון עבור המשתנה "בעלים". מכיוון ש-Ethereum משתמש ב- Merkle Patricia Trees כדי לחייב את מצב החשבונות והאחסון שלהם, ניתן להשתמש באחסון שנוצר כדי להוכיח חריץ אחסון (או מצב חשבון). עם זאת, כפי שצוין קודם לכן, ההוכחות הללו אינן ניתנות להרחבה מספיק כדי לדון בהעברת הודעות חוצות שרשרת. שימוש במתמטיקה ZK מורכבת נוסף על כך יכול להפחית את החישוב הנדרש לאימות ההוכחה.

## אז איך הוכחות אחסון משתווים ומנוגדים לאורקלים?

לפי התכנון, blockchains לא יכולים לאחזר נתונים מחוץ לשרשרת. זה שומר על בלוקצ'יין חסר אמון, אבל גם מציג מגבלות על היכולת של חוזה חכם לקבל החלטות על סמך אירועים בעולם האמיתי. Oracles משמשים בדרך כלל גם להשגת מידע היסטורי בלוקצ'יין, שכן רכישת נתונים אלה ישירות היא מאתגרת ביותר וכתוצאה מכך חשופה לטעויות.

כדי לפתור בעיה זו, נוצרו ישויות מיוחדות בשם**oracles**כדי לאחזר את הנתונים מחוץ לשרשרת (או לאחזר תוצאות מחישוב כבד מחוץ לשרשרת). נכון לעכשיו, אורקלים אלה דורשים מצד שלישי, כגון מוסד או רשת מבוזרת של מפעילי צמתים, להגיש נתונים על השרשרת שהופכים לציבור למשתמשים וחוזים חכמים. הנחה זו של אמון היא כרגע בלתי נמנעת, אך לא אידיאלית (אם כי מספר צוותים עובדים על מזעור דרישת אמון זו, כגון Pragma)

**[Chainlink](https://chain.link/)**הוא דוגמה לאורקל בלוקצ'יין המספק מגוון רחב של נתונים בעולם האמיתי (מחירי מניות, נתוני מזג אוויר וכו'), שירותי חישוב מחוץ לשרשרת כדי למזער את העלות של חישובים כבדים ברשת, וכן שירותים חוצי שרשרת הקוראים וכותבים מידע בין בלוקצ'יין שונים.

מכיוון שלחוזים חכמים אין דרך אחרת לדעת מה קורה בעולם האמיתי מלבד שימוש באורקלים, האורקלים הפכו לחלק הכרחי ממערכת האקולוגית של הבלוקצ'יין.

## מצב האורקלים בסטארקנט

ב-Starknet testnet, Chainlink שהוזכרה קודם מספקת כיום הזנות של נתוני מחירים עבור שבעה זוגות של מטבעות קריפטוגרפיים ו[שיתפה פעולה](https://www.coindesk.com/business/2023/02/06/starkware-partnering-with-chainlink-for-starknet-growth/)עם צוות Starkware כדי "להאיץ עוד יותר את פיתוח האפליקציות והצמיחה הכללית של האקולוגית של StarkNet". Chainlink ממזער את ההנחה של אמון עם רשת מבוזרת של צמתים המספקת נתונים ממקורות מחוץ לשרשרת, אך צבירת הנתונים מתרחשת מחוץ לשרשרת.

**[Pragma](https://www.empiric.network/)**ו**[Stork Network](https://www.stork.network/)**הם שניים מספקי האורקל הגדולים ביותר ב-Starknet, הפועלים הן ברשת והן ב-testnet. יחד עם תקריפי המחירים עבור צמדי מטבעות קריפטוגרפיים מרובים, Pragma עובדת על הטמעת הזנת אקראיות ניתנת לאימות ב-mainnet, שתאפשר לפרוטוקולים לבקש אקראיות מאובטחת ברשת. הזנות מחירים על Pragma מבוססות על הגשת מחירים של מוסדות גדולים ועושי שוק, וצבירת מחירים מתרחשת בשרשרת תוך מינוף טכנולוגיית ZK יעילה.

![](/assets/blog-post-image-5-.webp)



## האם ניתן להחליף או לשפר אורקל על ידי הוכחות אחסון?

במקרים מסוימים, כן, הוכחת אחסון יכולה להחליף אורקל.

לא כל הנתונים שסופקו על ידי oracles צריכים להיות מסופקים על ידי צד שלישי. במקרים מסוימים, הנתונים שסופקו על ידי אורקל כבר היו זמינים בשרשרת (בצורה של אחסון על השרשרת, או עסקה) וניתן לאחזר אותם על ידי הצצה למצב קודם של הבלוקצ'יין. במקרים אלה, הוכחת אחסון יכולה להחליף את הצורך באמון בצד שלישי ובאורקל, ולאפשר לחוזים חכמים להסתמך לחלוטין על אבטחת התחייבויות הצפנה.

במקרים אחרים, שבהם הוכחות אחסון אינן יכולות להחליף לחלוטין אורקל, הן עדיין יכולות*לשפר*עם פונקציונליות נוספת, כגון:

* Oracles מעבירה מידע מספקי נתונים לצרכני נתונים. עם זאת, לא כל צרכני הנתונים נמצאים באותה שרשרת. בעזרת הוכחות אחסון, ניתן להשלים איזה חישוב**על הנתונים ממקורות שונים ולייצא את התוצאה לרשתות אחרות**.
* שרשרת המקור המועדפת לנתונים כאלה היא זו עם חישוב זול, ואימות ההוכחה יכול להתבצע בצורה חסכונית ברשתות יעד אחרות.
* [Herodotus](https://www.herodotus.dev/)הוא אחד ממובילי המחקר בתחום זה, והם מציעים גישה לנתונים חוצי דומיינים על פני רשתות Ethereum שונות באמצעות הוכחות אחסון ומתמטיקה ZK. Pragma גם משתפת פעולה עם Herodotus כדי לאפשר תמיכה באורקל חוצה שרשרת בעתיד הקרוב.
* הוכחות אחסון יכולות**לאחד את המצב של ריבוי רולאפים**, ואפילו לאפשר קריאה סינכרונית*בין*שכבות Ethereum.
* שיפור נוסף הוא אחזור**ללא אמון של נתונים היסטוריים שפורסמו בשרשרת**. שרשראות בלוק ממלכתיות כמו Ethereum ו-Starknet מתעדות ומשמרות קריפטוגרפית את מצבן באמצעות מבני נתונים מיוחדים, כגון עצי Merkle/Verkle ו-MPTs. זה מאפשר להוכיח הכללת כל נתונים המאוחסנים במבנים אלה. לפיכך, ניתן לסמוך, לאחזר ולהשתמש בכל נתוני עבר המתפרסמים על השרשרת גם ביישומים אחרים (אפילו לא בהכרח באותה שרשרת). הוכחות אחסון אלו מאפשרות לחוזים חכמים לגשת למידע שמקורו אפילו בגוש הבראשית.
* Pragma חוקרת את הכדאיות של פיתוח אורקל כ-L3 ב-Starknet שממנו ניתן "לשלוף" נתונים על רשתות אחרות ולאמת אותם באמצעות הוכחות אחסון. היתרונות של קיום האורקל בתחום אחר על גבי רשת זולה מבחינה חישובית כמו Starknet כוללים את הדברים הבאים:
* מכיוון שה-L3 יכול להיות שרשרת הניתנת להתאמה אישית מאוד, ניתן לכוונן פרמטרים שונים ל**להשיג קונצנזוס מהר יותר על בלוקים**, מה שמפחית מאוד את זמן השהיית הנתונים עבור האורקל.
* בשילוב עם הוכחות אחסון, ניתן להעביר את**הנתונים עם זמן אחזור נמוך באופן אסינכרוני לרשתות אחרות,**עם הגעה לקונצנזוס בשרשרת המקור.
* האפשרות**את האמון בנתונים**על ידי פיתוח מערכת מובנית ב-L3 כדי לחתוך ספקי נתונים לא ישרים. אם יינתנו תמריצים מתאימים, ספקי הנתונים על ה-L3 יוכלו להחזיק בנכסיהם כערובה לפרסום נתונים נכונים. מכיוון שדרושה הסכמה של כל הרשת על L3 לפני שרשתות אחרות יוכלו להשתמש בנתונים, הנתונים שסופקו על ידי האורקל יכולים להיחשב כמובטחים על ידי החזקה של המאמת ב-L3.

# סיכום

במהלך החודשים האחרונים, השימוש הגובר ב-L2s ב-Ethereum העניק לנו ראייה ברורה יותר של עתיד התעשייה. נרטיב ה-L2 צבר אחיזה ברשתות כמו[Starknet](https://www.starknet.io/en),[Optimism](https://www.optimism.io/)ו[Arbitrum](https://arbitrum.io/). עם זאת, אחת מהמעצורים העיקריים לצמיחתה הייתה הטמעת מערכת הודעות צולבת שרשרת מבוזרת. למרות שהם עדיין בשלב התחלתי, הוכחות אחסון מבטיחות שיפורים מדהימים לבעיה זו.

תודה גדולה ל[Marcello Bardus](https://twitter.com/0xmarcello)&[Kacper Koziol](https://twitter.com/kacperkozi)על סקירת מאמר זה.