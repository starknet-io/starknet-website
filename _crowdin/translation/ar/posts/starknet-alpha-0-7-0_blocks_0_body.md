### TL;DR

* StarkNet Alpha 0.7.0 أفرج عنه إلى جويرلي؛ تم حشده بالتحسينات
* يمكن الآن ترقية العقود باستخدام نمط ترقية البروكسي
* يمكن للعقود الآن أن تنبعث من الأحداث
* دعم رقم الكتلة الذي طال انتظاره وحظر مكالمات النظام الزمني

### مقدمة

نحن سعداء بإطلاق ألفا 0.7.0، نسخة محملة بميزات وتحسينات جديدة. كان أحد أفضل الحوافز لشبكة StarkNet على مدى الأشهر القليلة الماضية زيادة مشاركة المجتمع في تشكيل مستقبل شبكة StarkNet. هذه النسخة تعالج بعض احتياجات المجتمع المحترقة.

#### التغييرات المدخلة على اتفاقية التسمية

ربما لاحظ القارئ المراقب أن إصدار StarkNet Alpha السابق كان يسمى ألفا 4، في حين أننا الآن نطلق ألفا 0.7.0. قررنا أن نحذف رقم الإصدار ألفا المخصص وأن نعتمد بدلا من ذلك فقط على الإصدار الكايرو-لانغ المرتبط به.

### ميزات جديدة

#### ترقية العقد

OpenZeppelin’s [Proxy Upgrade Pattern](https://docs.openzeppelin.com/upgrades-plugins/1.x/proxies) is now fully supported for contract upgrades in StarkNet. ونمط البروكسي هو الطريقة الشائعة للتمكين من رفع مستوى العقود فوق إيثيريوم. Alpha 0.7.0 يمكن هذا النمط عبر StarkNet.

قمنا بإعداد[درسًا تعليميًا قصيرًا](https://starknet.io/docs/hello_starknet/default_entrypoint.html)لعرض التنفيذ الأساسي للنمط، و OpenZeppelin يعمل جاهدا بالفعل على تنفيذ عقد قياسي لنمط الوكالة؛ انظر[النموذج الأولي](https://github.com/OpenZeppelin/cairo-contracts/pull/129).

#### حظر رقم و حظر الوقت

يضيف ألفا 0.7.0 مكالمتين جديدتين لنظام كانت تسألهما العديد من الديفارات. تسمح هذه المكالمات بعقد للوصول إلى رقم الكتلة وعلامة الوسم الزمني. رقم الكتلة يعيد عدد الكتلة المنفذة حاليا. العصر الزمني للكتلة يرجع الطوابع الزمنية التي أعطاها Sequencer عند إنشاء الكتلة.

يمكنك رؤية مثال على كيفية استخدام هذه الميزات في[البرنامج التعليمي](https://starknet.io/docs/hello_starknet/more_features.html#block-number-and-timestamp).

#### الأحداث

مفاجئة! وثمة سمة كان من المقرر أن تكون لها صيغة في المستقبل قد سارت في طريقها إلى هذه الصيغة السابقة.

وتدعم عقود StarkNet الآن تحديد الأحداث وإصدارها، مما يسمح لها بالكشف عن معلومات التنفيذ لاستهلاكها في تطبيقات خارج السلسلة. مطوري إيثيريوم سيجدون الألفاظ و الجملة مشابهة جدا للتضامن يمكنك قراءة[المستندات](https://starknet.io/documentation/events/)، أو اتباع[البرنامج التعليمي](https://starknet.io/docs/hello_starknet/events.html)، الذي يشرح هذه الميزة.

#### إزالة توجيه %builtins

لم تعد هناك حاجة إلى توجيه %builtin في عقود StarkNet. أعقب هذا التغيير مناقشة مجتمعية حول نمط[تمديد العقد](https://community.starknet.io/t/contract-extensibility-pattern/210)في[StarkNet Shamans](https://community.starknet.io/). وهو يبسِّط إلى حد كبير إمكانية استخدام هذا النمط المتعلق بالقابلية للتطبيق.

وعلى سبيل المثال، سيتم تغيير العقد التالي من:

```
%lang starknet

# هذا هو التوجيه "%builtins".
# لم يعد مطلوبا بعد الآن.
%builtins range_check

@view
func add(x : pot, y : Pot) -> (res : felt):
العودة (res=x + y)
end
```

إلى ذلك:

```
%lang starknet
@view
إضافات ممتعة (x : أشعر ، y : أشعر ) -> (res : أشعر بذلك):
العودة (res=x + y)
نهاية
```

يمكنك التحقق من[ERC-20](https://github.com/OpenZeppelin/cairo-contracts/tree/main/contracts/token)العقود القياسية، التي تستخدم النمط الجديد.

#### مصفوفات دعم الوظائف الخارجية للهياكل

يدعم ألفا 0.7.0 مصفوفات المرور والعودة من الهياكل في وظائف خارجية. هذه الوظيفة الإضافية تسمح بعقود الحساب لتحسين دعم[المكالمات المتعددة](https://github.com/OpenZeppelin/cairo-contracts/pull/73#discussion_r753535751).

متعدد الميزة القوية لتجريد الحساب الذي يسمح للحساب بإجراء مكالمات متعددة في معاملة واحدة. حالة استخدام واضحة هي إنشاء**معاملة واحدة**التي تتصل بالسماح ومن ثم تحويل فروم.

ونتطلع إلى رؤية ما يفعله المجتمع المحلي معها.

#### تحسينات على CLI StarkNet

**دعم الكتل المعلقة**

[الكتل المعلقة](https://starknet.io/documentation/block-structure-and-hash/#pending_block)تم[تقديم](https://community.starknet.io/t/cairo-v0-6-2-api-change-pending-block/195)في النسخة الثانوية الأخيرة (v0.6.2) وقدمت تأكيدات أسرع على المعاملات. يتضمن هذا الإصدار الدعم للاستعلام عن هذه الكتل عبر CLI StarkNet.

لاستخدامه، في كل أمر من أوامر CLI يأخذ block_number كحجة (contract_call/get_block/get_code/get_storage_at)، يمكننا الاستعلام عن StarkNet فيما يتعلق بالكتلة المعلقة عن طريق تحديد block_number=pending.

**دعم عقود الحساب**

يستخدم StarkNet تجريد الحساب، أي أن جميع الحسابات تنفذ كعقود ذكية. تم تنفيذ أولى عقود الحساب بواسطة[آرنج](https://github.com/argentlabs/argent-contracts-starknet)و[OZ](https://github.com/OpenZeppelin/cairo-contracts/blob/main/contracts/Account.cairo)، ولكننا نتوقع الكثير من الآتي في المستقبل.

في StarkNet ، يجب أن تمر جميع المعاملات عبر عقد حساب، وتسمح الشركة الآن بالتفاعل مع StarkNet Alpha مباشرة عن طريق عقود الحساب. شاهد[البرنامج التعليمي](https://starknet.io/docs/hello_starknet/account_setup.html#setting-up-a-starknet-account)حول كيفية إعداده.

تمت إضافة وظيفة مماثلة أيضا إلى[StarkNet.py](https://github.com/software-mansion/starknet.py/)و[Nile](https://github.com/OpenZeppelin/nile)في الشهر الماضي.

#### L1<>L2 المراسلة في إطار الاختبار

ألفا 0.7.0 يقدم البريد. ويمكِّن بوستمان المطورين من استخدام إطار الاختبار لاختبار تدفقات أكثر تعقيدا.

على مستوى عالٍ - يحجب مسؤولية ستارك نيت ستيكنسر عن نقل الرسائل من L1 إلى L2 و L2 إلى L1. تأكد من أن الرسائل المرسلة عن طريق عقد الرسائل التضامنية ستظهر في عقد StarkNet الخاص بالمقصد وستظهر الرسائل المرسلة من عقد StarkNet في عقد الرسائل التضامنية.

#### و المزيد من الميزات

يوفر ألفا 0.7.0 العديد من الميزات والتغييرات الأخرى، مثل إضافة دالة جذر مربع كفؤة إلى المكتبة العامة للرياضيات. تظهر قائمة كاملة في[سجل التغييرات](https://github.com/starkware-libs/cairo-lang/releases/tag/v0.7.0).

### التالي للأعلى؟

سيتم إصدار الدعم الأولي[لآلية الرسوم](https://community.starknet.io/t/fees-in-starknet-alpha/286/29)في غضون أسابيع، كنسخة فرعية من StarkNet.

### المزيد من المعلومات؟

[starknet.io](https://starknet.io/): لجميع معلومات StarkNet ودروس وتحديثات.

[StarkNet Discord](https://discord.gg/uJ9HZTUk2Y): انضم للحصول على إجابات على أسئلتك ، والحصول على دعم ديف و تصبح جزءا من المجتمع.

[StarkNet Shamans](https://community.starknet.io/): انضم لمتابعة (والمشاركة!) في مناقشات البحث StarkNet.