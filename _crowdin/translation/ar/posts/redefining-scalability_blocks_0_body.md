لقد كانت قابلية البلوكشين للتوسع دائما موضوعا مشتعلا بالحرارة. تقريبا كل شبكة بلوكشين تلمس أعدادا كبيرة من المعاملات في الثانية (TPS) كنقطة بيع. ومع ذلك، فإن TPS ليس مقياساً صحيحاً لمقارنة شبكات البلوكشين مع - مما يجعل تقييم أدائها النسبي يشكل تحدياً. وعلاوة على ذلك، عادة ما تأتي أعداد كبيرة من هذه الخدمات بتكلفة - وهو ما يطرح السؤال: هل يمكن لهذه الشبكات في الواقع أن تتوسع، أم أنهم يزيدون إنتاجهم فقط؟

لذا، دعونا ندرس كيفية تعريف القابلية للتوسع، أي المقايضات التي تم القيام بها لتحقيقها، ولماذا تعتبر مقايضات الصالح حل القابلية للتوسع.

### ليست كل المعاملات مصنوعة على قدم المساواة

أولا، نحن بحاجة إلى إثبات تأكيدنا على أن القياس البسيط والملائم لدائرة الخدمات التقنية ليس مقياسا دقيقا للقابلية للتوسع.

لتعويض العقد لتنفيذ المعاملات (ولردع المستخدمين عن إرسال الرسائل غير المرغوب فيها للشبكة بحساب غير ضروري)، تشحن البلوكشين رسوماً تتناسب مع العبء الحسابي المفروض على البلوكشين. في الإيثيريوم، يقاس مدى تعقيد العبء الحسابي بـ*غاز.*لأن الغاز هو مقياس مناسب جدا لتعقيد المعاملة، سيتم استخدام هذا المصطلح في جميع أنحاء هذه المقالة لبلوكشين غير إيثيريوم أيضًا، حتى وإن كان عادة محدداً بإيثيريوم.

وتختلف المعاملات اختلافا كبيرا من حيث التعقيد، وبالتالي من حيث مقدار الغاز الذي تستهلكه. البيتكوين، رائد في المعاملات غير الموثوق بها بين الأقران، يدعم فقط نص بيتكوين البدائي. هذه التحويلات البسيطة من العنوان لمعالجة استخدام القليل من الغاز. وعلى النقيض من ذلك، فإن سلاسل العقود الذكية مثل إيثيريوم أو سولانا تدعم آلة افتراضية ولغات البرمجة الكاملة التي تسمح بمعاملات أكثر تعقيدا. ومن ثم تحتاج تطبيقات مثل Uniswap إلى المزيد من الغاز.

هذا هو السبب في أنه ليس من المنطقي مقارنة TPS لمختلف سلاسل الكتل. وما ينبغي أن نقارنه بدلا من ذلك هو القدرة على الحساب - أو الناتج.

جميع سلاسل الكتل لديها حجم كتلة (متغير) ووقت كتلة تحدد عدد*وحدات الحساب*التي يمكن معالجتها لكل كتلة وكيف*سريع*يمكن إضافة كتلة جديدة. معا هذين المتغيرين يحددان ناتج**لسلسلة الكتل.

### ما هي القيود القابلية؟

سلاسل الكتل البرمجية تسعى إلى أن تكون شبكات لا مركزية إلى أقصى حد، شاملة للجميع. ولتحقيق ذلك، لا بد من التحقق من خواصتين أساسيتين.

#### **1. متطلبات الجهاز**

يتم تحديد اللامركزية في شبكة البلوكشين من خلال قدرة أضعف العقدة في الشبكة على التحقق من سلسلة البلوكشين والحفاظ على حالتها. لذلك فإن تكاليف تشغيل العقدة (الأجهزة وعرض النطاق الترددي وينبغي الإبقاء على الحد الأدنى قدر الإمكان لتمكين أكبر عدد ممكن من الأفراد من أن يصبحوا مشاركين بلا إذن في الشبكة التي لا يمكن الوثوق بها.

#### 2**.**حالة النمو

يشير نمو الدولة إلى مدى سرعة نمو البلوكشين. كلما زاد الإنتاج الذي يسمح بلوكشين بحدوث كل وحدة من الوقت، كلما زادت سرعة نمو البلوكشين. العقد الكاملة تخزن تاريخ الشبكة، ويجب أن تكون قادرة على التحقق من حالة الشبكة. يتم تخزين حالة إيثيريوم والإشارة إليها باستخدام هياكل كفؤة مثل الأشجار. ومع نمو الدولة، تضاف إليها أوراق وفروع جديدة، مما يزيد من تعقيدها واستهلاكها للوقت في القيام بأعمال معينة. ومع تزايد حجم السلسلة، فإنها تزيد من سوء حالة التنفيذ من جانب العقد، مما يؤدي إلى تزايد مستمر في الوقت اللازم للتحقق من صحة الكتل الجديدة. مع مرور الوقت، هذا أيضا يزيد من الوقت الإجمالي الذي يستغرقه المزامنة الكاملة للعقدة.

### الآثار السلبية المترتبة على الزيادة طوال فترة

#### 1. عدد العقدة

الحد الأدنى من المتطلبات لتشغيل العقدة والعقد هو كما يلي:

* Bitcoin1: مساحة قرص HDD 350GB ، 5 ميغابت/ثانية اتصال ، 1GB ذاكرة ، CPU >1 جيغاتز. **عدد العقد: ~10,000**
* Ethereum2: 500GB+ SSD مساحة القرص، 25 Mbit/s وصلة، 4–8GB ذاكرة الوصول العشوائي، CPU 2–4 **عدد العقد: ~6,000**
* سولانا3: 1.5TB+ مساحة قرص SSD، 300 ميغابت/ثانية اتصال، 128جيغابايت معالج ذاكرة الوصول العشوائي 12+ النواة **عدد العقد: ~1,200**

لاحظ أن متطلبات وحدة المعالجة المعالجة، وعرض النطاق الترددي، والتخزين للعقود المطلوبة لمخرجات بلوكشين، أكبر حجما، عقد أقل على الشبكة - مما يؤدي إلى إضعاف اللامركزية وإلى شبكة أقل شمولا.

#### 2. الوقت لمزامنة عقدة كاملة

عند تشغيل عقدة لأول مرة، يجب مزامنة جميع العقد الموجودة، التنزيل، والتحقق من صحة حالة الشبكة على طول الطريق من كتلة الإنشاء إلى الطرف الآخر من السلسلة. وينبغي أن تكون هذه العملية سريعة وفعالة قدر الإمكان لتمكين أي شخص من العمل كمشارك لا يسمح له بالبروتوكول.

أخذ اختبار مزامنة العقد[لجيمس لوب 2020 عقدة بيتكوين](https://blog.lopp.net/2020-bitcoin-node-performance-tests/)و[اختبارات 2021](https://blog.lopp.net/2021-altcoin-node-sync-tests/)كمؤشر، يقارن الجدول 1 الوقت الذي يستغرقه مزامنة عقدة كاملة من بيتكوين مقابل بيتكوين. إيثيريوم ضد سولانا في متوسط درجة استهلاك الفيلوك.

![الجدول 1 مقارنة مخرجات سلسلة الكتل ومزامنة العقدة](/assets/1_gmpi_1c9zipoc-znrh7b5q.png "الجدول 1 مقارنة مخرجات سلسلة الكتل ومزامنة العقدة")

ويبين الجدول 1 أن زيادة الناتج تؤدي إلى فترات متزامنة أطول لأن هناك حاجة إلى معالجة وتخزين المزيد من البيانات.

في حين يتم إدخال تحسينات على برمجيات العقدة باستمرار للتخفيف من تحدي البلوكشين المتنامي (خفض بصمة القرص)، سرعة مزامنة أسرع، قدرة أقوى على التحطم، وحدة نمطية لبعض المكونات، إلخ. , من الواضح أن العقد لا تزال غير قادرة على مواكبة الزيادات للإنتاج.

### كيف ينبغي تعريف القابلية للقياس ؟

المقياس هو المصطلح الأكثر تشويها في مساحة سلسلة الكتل. وفي حين أن زيادة الناتج أمر مرغوب فيه، فإنها ليست سوى جزء واحد من اللغز.

***المقياس**يعني**المزيد من المعاملات**لـ**نفس الأجهزة**.*

ولهذا السبب، يمكن تقسيم قابلية التوسع إلى فئتين.

#### قابلية التسلسل للتوسع

ويصف التسلسل عملية طلب المعاملات ومعالجتها في الشبكة. وكما سبق إثباته، يمكن لأي بلوكشين أن يزيد ناتجه بشكل غير عادي من خلال زيادة حجم الكتلة وتقصير وقت كتلها - حتى النقطة التي يعتبر فيها التأثير السلبي على لامركزيتها كبيرا جدا. ولكن تغيير هذه البارامترات البسيطة لا يوفر التحسينات المطلوبة. يمكن لـ EVM في إيثيريوم، نظريا،[التعامل مع ما يصل إلى 2,000 TPS](https://twitter.com/dankrad/status/1459607325854121989)، وهو غير كاف لخدمة الطلب الطويل الأجل على الفضاء. ولتحديد التسلسل، حققت سولانا بعض الابتكارات المثيرة للإعجاب: فاستفادت من بيئة تنفيذ متوازية وآلية توافقية ذكية، مما يسمح بزيادة كفاءة الإنتاج بكثير. غير أنه على الرغم من تحسينه فإنه ليس كافياً ولا قابلاً للتحسين. ومع زيادة شركة سولانا لإنتاجها، تزداد أيضا تكاليف المعدات اللازمة لتشغيل عقدة ومعالجة المعاملات.

#### قابلية التحسين

*إمكانية التحقّق تصف النُهج التي تزيد من الإنتاج بدون إثقال العقد بتكاليف الأجهزة المتزايدة باستمرار.*على وجه التحديد، تشير إلى الابتكارات التشفيرية مثل أدلة الصلاحية. هي السبب الذي يجعل من الممكن لمداولات الصالح أن تقلص البلوكشين بشكل مستدام.

**ما هو هدر الصلاحية؟**

وتنقل رولوبس الصالح (المعروف أيضا باسم "ZK-Rollups") الحساب والتخزين الحكومي خارج السلسلة ولكنها تحتفظ بكمية صغيرة من بعض البيانات في السلسلة. عقد ذكي على سلسلة الكتل الأساسية يحافظ على جذر الولاية في رولب. على Rollup، يتم إرسال مجموعة من المعاملات الشديدة الضغط، مع جذر الحالة الحالية، إلى مدير خارج السلسلة. يقوم Prover بحساب المعاملات، وينشئ دليلا على صحة النتائج وجذور الحالة الجديدة، ويرسل إلى محقق في السلسلة. يتحقق المتحقق من صحة الإثبات، والعقد الذكي الذي يحافظ على حالة Rollup يقوم بتحديثه إلى الدولة الجديدة المقدمة من Prover.

**كيف يمكن لمقاييس دقة التدوير مع نفس المتطلبات من المعدات؟**

على الرغم من أن Provers تحتاج إلى أجهزة عالية المستوى، فإنها لا تؤثر على لامركزية البلوكشين؛ لأن صحة المعاملات مضمونة بأدلة يمكن التحقق منها من الناحية الرياضية.

وما يهم هو متطلبات التحقق من الأدلة. لأن البيانات المعنية مضغوطة للغاية وموجزة إلى حد كبير من خلال الحساب، فإن تأثيرها على العقد من سلسلة الكتل الأساسية هو الحد الأدنى*.*

والمحققون (عقدة ثيروم) لا يحتاجون إلى معدات عالية الجودة، وحجم الدفعات لا يزيد من الاحتياجات من المعدات. يجب معالجة وتخزين عمليات انتقال الدولة فقط وكمية صغيرة من بيانات المكالمات بواسطة العقد. وهذا يسمح لجميع عقد إيثيريوم بالتحقق من دفعات التدوير الصالح باستخدام المعدات الموجودة لديها.

**كلما زادت المعاملات، كلما حصلت على أرخص**

في سلاسل البلوكشين التقليدية، يحدث المزيد من المعاملات، كلما كان ذلك مكلفاً للجميع كلما تم ملء مساحة الكتلة - ويتعين على المستخدمين أن يخرجوا بعضهم البعض من سوق الرسوم للحصول على معاملاتهم.

من أجل تدهير الصلاحية, يتم عكس هذه الديناميكية. التحقق من مجموعة من المعاملات على إيثيريوم له تكلفة معينة. ومع تزايد عدد المعاملات داخل الدفعة الواحدة، تزداد تكلفة التحقق من الدفعة بمعدل أبطأ من ذي قبل. وإضافة المزيد من المعاملات إلى دفعة ما يؤدي إلى رسوم معاملات أرخص حتى وإن زادت تكلفة التحقق من الدفعة - لأنها مستهلكة بين جميع المعاملات داخل الدفعة. ترتيبات الصلاحية تريد أكبر عدد ممكن من المعاملات داخل الدفعة - بحيث يمكن تقاسم رسوم التحقق بين جميع المستخدمين. مع نمو حجم الدفعة إلى ما لا نهاية، تتقارب الرسوم المستهلكة لكل معاملة إلى صفر، `1`. .، كلما زاد عدد المعاملات على صلاحيّات الصلاحيّة، كلما كان ذلك أرخص للجميع.

dYdX، وهو تطبيق مدعوم من قبل Rollity Roll، يرى في كثير من الأحيان أحجام دفعة تزيد على 12,000 معاملة. ومقارنة استهلاك الغاز لنفس الصفقات في ماينيت مقابل صلاحيتها تبيِّن المكاسب المتحققة من قابلية الارتفاع:

إعداد معاملة DYdX على صيانة إيثيريوم:**200,000 غاز**

إعداد معاملة dYdX على StarkEx:**<500 غاز**

طريقة أخرى للنظر فيها: مقاييس التكلفة الرئيسية للصلاحية خطياً مع عدد المستخدمين في نفس الدفعة.

#### لماذا عمليات التدوير المتفائلة ليست قابلة للتطوير كما قد يتصور المرء

ومن الناحية النظرية، فإن عمليات التدوير المتفائلة توفر تقريباً نفس فوائد قابلية التوسع التي توفرها عمليات التدوير المتعلقة بالصلاحية. ولكن هناك تمييز مهم واحد: التهدئة المتفائلة تحسنا في الحالة المتوسطة، في حين أن التهدئة الصالحة تحسّن في الحالة الأسوأ. لأن أنظمة البلوكشين تعمل في ظروف خصامية للغاية، فإن تحسين الحالة لأسوأ الحالات هو السبيل الوحيد لتحقيق الأمان.

في أسوأ حالة "رولوب" التفاعلية، لن يتم التحقق من معاملات المستخدم بواسطة مدققي الاحتيال. لذلك ، لمجابهة الاحتيال ، يجب على المستخدم مزامنة عقدة إيثيريوم كاملة ، عقدة L2 كاملة ، وحساب المعاملة المشبوهة بنفسه.

في أسوأ حالة من حالات "صلاحية" سوف يحتاج المستخدم فقط إلى مزامنة عقدة كاملة في إيثيريوم للتحقق من صحة الإثبات. حفظ أنفسهم العبء الحسابي.

خلافاً لتدخلات الصلاحية، فإن مقاييس التكلفة المتفائلة تعمل خطياً مع عدد المعاملات بدلاً من عدد المستخدمين، مما يجعلها أكثر تكلفة.

### القطع النهائي من اللغز - الوصول غير المسموح به إلى ولاية الرولوب

ولضمان صحة المعاملات، يحتاج المستخدمون إلى تشغيل عقدة إيثيريوم فقط. بيد أن المستخدمين والمطورين قد يرغبون في عرض وتشغيل حالة الرولوب وتنفيذها لأغراض مختلفة. يقوم*فهرسة العقدة L2*بملء هذه الحاجة بشكل كامل. لا يسمح فقط للمستخدمين برؤية المعاملات في الشبكة، ولكنها أيضا جزء حيوي من الهياكل الأساسية اللازمة لتشغيل الهياكل الأساسية للنظم الإيكولوجية. فهرس مثل The Graph, Alchemy, Infura, Oracle Networks، و مستكشفي الكتل، كلها مدعومة بالكامل من عقدة L2 غير مسموح بها.

### خاتمة

العديد من النُهج لمعالجة قابلية البلوكشين للتوسع تركز بشكل خاطئ على زيادة*ناتج*. ولكن هذا يغفل تأثير الإنتاج على العقد: متطلبات المعدات المتزايدة دوماً لتجهيز الكتل وتخزين تاريخ الشبكات، وكيف أن ذلك يعوق لامركزية الشبكة.

مع ظهور التشفير غير الصالح، يمكن لسلسلة الكتل أن تحقق**إمكانية التطوير الحقيقي**الذي لا يثقل العقد بتكاليف متزايدة باستمرار ويسمح بتطبيق اللامركزية على نطاق واسع. يمكن الآن إجراء المزيد من المعاملات مع حسابات قوية وأكثر تعقيدا لنفس الجهاز، عكس مسار معضلة سوق الرسوم في هذه العملية - كلما زاد النشاط على تهدئة الصلاحية, كلما كان ذلك أرخص ثمنا!

[SwagtimusPrime.oth](https://twitter.com/SwagtimusP?t=pO0L1vGIhuC-ZgWOusQYtA&s=09)و[لويس غوثمان](https://twitter.com/GuthL)

1 من<https://bitcoin.org/en/bitcoin-core/features/requirements>

2 من<https://ethereum.org/en/developers/docs/nodes-and-clients/>

3 من<https://docs.solana.com/running-validator/validator-reqs>

4 تم تبسيطه وتعديله بشدة لمتوسط أحجام الكتلة الديناميكية