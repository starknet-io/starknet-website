### TL;DR

* StarkNet Alpha 0.8.0 は、料金メカニズムの最初のバージョンを表示します(StarkNet Alpha 0.9.0 まではオプション)。
* 新しい API は、トランザクショントレースを取得するためのトランザクション手数料の見積もりを要求し、より良い可視性とデバッグ機能を可能にします。
* StarkNetシーケンサーのパフォーマンス向上
* L1→L2メッセージキャンセル

### はじめに

[ロードマップ](https://www.notion.so/starkware/StarkNet-Alpha-Features-Tentative-Roadmap-f2b8f5f25a2d4d1cb3265fb82a098c51)で共有されているように、StarkNetの機能と機能に追加された最新のものに従ってください。 パフォーマンスの向上やプロトコル設計(手数料、アカウント抽象化、分散化などを含む)に注目が移ります。 StarkNet Alpha 0.8.0 は、トランザクション手数料を追加し、シーケンサーのパフォーマンスを向上させるプロセスを開始します。

StarkNetのロードマップには手数料メカニズムが含まれています そしてこのバージョンを進めることで 我々はプラットフォームの完全なパフォーマンスに近づいています

料金メカニズムを追加することは、StarkNetのパフォーマンスデザインに不可欠な部分です。 最小限の手数料がなければ、シーケンサーの最適化にかかわらず、システムが実行されることを不可能にする無限のトランザクションに直面するリスクがあります。

### 特徴

#### 手数料サポート

StarkNet Alpha が 料金メカニズムの最初のバージョンをサポートするようになりました。 このメカニズムは、この初期段階でも、テストネット上でも、2つの主な理由から不可欠です。

1. これにより、開発者はStarkNetのコストモデルに従って契約の最適化を開始できます。
2. 無数のトランザクションを送信することでスパム行為を防ぐため、システムのパフォーマンスを向上させることが重要です。

このバージョンでは、開発者が手数料支払いをツールやアプリケーションに組み込むために必要なコンポーネントを紹介します。 開発者は、\`estimate_fee\` エンドポイントを呼び出し、トランザクション実行の一部として手数料を支払うことで、トランザクション手数料を推定できるようになりました。

この機能は後方互換性がないため、現時点では料金の支払いを強制せず、バージョン 0 からのみ行います。 0.0は数週間後にリリースされる予定です この段階的な移行により、ユーザーと開発者は新しいモデルに調整することができます。

#### 手数料の構成 0.8.0

0.8.0では、計算の複雑さに応じて手数料が徴収され、StarkWareは依然としてL1通信コストを補助します。 今後数週間にわたり、これらのL1操作および通信コストを含めるための料金メカニズムを更新します。 支払いは、StarkNet L2のトランザクション実行によってアトミックに収集されます。 詳細な説明については、[手数料のドキュメント](https://starknet.io/documentation/fee-mechanism/)を参照してください。

StarkNetが進化するにつれて、開発者コミュニティと緊密に協力して料金の仕組みを調整して開発することが重要です。

#### L2 Goerli ETH Faucet

私たちは[L2 Goerli AH Faucet](https://faucet.goerli.starknet.io/)を立ち上げ、ユーザーが Testnet で料金を支払えるようにしました。 このFaucetは、取引手数料の支払いに使用できるStarkNet GoerliのあなたのアカウントアドレスにL2 Goerli ETHの少量を送信します。

#### Trace API

StarkNetのAPIにトランザクションの実行トレースを取得する機能を追加しました。 トランザクションのトレース内では、すべての内部コールが表示され、実行リソースの消費、戻り値、放出されたイベント、送信されたメッセージなどの情報が含まれています。 この新しい呼び出しにより、契約の動作の理解やトランザクションのデバッグが簡単になります。 さらに、[Voyager](https://voyager.online/)や[StarkTx](https://starktx.info/)などのツールは、このデータを組み込むことができます。 特に口座契約の相互作用のために、より詳細な分析をユーザーに提供します。

トレースを取得するには、StarkNetのCLIで\`get_transaction_trace\`を使用してください。 使い方の例を見るには、[チュートリアル](https://www.cairo-lang.org/docs/hello_starknet/cli.html?#get-transaction-trace) を参照してください。

#### メッセージのキャンセル

このバージョンの追加機能には、L1→L2メッセージをキャンセルする機能があります。 なぜこれが便利なのでしょうか? ユーザーがL1からL2にアセットを転送するシナリオを想像してください。 フローは、ユーザーが StarkNet ブリッジにアセットを送信し、対応する L1→L2 メッセージ生成から始まります。 さて、L2メッセージの消費が機能しないと想像してみてください（これはdAppsのカイロ契約のバグが原因で起こる可能性があります）。 これにより、ユーザーは資産の保管を永久に失う可能性があります。

このリスクを軽減するには L1→L2 メッセージを開始したコントラクトに、それをキャンセルする意思を宣言し、適切な時間を待たせることができます ([ドキュメント](https://starknet.io/l1-l2-messaging/#cancellation) を参照)。

### パフォーマンスの改善

このバージョンでは、シーケンサーがカイロの受信トランザクションのストリームを実行する必要がある時間が大幅に短縮されます。

これはほんの最初のステップです! 次の主要な性能のマイルストーン(0.9.0)は、シーケンサーの並列実行であり、さらに多くの最適化が期待されています。

### 今は何ですか？

技術文書[はこちら](https://starknet.io/documentation/fee-mechanism/) をご覧ください。

すべての StarkNet 情報、ドキュメント、チュートリアル、アップデートについては、[starknet.io](https://starknet.io/)に移動してください。

開発者のサポート、エコシステムの発表、コミュニティの一員となるために、[StarkNet Discord](https://discord.gg/uJ9HZTUk2Y)に参加しましょう。

[StarkNet Shamans](https://community.starknet.io/)を訪れて、すべての StarkNet の研究に関する議論に参加してください。