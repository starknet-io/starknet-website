### TL;DR

* カイロ1.0は2年前の[カイロ](https://medium.com/starkware/hello-cairo-3cb43b13b209)の導入に続く最初のメジャーリリースとなる。
* Cairo 1.0 は、開発者に安全でシンプルで使いやすいプログラミング言語を提供します。
* カイロ1.0の中心には**シエラ**があります。カイロプログラムの長期的な安定性を約束する中間表現層です。
* 無許可のネットワークで動作するようにカイロを進歩させます:\
  -**ネットワークの保護**: より堅牢なDoS保護\
  -**ユーザーの保護**: イーサリアムグレードの検閲耐性カイロ1. StarkNetに多くの方法で影響を与えます。 また、[再発](https://medium.com/starkware/regenesis-starknets-no-sweat-state-reset-e296b12b80ae) にも影響します。 今後数週間以内に新生についての詳細情報を掲載します。

### はじめに

2020年には、Turing-completeプログラミング言語であるCairoをリリースし、STARKを用いた検証可能な計算をサポートするための大きな一歩を踏み出しました。 本日、カイロの最大の進歩である**カイロ1.0**を発表いたします。 使いやすさ、安全性、利便性を向上させる機能を備えた改良された言語を紹介します。 StarkNetの要件を許可のないネットワークとしてサポートするように設計されており、プロトコルがよりシンプルで安全になります。\
開発はすでに進行中であり、我々は最初のリリースがまもなく行われることを期待している。

この記事では、これまでのカイロの旅について説明し、今後の機能についての詳細を共有します。

### カイロの旅

2020年までは、一般計算用の STARK証明可能なプログラムを構築するには、ニッチな知識が必要でした。 STARKの背後にある複雑な数学を理解している人々にのみ可能でした。 具体的には、すべてのビジネスロジック、すなわち すべての計算は、代数中間表現(AIR)を生成するために必要なものです。これは、特定の計算を表す多項式の制約のセットです。

Cairo は、検証可能な計算をあらゆる場所の開発者が利用できるようにすべきであるという認識から生まれました。 カイロは、開発者がSTARKの力を活用することを可能にします。

開発者コミュニティは、以来、熱心に構築するためにカイロを押収しました。 今日繁栄しているStarkNetエコシステムのすべてはカイロに基づいています。 [StarkNet](https://starkware.co/starknet/)と[StarkEx](https://starkware.co/starkex/)の間では、カイロ駆動のアプリケーションは 220M トランザクション以上で処理されています。 65M以上のNFTを鋳造し、$ 700B相当の取引を処理し、すべてがEthereumに定住しました。

カイロはSTARKを利用可能にしましたが、もともとアセンブリ言語として設計されており、低レベル言語として書かれていました。

![カイロで書かれた初期のプログラムの例](/assets/cairocode_01.png "カイロで書かれた初期のプログラムの例")

開発者からのフィードバックと[StarkNet](https://starkware.co/starknet/)の台頭により、カイロは徐々に表現力が高く、開発者に優しいものになりました。

![ERC-20 Cairo 契約の例で、変数、if ステートメント、エラー、および UINT256 ライブラリのサポートが示されています。](/assets/cairocode_02.png "ERC-20 Cairo 契約の例で、変数、if ステートメント、エラー、および UINT256 ライブラリのサポートが示されています。")

しかし、私たちはすぐに、それは大きな前進を取る時間であると結論づけました。 カイロを徐々に改善するのではなく大胆な変革へと向かうのです

### Cairo 1.0

カイロ 1. 私たちは全く新しいコンパイラを構築し、開発者に安全機能を提供します。 契約書をよりシンプルで表現力豊かな方法で書くことができます

#### Sierraの紹介:すべてのカイロの実行を確実に実証することができます

The main addition in Cairo 1.0 is Sierra (**S**afe **I**nt**e**rmediate **R**ep**r**esent**a**tion). Sierraは、Cairo 1.0とCairo バイトコードの間の新しい中間表現層を構成する。 Sierraの目標は、すべてのCairo - すなわち、Cairo プログラムとその入力を確実に実行することができるようにすることです(詳細は下記を参照)。

Sierraは、カイロ開発者により良い将来性のあるコードを約束します。 基盤となるシステムの改善の場合、StarkNet契約は再コンパイルする必要がないという事実によって、さらなる安定性が提供されます(e. , CPU AIRアーキテクチャの変更, シエラからカイロのバイトコードへの最終的な翻訳の改善).

**毎回カイロを証明する**古いカイロでは、カイロを実行すると、TRUE、FALSE、または失敗の3つのケースが発生する可能性があります。 失敗した実行を証明することはできません。 Sierraは、カイロの実行が失敗しないことを保証し、TRUEまたはFALSEのみをもたらすことができます。 これは順番に、すべてのカイロの実行が証明できることを保証します。

Sierraのこの導入は許可のないネットワークとしてStarkNetに重要な意味を持っています。 Sierraは、トランザクションを元に戻すことさえStarkNetブロックに含めることができることを保証します。 このプロパティにより、StarkNetプロトコルは複雑な暗号経済メカニズムを追加することなく、リーンでシンプルなままにすることができます。\
2つの有意義な例:

1. シーケンサーは、復元されたトランザクションで手数料を集めることができ、StarkNetが十分に確立された方法でシーケンサーDoSを防ぐことができます。
2. 強制L1取引を実施することが可能になり、StarkNetはEthereumの完全な検閲抵抗を継承することができます。

### **言語の機能**

カイロ1.0はプログラミング言語自体に多くの改良を加えます。 以下に記載されているすべてが最初のリリースに含まれるわけではありませんが、ロードマップの一部です。

#### **構文の改善**

* ローカル**と*tempvar* はもうありません。 これで、すべての変数を支配するために*を*にする必要があります。
* *文の構文が*の場合に改善されました

```python
#Old
if cond != 0 {
  tempvar x = x+1;
} else {
  tempvar x = x;
}
__________________________________
#New
if cond { x = x + 1; }
```

#### **型安全保証**

コンパイラーは、コードのセキュリティを向上させるために強力なタイピングを使用します。 例:

* ポインタは常に初期化されたメモリを指します。
* ディクショナリは、プログラマーに squash_dict を呼び出す責任を残すのではなく、常に押しつぶされます。

#### **言語構造を簡単に使用できます**

例:

* For loops

```
let sum = 0
for x in iter {
  sum = sum + x;
}
```

* ブーリアン式
* 整数 (整数割り算 👯)
* 関連するタイプのオーバーフロー保護
* ブーリアン条件

```
#Old
If cond1:
  if cond2:
       # Some code
  else if cond3:
       # Same code
__________________________________
#New
If cond1 && (cond2 || cond3) { … }
```

#### **本格的な型系**

* 抽象データ型（例） Rust-like enum)

```
enum Option<T> {
 Some: T,
 None,
}
match result {
 Some(r) => {..},
 None => {..},
}
```

* 形質:

```
trait Add<Uint256> {
    fn add(…) { … }
}

let a: Uint256 = 1;
let b: Uint256 = 4;
a + b; // Evaluated to 5 of type Uint256.
```

#### **より直感的なライブラリ**

（例：dict、array）

* 辞書<Uint256, MyStruct>;
* 行列<MyOtherStruct>;

#### **さらに最適化されたコード**

ローカル変数の明示的な状態割り当てを行う必要はありません — 自動検出され、自動的に行われます。

#### **より良いコンパイラの統合**

より良いIDEサポート、パッケージ管理、コミュニティ貢献のより良い促進を可能にします。

### **結論**

カイロが初めて生産に使用されてから2年後には、表現性、セキュリティ、構文を向上させるカイロ1.0を開発しています。 それは開発者がより簡単にStarkNet契約を書くことができるように、大きな進歩を取るでしょう。

別の記事では、すぐに来て、私たちはカイロ1の方法についての詳細を共有します。 StarkNetのリジェネシスと、開発者がリリースの準備をする方法に影響を与えます。