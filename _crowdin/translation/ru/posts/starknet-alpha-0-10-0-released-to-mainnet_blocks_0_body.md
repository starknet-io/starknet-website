### TL;DR

* Улучшения абстракции учетной записи в духе EIP-4337

1. Подтвердить — выполнить разделение
2. Уникальность транзакции теперь обеспечивается в протоколе (Nonce)

* Механизм оплаты расширен и включает:

1. Сообщения L1→L2
2. Объявить транзакции

* Небольшие изменения синтаксиса Cairo

### вступление

Мы рады представить Starknet Alpha 0.10.0. Эта версия — еще один шаг к масштабированию Ethereum без ущерба для безопасности и децентрализации.

В этом сообщении в блоге кратко описаны основные функции этой версии. Полный список изменений см. в[примечаниях к выпуску](https://github.com/starkware-libs/cairo-lang/releases). Для получения более подробной информации см.[документацию](https://docs.starknet.io/).

### Изменения абстракции учетной записи

Мы продвигаемся вперед с[абстракцией учетной записи Starknet](https://community.starknet.io/t/starknet-account-abstraction-model-part-1/781). В этой версии представлены изменения, вдохновленные[EIP-4337](https://eips.ethereum.org/EIPS/eip-4337).

#### Подтвердить/выполнить разделение

До сих пор функция \_\_execute\_\_ учетной записи отвечала как за проверку, так и за выполнение транзакции. В версии 0.10.0 мы разрушаем эту связь и вводим в учетные записи отдельную функцию \_\_validate\_\_. После получения транзакции контракт учетной записи сначала вызовет \_\_validate\_\_, а затем, в случае успеха, перейдет к \_\_execute\_\_.

Разделение проверки/выполнения обеспечивает различие на уровне протокола между недействительными и отмененными (но действительными) транзакциями. Благодаря этому секвенсоры смогут взимать комиссию за выполнение действительной транзакции независимо от того, была ли она отменена или нет.

#### одноразовый номер

В версии 0.10.0 добавлено поле nonce для обеспечения уникальности транзакций на уровне протокола. До сих пор одноразовые номера обрабатывались на уровне контракта учетной записи, что означало, что транзакция с одним и тем же хешем теоретически могла быть выполнена дважды.

Как и в Ethereum, каждый контракт теперь включает одноразовый номер, который подсчитывает количество выполненных транзакций с этой учетной записи. Контракты учетных записей будут принимать транзакции только с совпадающим одноразовым номером, т. е. если текущий одноразовый номер учетной записи равен X, то он будет принимать только транзакции с одноразовым номером X.

#### Новая версия транзакции

Чтобы обеспечить обратную совместимость, мы внесем эти два изменения в новую версию транзакции —[v1](https://docs.starknet.io/docs/Blocks/transactions/#invoke-transaction-version-1%5C). Эти изменения будут применяться только к новой версии, а старые учетные записи по-прежнему смогут выполнять транзакции версии 0.

Примечание — транзакция v0 теперь устарела и будет удалена в Starknet Alpha v0.11.0. Пожалуйста, убедитесь, что вы обновились, чтобы использовать новую версию транзакции.

Для получения более подробной информации о версии транзакции, пожалуйста, прочитайте[документацию](https://docs.starknet.io/docs/Blocks/transactions/#invoke-transaction-version-1%5C).

#### Механизм сборов

Новая версия позволяет включать плату за два обязательных компонента:

* [L1→L2 Сообщение](https://docs.starknet.io/docs/L1-L2%20Communication/messaging-mechanism#l1--l2-message-fees)
* [Объявить транзакцию](https://docs.starknet.io/docs/Blocks/transactions#declare-transaction)

Эти сборы не будут обязательными в этой версии и будут применяться только начиная со Starknet Alpha v0.11.0.

#### Каирские изменения синтаксиса

В пользу постепенного перехода к обновлению Cairo[Cairo 1.0](https://www.youtube.com/watch?v=Ny4Rv6ztINU)эта версия включает несколько изменений синтаксиса.

Чтобы свести к минимуму неудобства, выпуск версии[будет включать сценарий миграции](https://www.youtube.com/watch?v=kXs59zaQrsc), который автоматически применяет вышеуказанные изменения. Вы можете найти более подробную информацию[здесь](https://github.com/starkware-libs/cairo-lang/releases).

### Что дальше?

* Через несколько недель мы планируем внедрить распараллеливание в секвенсор, что позволит ускорить производство блоков (версия 0.10.1).
* Скоро мы завершим последнюю часть, которая должна быть включена в оплату комиссии — Развертывание учетной записи.
* Релиз Каира 1.0! Подробнее об этом в следующем посте.

### Как я могу быть более вовлеченным?

* Перейдите на[starknet.io](https://starknet.io/)для получения всей информации, документации, руководств и обновлений Starknet.
* Присоединяйтесь к[Starknet Discord](http://starknet.io/discord), чтобы получить поддержку разработчиков, анонсы экосистемы и стать частью сообщества.
* Посетите[Starknet Forum](http://community.starknet.io/), чтобы быть в курсе последних новостей и участвовать в дискуссиях об исследованиях Starknet.

Мы всегда рады получать отзывы о нашей[документации](https://docs.starknet.io/)!