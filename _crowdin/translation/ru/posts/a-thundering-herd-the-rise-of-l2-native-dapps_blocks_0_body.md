### TL;DR

Теперь dApps L2-native теперь могут процветать без традиционных ограничений на газ L1

### Введение

Разработчики dApp всегда сталкивались с серьезными ограничениями из-за лимита блочного газа Ethereum (L1). Он ограничивает не только*, как*работают эти децентрализованные приложения, но и*, что*эти децентрализованные приложения способны делать.

Уровень 2 (L2) предлагает разработчикам dApp новое вычислительное поле, свободное от этого газового стеклянного потолка. Мы считаем, что через пару лет подавляющее большинство dApps станут родными для L2: они будут созданы с нуля на L2, чтобы воспользоваться этой вычислительной степенью свободы.

### Газ L1 ограничивает форму собственных децентрализованных приложений L1

*Давайте рассмотрим два примера популярных децентрализованных приложений, дизайн которых сильно зависит от ограничений газа L1: агрегаторы AMM и DEX.*

Автоматизированный маркет-мейкер (AMM) — это, по сути, низкозатратная аппроксимация биржи, основанной на книге заказов. Вместо того, чтобы позволять пользователям размещать и удалять лимиты, стоп-лосс или множество других типов ордеров, AMM L1 допускают только простые свопы с центральным базовым пулом ликвидности — чтобы приспособиться к интенсивным вычислительным затратам L1.

Агрегаторам DEX в идеале нужен доступ ко всем возможным пулам ликвидности, даже к самому маленькому пулу ликвидности, чтобы использовать лучшие цены для пользователей. Однако из-за стоимости запросов к множеству разных пулов просто не стоит проводить транзакции через L1. Доступ к пулам и уплата связанных с ними комиссий за транзакции оправданы только в том случае, если пулы ликвидности обладают достаточно высокой ликвидностью. В том же духе ликвидация в кредитовании / заимствовании и других dApp на основе залога могла бы быть намного более точной, если бы разница между скидкой на ликвидацию и комиссией за транзакцию была намного меньше.

Ограниченная функциональность и дизайн многих приложений L1 dApp напрямую связаны с тем, что разработчики оптимизируют свой код, чтобы соответствовать ограничениям газа Ethereum. Почему, спросите вы, мы говорим «Эфириум»? Разве код Solidity не может работать на многих L1 и даже на некоторых L2? Действительно, но из них Ethereum — самая дорогая (и, следовательно, безопасная) среда. Децентрализованные приложения Solidity предназначены для «самой дорогой ссылки», то есть Ethereum. Следовательно, они не получают вычислительных преимуществ, предоставляемых менее дорогими средами выполнения. Чтобы разблокировать упущенную функциональность путем разработки dApp для самой дорогой среды выполнения, необходимо адаптировать код dApp.

### Рост L2-native dApps

Validity Rollups (также известные как ZK-Rollups) обеспечивают чрезвычайно дешевые вычисления. В отличие от любого другого решения для масштабирования, вычисление L2 может расти экспоненциально, лишь незначительно влияя на стоимость проверочного газа в цепочке. Кроме того, Validity Rollup обрабатывает входные данные для вычислений — «свидетельские данные» — без использования дополнительных ресурсов L1, что позволяет выполнять вычисления с большим количеством входных данных.

Нативное кодирование децентрализованных приложений на L2 в**[Cairo](https://www.cairo-lang.org/)**(полный по Тьюрингу язык для масштабирования децентрализованных приложений с помощью доказательств STARK) открывает перед разработчиками широкие возможности. Это позволяет им использовать значительные объемы данных — как вычислительных, так и свидетельских данных, — которые они не могли использовать раньше.

Давайте рассмотрим такие децентрализованные приложения L2 и их новые расширенные возможности.

#### DeFi

До подключения к StarkEx, накопительному пакету достоверности StarkWare, dYdX работал как dApp L1 на Ethereum. Он предлагал своим пользователям кредитное плечо x10 по синтетическим активам и поддерживал позиции только с одним синтетическим активом. Перестройка dYdX в Каире в качестве собственного dApp L2 обеспечивает значительно более масштабируемую, дешевую и эффективную платформу DeFi:

* Обновления цен Oracle: такие обновления обычно включают десятки цен и сигнатур из разных источников для расчета медианы. Validity Rollup обеспечивает экспоненциальное масштабирование логики ценового оракула (проверка подписи и расчет средней цены) — без передачи этих данных-свидетелей в L1. Сравните это с реализацией dYdX L1, где каждое обновление ценового оракула стоило около 300 тысяч газа и, следовательно, было ограничено по частоте и размеру набора ценовых репортеров.
* Кредитное плечо: Точная подача цен позволяет dYdX оценивать риск позиции в режиме реального времени и предлагать пользователям более высокое кредитное плечо. Благодаря улучшенным обновлениям цен оракула dYdX увеличил кредитное плечо с x10 на L1 до x25 на L2.
* Кросс-маржа: с dYdX на L2 маркет-мейкеры могут размещать длинные/короткие ордера на многие активы, используя одно и то же обеспечение. Средний расчет на L2 dYdX включает позиции с более чем 10 различными синтетическими активами! Для сравнения, наличие такой возможности перекрестной маржи на L1 более чем удвоило бы стоимость газа в сети.

#### Игры и генеративное искусство

Нынешние игры для L1 обычно хранят игровые ресурсы на L1, при этом вся игровая логика реализуется в доверенном приложении вне сети. Эта модель является прямым результатом ограничений газа L1. Благодаря дешевым вычислениям на L2 разработчики L2-родных игровых dApps теперь могут реализовывать игровую логику в смарт-контракте и безнадежно манипулировать игровыми активами, а не просто хранить их. Перенос игровой логики в область ненадежных вычислений — важный шаг на пути к гораздо более богатому миру игр на основе блокчейна. Игры L2 уже разрабатываются в StarkNet, не требующей разрешения сети StarkWare (например,[Dope Wars](https://github.com/dopedao/RYO)и[Influence](https://medium.com/influenceth/influence-to-launch-on-starknet-afd3c26ea25a)).

Но насколько сложной может быть игра на основе блокчейна? Например, обработка графики напрямую в цепочке кажется невозможной —[или](https://twitter.com/guiltygyoza/status/1449637155001798657)? Решение дифференциальных уравнений и моделирование плоскостного движения в смарт-контракте представляет собой значительный шаг к тому, что в будущем может стать физическим движком блокчейна. Последствия огромны. Представьте себе соревновательную многопользовательскую игру, такую как Counter-Strike. Если бы можно было смоделировать игровую логику в сети, многие страшные взломы остались бы в прошлом — игроки могли бы наслаждаться доказуемо честной игрой.

Генеративное искусство использует вычисления, случайность и другие данные для создания искусства на основе блокчейна. Чем более сложную логику и вычисления может использовать художник, тем больше у него возможностей для создания уникальных произведений искусства. [WhaleStreet DAO](https://blog.whalestreet.xyz/whalestreet-dao-to-launch-gen-art-ecosystem-on-ethereum-with-starknet/)запускает один из первых проектов Gen Art в StarkNet, используя неограниченные вычислительные ресурсы StarkNet.

### Что дальше?

Validity Rollups — и, в частности, StarkEx и StarkNet на базе Cairo — предоставляют среду, в которой можно разрабатывать и использовать dApp, которые потребляют много вычислений или данных свидетелей. Со всеми преимуществами технологии распределенного реестра мы прогнозируем чрезвычайно захватывающее будущее для L2-native dApps.

*вы можете*с помощью общих вычислений, поддерживаемых компонуемостью, отсутствием доверия и децентрализацией?