### TL;DR

* StarkNet Alpha 0.8.0 представляет первоначальную версию механизма комиссий (опционально до StarkNet Alpha 0.9.0.)
* Новый API требует оценки комиссии за получение трассировки транзакций, что позволяет лучше видеть и отлаживать транзакции
* Улучшение производительности для StarkNet последовательности
* Отмена L1→L2 сообщения

### Введение

Как рассказывалось в нашей[дорожной карте](https://www.notion.so/starkware/StarkNet-Alpha-Features-Tentative-Roadmap-f2b8f5f25a2d4d1cb3265fb82a098c51), следуя последним дополнениям к функциям и функциям StarkNet, наше внимание сменяется в сторону повышения эффективности и проектирования протоколов (включая сборы, абстракцию счетов, децентрализацию и т.д.). StarkNet Alpha 0.8.0 начинает процесс добавления комиссии за транзакции и улучшения работы последовательности.

Дорожная карта StarkNet включает в себя платный механизм, и пройдя по этой версии, мы приближаемся к полной производительности платформы.

Создание механизма оплаты является неотъемлемой частью дизайна производительности StarkNet. Без минимальной комиссии мы рискуем столкнуться с бесконечными транзакциями: что сделает невозможным выполнение системы, независимо от оптимизации последовательности.

### Возможности

#### Поддержка комиссии

StarkNet Alpha теперь поддерживает первую версию механизма комиссии. Этот механизм необходим даже на данном раннем этапе, и даже на Testnet по двум основным причинам:

1. Это позволяет разработчикам начать оптимизировать свои контракты по модели затрат StarkNet.
2. Решающее значение имеет улучшение производительности системы, так как она предотвращает спам путем отправки бесчисленных транзакций.

В этой версии представлены компоненты, необходимые разработчикам для включения платежей в их инструменты и приложения. Теперь разработчики могут оценить комиссию за транзакцию, позвонив в конечную точку \`estimate_fee\` и оплатив ее в качестве части выполнения транзакции.

Поскольку эта функция не совместима с обратной стороной, мы не будем применять плату на данный момент, а только с версии 0. .0, который должен быть выпущен через несколько недель. Этот постепенный переход позволит пользователям и разработчикам адаптироваться к новой модели.

#### Структура комиссии на 0.8.0

0.8.0 плата будет взиматься только по вычислительной сложности, в то время как StarkWare будет по-прежнему субсидировать расходы на связь L1. Мы будем обновлять механизм оплаты таким образом, чтобы он включал эти расходы на эксплуатацию L1 и связь в течение следующих нескольких недель. Оплата будет произведена на атомарной основе с исполнением транзакции на StarkNet L2. Смотрите документацию[комиссии](https://starknet.io/documentation/fee-mechanism/)для подробного описания.

Важно отметить, что мы будем тесно сотрудничать с сообществом разработчиков для изменения и разработки механизма оплаты по мере развития StarkNet.

#### L2 Goerli ETH Faucet

Мы запустили[L2 Goerli ETH Faucet](https://faucet.goerli.starknet.io/), чтобы пользователи могли платить за Testnet. Faucet посылает небольшие суммы L2 Goerli ETH на адрес вашего счета на StarkNet Goerli, который вы можете использовать для уплаты комиссии за транзакцию.

#### Trace API

Добавлена возможность получения трассировки выполнения транзакции в StarkNet API. Внутри трека транзакции все внутренние звонки видны и сопровождаются такой информацией, как потребляемые ресурсы исполнения, значение возврата, исходящие события и отправленные сообщения. Этот новый вызов упрощает понимание поведения контракта или отладки транзакций. Кроме того, такие инструменты, как[Voyager](https://voyager.online/)или[StarkTx](https://starktx.info/)могут включать эти данные; предоставление пользователям более подробного анализа, в частности для взаимодействия с контрагентом по счету.

Для получения трассировки вы можете использовать \`get_transaction_trace\` в StarkNet CLI. Чтобы увидеть пример его использования, посетите[учебник](https://www.cairo-lang.org/docs/hello_starknet/cli.html?#get-transaction-trace).

#### Отмена сообщения

Дополнительной особенностью данной версии является возможность отмены L1→L2 сообщений. Почему это полезно? Представьте себе сценарий, где пользователь передает актив от L1 к L2. Поток начинается с пользователя, отправляющего актив мосту StarkNet и соответствующего генерирования сообщений L1→L2. Теперь представьте, что потребление сообщений L2 не работает (это может произойти из-за ошибки в договоре dApps'а Каира). Это может привести к тому, что пользователь навсегда утратит контроль над своим имуществом.

Чтобы смягчить этот риск, мы разрешаем аннулировать контракт, инициировавший сообщение L1→L2, после объявления о намерении сделать это и ждет подходящего количества времени (см. документацию[](https://starknet.io/l1-l2-messaging/#cancellation)).

### Улучшение производительности

Эта версия значительно уменьшает время, которое последовательности необходимо выполнить поток входящих транзакций в Каире.

Это только первый шаг! Наш следующий крупный этап производительности, который будет представлен вскоре (0.9.0), является параллельным исполнением последовательности, и многие более оптимизации ожидаются на пути.

### Что сейчас?

Прочтите техническую документацию[здесь](https://starknet.io/documentation/fee-mechanism/).

Перейдите к[starknet.io](https://starknet.io/), для получения всей информации StarkNet, документации, учебников и обновлений.

Присоединяйтесь к[StarkNet Discord](https://discord.gg/uJ9HZTUk2Y)для поддержки разработчиков, объявления экосистем и становитесь частью сообщества.

Посетите[StarkNet Shamans](https://community.starknet.io/), чтобы быть в курсе обновлений и участвовать во всех дискуссиях о исследованиях StarkNet.