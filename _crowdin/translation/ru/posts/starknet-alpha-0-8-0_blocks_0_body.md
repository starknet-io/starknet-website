### TL;DR

* Starknet Alpha 0.8.0 представляет первоначальную версию механизма комиссий (необязательный до Starknet Alpha 0.9.0).
* Новый API требует оценки комиссии за транзакцию для получения трассировки транзакции, что обеспечивает лучшую видимость и возможности отладки.
* Улучшения производительности секвенсора Starknet
* Отмена сообщения L1→L2

### вступление

Как указано в нашей дорожной карте [](https://www.notion.so/starkware/StarkNet-Alpha-Features-Tentative-Roadmap-f2b8f5f25a2d4d1cb3265fb82a098c51), после последнего дополнения к функциональности и функциям Starknet наше внимание переключается на повышение производительности и дизайн протокола (включая сборы, абстракцию учетных записей, децентрализацию и т. д.). Starknet Alpha 0.8.0 запускает процесс добавления комиссий за транзакции и повышения производительности секвенсора.

Дорожная карта для Starknet включает механизм оплаты, и, работая над этой версией, мы делаем важный шаг к полной производительности платформы.

Добавление механизма оплаты является неотъемлемой частью дизайна производительности Starknet. Без минимальной комиссии мы рискуем столкнуться с бесконечными транзакциями: что сделает невозможным функционирование системы независимо от оптимизации секвенсора.

### Функции

#### Платная поддержка

Starknet Alpha теперь поддерживает первую версию механизма комиссий. Этот механизм необходим даже на этом раннем этапе и даже в тестовой сети по двум основным причинам:

1. Это позволяет разработчикам начать оптимизировать свои контракты в соответствии с моделью затрат Starknet.
2. Это важный элемент повышения производительности системы, поскольку он предотвращает рассылку спама путем отправки бесчисленных транзакций.

В этой версии представлены компоненты, необходимые разработчикам для включения комиссионных платежей в свои инструменты и приложения. Теперь разработчики могут оценить комиссию за транзакцию, вызвав конечную точку \`estimate_fee\`, и произвести оплату комиссии как часть выполнения транзакции.

Поскольку эта функция не имеет обратной совместимости, мы не будем взимать плату на данном этапе, а только с версии 0.9.0, которая должна быть выпущена через несколько недель. Этот постепенный переход позволит пользователям и разработчикам приспособиться к новой модели.

#### Структура комиссий в версии 0.8.0

В версии 0.8.0 плата будет взиматься только в зависимости от вычислительной сложности, в то время как StarkWare по-прежнему будет субсидировать стоимость связи L1. В течение следующих нескольких недель мы обновим механизм оплаты, включив в него эти расходы на операции L1 и связь. Платеж будет собираться атомарно при выполнении транзакции на Starknet L2. Подробное описание см. в документации по [сборов](https://starknet.io/documentation/fee-mechanism/).

Важно отметить, что мы будем тесно сотрудничать с сообществом разработчиков, чтобы настраивать и развивать механизм оплаты по мере развития Starknet.

#### Смеситель L2 Goerli ETH

Мы запустили [L2 Goerli ETH Faucet](https://faucet.goerli.starknet.io/) , чтобы пользователи могли оплачивать комиссию в Testnet. Этот сборщик отправляет небольшие суммы L2 Goerli ETH на адрес вашей учетной записи в Starknet Goerli, которые вы можете использовать для оплаты комиссии за транзакцию.

#### API трассировки

Мы добавили возможность получать трассировку выполнения транзакции в API Starknet. В трассировке транзакции видны все внутренние вызовы, сопровождаемые такой информацией, как потребляемые ресурсы выполнения, возвращаемое значение, испускаемые события и отправленные сообщения. Этот новый вызов упрощает понимание поведения контракта или отладку транзакций. Кроме того, такие данные, как [Voyager](https://voyager.online/) или [StarkTx](https://starktx.info/) могут включать эти данные; предоставление пользователям более подробного анализа, в частности, для взаимодействия с контрактом счета.

Чтобы получить трассировку, вы можете использовать \`get_transaction_trace\` в интерфейсе командной строки Starknet. Чтобы увидеть пример того, как его использовать, ознакомьтесь с учебным пособием [](https://www.cairo-lang.org/docs/hello_starknet/cli.html?#get-transaction-trace).

#### Отмена сообщения

Дополнительной функцией этой версии является возможность отмены сообщений L1→L2. Почему это полезно? Представьте себе сценарий, в котором пользователь переносит актив с L1 на L2. Поток начинается с того, что пользователь отправляет актив на мост Starknet и генерирует соответствующее сообщение L1 → L2. Теперь представьте, что потребление сообщений L2 не работает (это может произойти из-за ошибки в контракте dApps Cairo). Это может привести к тому, что пользователь навсегда потеряет контроль над своим активом.

Чтобы снизить этот риск, мы позволяем контракту, который инициировал сообщение L1→L2, отменить его — после объявления о намерении сделать это и ожидания подходящего периода времени (см. документацию [](https://starknet.io/l1-l2-messaging/#cancellation)).

### Улучшения производительности

Эта версия значительно сокращает время, необходимое секвенсору для выполнения потока входящих транзакций Cairo.

Это только первый шаг! Следующей важной вехой производительности, которая скоро будет представлена (0.9.0), является параллельное выполнение секвенсора, и в будущем ожидается множество других оптимизаций.

### Что теперь?

Прочтите техническую документацию [здесь](https://starknet.io/documentation/fee-mechanism/).

Перейдите на [starknet.io](https://starknet.io/), чтобы получить всю информацию о Starknet, документацию, руководства и обновления.

Присоединяйтесь к [Starknet Discord](https://discord.gg/uJ9HZTUk2Y) , чтобы получить поддержку разработчиков, анонсы экосистемы и стать частью сообщества.

Посетите [Starknet Shamans](https://community.starknet.io/) , чтобы оставаться в курсе и участвовать во всех обсуждениях исследований Starknet.