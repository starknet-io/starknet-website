### Первый доказуемый игровой движок для Starknet

#   

## TL;DR

* Dojo — это доказуемый сетевой игровой движок, позволяющий создавать игры с правами собственности, функциональной совместимостью и расширяемостью.
* Он работает на Starknet, предоставляя программную среду для создателей игр, чтобы помочь им создавать высококачественную бесшовную и быструю игру.
* Dojo улучшает разработку игр, обеспечивая быстрые и дешевые транзакции, необходимые для криптоигр промышленного уровня.
* Такие компоненты, как ECS, Sozu, Torii и Katana, помогают в разработке и развертывании игр.
* Будущие усовершенствования Dojo включают исследования игр уровня 3, оптимистичные обновления, проверку на стороне клиента и межсетевые передачи.
* Игры на базе Dojo в Starknet, такие как Dope Wars, Influence, Realms и CafeCosmos, растут, что свидетельствует о растущей тенденции в онлайн-играх.

#  

*Игры на блокчейне не оправдали своего обещания. Ограничения в масштабах и высокие затраты ограничивают большинство сетевых игр токенизацией игровых активов. Но с дешевыми и быстрыми транзакциями, обеспечиваемыми Starknet, и новым крипто-игровым движком Dojo обещание не только владеть вашими игровыми активами, но и подтверждать игровую логику в цепочке сбывается.*  

Мировой игровой рынок, оцениваемый в 245 миллиардов долларов [по состоянию на 2023 год,](https://www.mordorintelligence.com/industry-reports/global-gaming-market) одним из крупнейших сегментов мировой индустрии развлечений. А игры *блокчейн* , обещающие безграничную совместимость, открывают дверь в мир игр, который намного более захватывающий, чем текущий сценарий. Подобно тому, как многопользовательские игры добавили в игровую экосистему совершенно новое измерение возможностей, онлайн-игры могут стать еще более интересными и актуальными.

Но это обещание натолкнулось на реальность блокчейна — транзакции дорогие и медленные. Это две проблемы, которых просто не может быть в играх. Из-за этого создание успешных онлайн-игр стало почти невозможным.

Но благодаря зрелости технологии накопления валидности обещание сетевых игр, наконец, выполняется. 

В этой статье мы рассмотрим, как высокий TPS, обеспечиваемый **Starknet** , воплощает в жизнь обещание сетевых игр. И мы посмотрим, как **Dojo**— первый доказуемый игровой движок, созданный сообществом, — использует Starknet для расширения возможностей создателей. Наконец, мы рассмотрим будущее Dojo и то, что оно открывает для игр с блокчейном.

## Криптовалютные игры

Когда мы говорим об играх **блокчейном, две самые популярные идеологии, которые поддерживает блокчейн, — это владение внутриигровыми активами** и **интероперабельность**. 

**Владение внутриигровыми активами** означает, что игровые активы принадлежат кошельку, принадлежащему *пользователю*. Другими словами, они не принадлежат разработчику игры или простой учетной записи электронной почты, хранящейся на централизованном сервере, которую разработчики игры могут удалить удаленно. В играх с блокчейном активы, которые вы создаете или зарабатываете, действительно принадлежат вам.

И как только эти активы принадлежат *вам*— игры могут обеспечивать **совместимость**. Благодаря совместимости персонажи и активы из одной игры могут быть перенесены в другую игру или мир. Если вы потратили сотни часов на игру, но решили больше не играть, вы можете взять эти с трудом заработанные активы с собой в свою новую игру по выбору. 

Чтобы реализовать эти две концепции, игры должны быть построены **в цепочке**. Это означает, что все внутриигровые активы, все действия, предпринимаемые игроком, и любые другие изменения состояния *должны выполняться как транзакция в блокчейне* (либо отдельно для каждого действия, либо периодически отправляемая совокупная транзакция). В довольно децентрализованном блокчейне это может стоить от нескольких центов *до нескольких сотен долларов* (во время перегрузки) и занимать несколько минут или больше для одной транзакции. Очевидно, что это делает эксплуатацию крупномасштабной игровой инфраструктуры на таких платформах непомерно дорогой, медленной и непрактичной.

## Старкнет и дешевые вычисления 

Но все меняется с появлением накопительных пакетов валидности, таких как Starknet. 

**Starknet** — это накопительный пакет достоверности уровня 2 (обычно известный как накопительный пакет с нулевым разглашением), разработанный [StarkWare](https://starkware.co/starknet/) , который использует криптографические системы, называемые STARK, для значительного снижения затрат на вычисления и хранение. (Чтобы узнать больше о криптографических доказательствах в Starknet, [обратитесь к вводной статье здесь](https://starkware.medium.com/cambrian-explosion-of-cryptographic-proofs-5740a41cdbd2#:~:text=The%20Cambrian%20explosion%20of%20cryptographic,currently%20being%20used%20in%20web3).) 

Starknet (и Cairo, язык смарт-контрактов для Starknet) позволяют dApps обрабатывать высокие TPS с минимальными затратами и при этом использовать преимущества безопасности Ethereum. Эти дешевые и быстрые транзакции — именно то, что нужно, чтобы раскрыть потенциал игр с блокчейном. Теперь игры могут быть полностью сетевыми, быстрыми и доступными.   

Но даже с возможностью работать в сети, для процветания игр с блокчейном им нужен второй ключевой строительный блок: доказуемый игровой движок.

## Что такое игровые движки

Игровой движок **** — это программная среда, которая обеспечивает красивые настройки, быстрые движения игроков и реалистичное поведение персонажей в играх, которые вы любите. Игровой движок обычно включает в себя библиотеки и программы поддержки, которые предоставляют разработчикам основу, поэтому им не нужно воссоздавать фундаментальные системы (такие как физика, графика и игровая механика) с нуля для каждой игры. Игровые движки также могут включать обработку аудио и видео, рендеринг 3D-эффектов и функции искусственного интеллекта. 

Игровой движок — это сцена, на которой строится игра. 

Большинство игр, в которые мы любим играть, обязаны своим существованием двум самым популярным игровым движкам в мире: Unity и Unreal Engine. Unreal Engine, разработанный Epic Games, использовался в таких популярных играх, как Fortnite, Street Fighter V и серии Gears of War. Unity, еще один крупный игрок в индустрии игровых движков, воплотила в жизнь такие игры, как Hearthstone, Ori and the Blind Forest и Pokémon Go.

Поскольку Starknet раскрывает потенциал криптоигр, на Starknet появилось множество проектов, создающих игры. Но чего все еще не хватает, так это игрового движка *crypto* , который позволяет разработчикам создавать игры без необходимости писать собственный код для базовой физики, логики и игровой механики — и все это, оставаясь в сети. 

## Dojo — первый доказуемый игровой движок

**[Dojo](https://dojoengine.org/)** — это движок криптоигр. Это созданный сообществом доказуемый игровой движок и набор инструментов для создания сетевых игр и автономных миров. Это воплощает обещание криптоигр в реальность.

Количество игр в Starknet с использованием Dojo быстро растет. Некоторые из самых популярных включают в себя:

* [Influence](https://www.influenceth.io/) — масштабная MMO-стратегия, действие которой происходит в далеком поясе астероидов с открытой экономикой, принадлежащей игрокам. Пользователи могут покупать NFT, которые позволяют им исследовать и разрабатывать астероиды. Все астероиды живут в одном мире, и игроки могут взаимодействовать друг с другом. 
* [Realms](https://linktr.ee/BibliothecaDAO) — стратегическая игра с 8000 карт земель с определенными названиями, формами, размерами и географическими характеристиками, которые дают пользователям (владельцам этих земель) полезность в цепочке, такую как генерация ресурсов и взаимозаменяемые примитивы жилья, позволяющие проводить экономические игры.
* [CafeCosmos](https://www.cafecosmos.io/) — наземная сетевая игра, в которой пользователи должны эффективно управлять ресурсами. Это включает в себя сбор ресурсов, сельское хозяйство и выращивание животных, изготовление техники и мебели, торговлю активами и многое другое. 

## Компоненты додзё

Экосистема Dojo состоит из следующих компонентов: 

* ECS (система компонентов объектов), написанная на [Cairo](https://github.com/starkware-libs/cairo)
* Планировщик миграции Созу
* Стек индексации сети Torii &
* Сеть разработки Katana RPC

Давайте подробно рассмотрим каждый из них. 

Система **ECS** — это шаблон проектирования, используемый в разработке игр для повышения удобства сопровождения кода. Система ECS позволяет разработчику игры придавать уникальные свойства (компоненты) игровым объектам (сущностям), позволяя всей сцене работать как интегрированная система. 

Платформа Dojo ECS, специально разработанная для разработки игр на основе блокчейна, обеспечивает модульность, эффективность и гибкость, которые жизненно важны для решения уникальных задач сред блокчейна. Это позволяет создавать сложные динамичные игры на блокчейне, поддерживая разнообразные игровые механики и взаимодействия, используя прозрачные и децентрализованные преимущества технологии блокчейна. 

А поскольку Dojo написан в Каире, он максимально повышает эффективность кода, который необходимо проверить. (Чтобы узнать больше о тонкостях Каира и о том, что мы подразумеваем под доказуемостью, [мы рекомендуем эту статью](https://starkware.medium.com/moving-from-solidity-to-cairo-7d44f9723c68).) 

**Sozo** — набор инструментов, адаптированный специально для планирования сборки и миграции. Другими словами, Sozo можно использовать для развертывания разработанных игр в Starknet. С помощью простой команды «sozo migrate» возможно развертывание экземпляра игрового «мира» в сети. Sozo доступен только как инструмент интерфейса командной строки (CLI). Однако интерфейс GUI в настоящее время находится в разработке.

**Torii** — это комплексный уровень индексации и сетевого взаимодействия для миров Dojo. Поскольку система Torii построена поверх Dojo, она предназначена для индексации любых событий, происходящих в игровых мирах, развернутых в сети. Он систематически упорядочивает состояние миров Dojo, делая запросы данных для клиентов удобными и эффективными. Учитывая множество изменений состояния в играх — представьте, что каждый щелчок — это изменение состояния, — эффективные системы запросов — полезная функция в стеке Dojo. Запросы к Torii выполняются в [GraphQL](https://www.apollographql.com/blog/graphql/basics/what-is-graphql-introduction/).

**Katana** — чрезвычайно быстрый локальный узел Starknet, предназначенный для поддержки локальной разработки с помощью Dojo. Katana позволяет разработчикам тестировать свои приложения в этой «сети разработчиков» для быстрой локальной разработки. Разработчики могут использовать сеть Katana для проверки транзакций, отправляемых во время игры. Katana предоставляет удобные методы RPC, которые можно использовать для изменения конфигурации сети по мере необходимости (например, изменение времени блокировки или разрешение транзакций с нулевой комиссией и т. д.). Кроме того, Katana поддерживает версию [v0.3.0](https://github.com/starkware-libs/starknet-specs/tree/v0.3.0) спецификаций Starknet JSON-RPC (последняя версия на июнь 2023 г.). Собственные вызовы Starknet JSON, такие как starknet_getTransactionReceipt, starknet_getStorageAt, можно использовать в Katana. 

## Будущее Dojo и Crypto Gaming 

Сообщество Dojo постоянно исследует и строит, чтобы продвигать криптоигры вперед. Помимо улучшения текущих компонентов ведущие разработчики работают над:

* L3s для игр
* Оптимистичные обновления
* Проверка на стороне клиента 
* Передача активов между сетями

Давайте рассмотрим каждый из них и их значение для игр.

**L3 для игр** — Dojo изучает жизнеспособность разработки игр в качестве L3 в Starknet. Это означает, что поверх Starknet развертывается отдельная цепочка, которая периодически подтверждает выполнение своих транзакций и отправляет подтверждение в Starknet (L2). Starknet объединяет это доказательство с другими транзакциями в сети и отправляет доказательство в Ethereum L1, где оно проверяется. [Такое решение могло увеличить масштабируемость игры](https://medium.com/starkware/fractal-scaling-from-l2-to-l3-7fe238ecfb4f) даже в несколько раз. (В качестве дополнительного шага подумайте о том, что каждый раз, когда игрок пытается пройти уровень в игре, создается новый слой для одноразового использования поверх игрового слоя.)

**Оптимистичные обновления** Как часто мы молча ждали, пока текст «Выполняется транзакция…» в наших кошельках станет зеленым и покажет транзакцию как «подтвержденную»? Много. Если каждый ход, который игрок делает в игре, отправляется как отдельная транзакция, игрок будет тратить ** времени на ожидание принятия транзакции. 

Оптимистичные обновления, которые Dojo работает над добавлением в свой стек дополнительных функций, избавляют от этой проблемы, оптимистично выполняя транзакцию на стороне клиента (в самом браузере) и позволяя игроку продолжить игру. Если по какой-то причине результат транзакции отличается от того, что было запущено в браузере, игра согласует изменения.

**Проверка на стороне клиента**Наряду с оптимистичными обновлениями, выполняемыми на стороне клиента, Dojo изучает возможность проверки на стороне клиента частей транзакций, отправляемых по цепочке. Это позволило бы играм, построенным на основе Dojo, эффективно скрывать некоторые входные данные, переданные пользователем, поскольку может быть создано ZK-доказательство получения этих входных данных на стороне клиента. Это доказательство ZK, в свою очередь, может быть отправлено по цепочке секвенсору, который выполняет остальную часть транзакции. 

**Использование доказательств хранения** Доказательства хранения — это криптографический способ хранения информации о блокчейне, чтобы ее можно было совместно использовать в цепочках. Подобно оракулам, они предоставляют доказательства того, что информация верна. Но в отличие от оракулов, они не требуют доверия к третьей стороне для этого доказательства — с доказательствами хранилища доверие встроено в хранилище. Доказательства хранилища также позволяют подтвердить действительность состояния для другой цепочки или слоя, построенного поверх Ethereum. 

Dojo работает с командой [Herodotus](https://www.herodotus.dev/) над реализацией доказательств хранения в Dojo, чтобы не было необходимости</em> межцепочечной передаче активов *. Право собственности на актив из другой цепочки может быть подтверждено доказательством хранения, и пользователь сможет использовать свои активы в разных играх в разных цепочках или слоях. (См. часть о том, что игры создаются как отдельные L3 поверх Starknet, обсуждавшиеся выше.)</p>

## Заключение

Dojo — это первый в мире доказуемый игровой движок, который стал возможен благодаря наличию Starknet и Cairo. Благодаря доказуемым игровым движкам, таким как Dojo, действительно онлайновые криптоигры начинают выходить на свет. Обещание «функциональная совместимость и владение» выполняется шаг за шагом.

Если вы хотите помочь сообществу Dojo построить будущее, посетите их по адресу [https://dojoengine.org](https://dojoengine.org/) или свяжитесь с ними в Discord.