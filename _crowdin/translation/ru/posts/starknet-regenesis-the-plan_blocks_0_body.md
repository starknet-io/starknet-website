### TL;DR

* Мы делимся подробным планом Regenesis, который был сформирован в результате обширных обсуждений с сообществом Starknet. Особая благодарность Kuba@SWM.
* Regenesis последует за выпуском Cairo 1.0, что сделает систему более безопасной за счет более простых и безопасных контрактов Starknet.
* Пользователи должны быть готовы обновить свой кошелек на этапе перехода.
* Разработчики должны будут перенести свои контракты на Cairo 1.0.

### Введение

Starknet Alpha продвигается к Regenesis, что является важным шагом на пути к производству. В этом обновлении мы хотим поделиться более подробной информацией об основной мотивации Regenesis —[Cairo 1.0](https://medium.com/starkware/cairo-1-0-aa96eefb19a0)— и начать объяснять, что это потребует от пользователей и разработчиков. После Regenesis Starknet будет работать только с контрактами на основе Cairo 1.0 и начнет с нового генезисного блока с существующим состоянием.

Что Regenesis потребует от пользователей? Простое обновление своего кошелька. Что это потребует от разработчиков децентрализованных приложений Starknet? Перенос их контрактов на Cairo 1.0 и выполнение простого руководства по обновлению. В частности, не будет перезапуска из чистого состояния, и мы останемся с тем же экземпляром Starknet, что означает, что не будет необходимости в миграции**.**

План Regenesis состоит в том, чтобы полностью сохранить состояние приложений и не допускать простоев приложений. Таким образом, приложения, которые следуют рекомендациям, которые мы предоставим, смогут сразу же запускаться в основной сети Starknet Alpha без каких-либо помех для их работы и их пользователей во время процесса Regenesis. Мы стремимся работать с сообществом и предоставляем всю необходимую поддержку. сделать этот процесс максимально гладким.

Мы придерживаемся этого направления в результате обширных обсуждений с сообществом, которые включали важное предложение от команды Software Mansion.

### Почему Регенезис?

#### Каир 1.0 и Сьерра

Основной мотивацией для Regenesis является использование новых возможностей, появившихся в Cairo 1.0, а именно защиты секвенсоров от DOS, устойчивости к цензуре и учета газа, которые необходимы для Starknet как децентрализованной сети.

Cairo 1.0 гарантирует, что каждая транзакция может быть доказана. Это позволит Starknet включать отмененные транзакции в блоки и генерировать доказательства их выполнения. Этот механизм позволит секвенсорам платить за выполнение отмененных транзакций, повышая защиту DOS от злоумышленников. Кроме того, Cairo 1.0 будет поддерживать учет газа, что позволит Starknet перейти на более интуитивно понятный рынок комиссий. Наконец, это позволит Starknet вводить принудительные транзакции из L1 и повысит возможности защиты сети от цензуры.

Чтобы воспользоваться этими преимуществами, нельзя смешивать контракты Cairo v0 и Cairo 1.0. Нельзя доказать, что неверные заявления неверны, и нельзя отследить газ, если у нас есть фрагменты контрактов Cairo v0. С этой целью нам нужно будет полностью исключить код Cairo v0 из состояния Starknet, а значит, Regenesis.

**После Regenesis у нас будет система Starknet, полностью основанная на Cairo 1.0.**

#### Упрощение кода и протокола

Starknet, еще находясь в альфа-версии, уже претерпел множество изменений. Каждая версия до сих пор изменяла ОС Starknet, блоки и структуру транзакций. Это привело к тому, что часть кода устарела. Тем не менее, полные узлы и поставщики инфраструктуры (такие как индексаторы и обозреватели состояний) должны знать и реализовывать все прошлые варианты поведения альфа-версий Starknet, чтобы безнадежно синхронизироваться с состоянием. Без Regenesis это бремя могло бы стать серьезным сдерживающим фактором для разработчиков, которые рассматривали бы возможность создания таких сервисов для Starknet.

Поэтому, прежде чем перейти к производству и в качестве подготовки к децентрализованному миру с множеством реализаций инструментов инфраструктуры, мы намерены уменьшить сложность протокола. Мы достигли бы этого, не требуя от будущей инфраструктуры выполнения какого-либо кода Starknet 0.x и отмечая первый блок после периода перехода как точку генезиса.

### Вен Регенезис? Общий график

Regenesis последует за выпуском Cairo 1.0, который планируется выпустить к концу 2022 года. В течение первого квартала 2023 года Starknet будет обновлен для поддержки Cairo 1.0, и к концу первого квартала мы планируем полностью перейти на сеть, основанную на Cairo 1.0.

**Пользователи и приложения должны будут совершить переход в течение этого периода.**

![](/assets/1_ef85shzd2uudwex-cy8wdg-1.png)

### Итак, что мне нужно знать?

Разработчики приложений должны знать о следующих аспектах Regenesis:

1. Убедитесь, что ваш контракт готов к обновлению. Полная информация о плане представлена на форуме сообщества[Starknet](https://community.starknet.io/t/regenesis-state-migration-current-suggestion/2080). Как только детали будут согласованы, мы поделимся кратким руководством.
2. Убедитесь, что вы готовы перенести свой код в Cairo 1.0. Все последние подробности смотрите в следующем разделе.

#### Перенос вашего контракта в Cairo 1.0

Cairo 1.0 сулит большие надежды разработчикам Starknet. Улучшение существующего Cairo, которое будет безопаснее, лучше и проще для написания контрактов, с улучшенным синтаксисом, полноценной системой типов (у кого-нибудь родной uint256?) и многим другим. Разработчики должны будут перенести свои существующие контракты Starknet на синтаксис Cairo 1.0. Однако, поскольку логика и структура кода останутся прежними, ожидается, что эти усилия будут незначительными по сравнению с усилиями, которые потребовались для разработки приложения в первую очередь.

В этом контексте стоит отметить, что вы можете повторно проверить версию Cairo 1.0 своего приложения. Если ваше приложение уже проходило аудит в прошлом, процесс повторного аудита будет значительно дешевле и проще, поскольку аудиторы уже знакомы с вашей логикой.

Мы выпустим всю документацию по Cairo 1.0, а также учебные пособия и семинары в четвертом квартале 2022 года.

### Я пользователь Старкнета. Что я должен делать?

Как пользователь, вам, вероятно, придется предпринять несколько действий во время Регенезиса. По крайней мере, вам придется обновить контракт с учетной записью. Невыполнение этого требования в течение переходного периода (несколько месяцев) приведет к потере вашей учетной записи. В зависимости от пути обновления, выбранного разработчиками приложений Starknet, которые вы используете, вам, возможно, придется предпринять дополнительные шаги.

Напоминаем всем, что Starknet все еще находится в альфа-фазе, и пользователи должны внимательно следить за сообщениями Starknet и приложений, которые они используют. Вы несете ответственность за своевременное обновление до новой системы. *Быть первопроходцем не всегда легко, и мы рассчитываем на то, что вы внесете свой вклад!*

### Заключить

Cairo 1.0 уже не за горами, предлагая множество интересных преимуществ и улучшений для Starknet и его разработчиков. Чтобы пожинать их, необходимо событие Regenesis сети. К счастью, у нас есть дизайн, который делает этот процесс минимально разрушительным — полностью бесшовным для пользователей и довольно простым для приложений.

Мы призываем вас принять участие в[обсуждении сообщества](https://community.starknet.io/t/regenesis-state-migration-current-suggestion/2080)и поделиться своими комментариями и опасениями, а также быть в курсе шагов, которые вам необходимо предпринять в качестве разработчика приложений в Starknet.