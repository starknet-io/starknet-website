# Hur StarkNet revolutionerar kryptosigneringen
## *Ut med de komplexa nycklarna, i med ansikte ID. En fallstudie på Konto Abstraktion*
I det ögonblick människor kan använda välkända metoder som ansikts-ID för att signera kryptotransaktioner, ser vi en boom i självförvar. Alla vet att driva din egen plånbok är den ursprungliga krypto ideal, men det är skrämmande, och har människor som omfamnar utbyten istället. Detta är en fallstudie av hur en StarkNet-funktionalitet som kallas Account Abstraction används av Braavos för att få ett långt mer intuitivt sätt att använda din plånbok.
## Introducerar kontosammanfattning
Efter FTX-skandalen är frågan mer relevant än någonsin. Varför väljer människor fortfarande att ge sitt krypto till centraliserade institutioner, snarare än att själva förvara det? Svaret: för de flesta människor är självförvar komplicerad. Fröfraser är den ”sämsta” återhämtningsmekanismen som avskräcker många (även några av de mest härdade degenerna). Svaret på denna utmaning: Konto Abstraktion. Konto Abstraktion tillåter plånböcker att uppfylla (och överträffa) UX förväntningar Web2-användare, såsom att signera en transaktion med Face ID eller använda tvåfaktorsautentisering. Det underlättar kontosegmentering och utgiftsgränser; och möjliggör så småningom enkel kontoåterställning och ta bort fröfrasen tillsammans. Det är en revolution för UI och UX.
## StarkNet
StarkNet, den ledande Validity Rollup, har flera viktiga egenskaper som gör den till den mest lovande lösningen för att skala Ethereum. Baserat på STARK korrektur, ger det låga gasavgifter utan att äventyra Ethereum säkerhet. Spårrekordet av STARK korrektur driver StarkEx inkluderar $800B i kumulativ handelsvolym, 300M transaktioner och 90M NFTs. Möjligheterna att STARK bevis för att ge låga avgifter, tillsammans med kraften i Konto Abstraktion, gjorde det möjligt för Braavos att utveckla den innovativa plånbokskapacitet som den eftersträvar.
## Kontext
De flesta stora blockkedjor, inklusive Bitcoin och Ethereum, använder secp256k1 elliptiska kurvkryptografiska signatursystem (se[här](http://ethanfast.com/top-crypto.html)för en omfattande lista). Denna elliptiska kurvimplementering anses vara robust — många blockkedjor använder den och den stod för tidens test. Men det är inte kompatibelt med kryptografiska signatursystem som finns i mobila enheters hårdvara säkerhetsmoduler (HSM), såsom iPhones och Android (Pixel och andra) telefoner. Dessa enheter använder en annan kurva — secp256r1 (även kallad NIST-P256). Detta innebär att användare av dessa blockchains inte kan dra nytta av säkerheten chips på sina enheter och måste standard hårdvara plånböcker om de vill få en stark säkerhetsnivå. Detta begränsar allvarligt någon UX-innovation om hur användare kan logga in i en plånbok och godkänna transaktioner (därav den allestädes närvarande av frö-fraser). StarkNet stöder inte secp256r1, och har en egen egen kurva som är en STARK-vänlig kurva. Men till skillnad från andra blockkedjor har StarkNet kontoabstraktion som finns direkt på sin plattform, vilket öppnar upp en ny värld av UX-möjligheter för plånboksappar. Braavos utnyttjade denna förmåga att introducera maskinvaruskylten.
## The Hardware Signer (Automatic Copy)
The Hardware Signer består av två huvuddelar:
* Det säkra undersystemet i användarnas mobila enhet * Kontots smarta kontrakt som kan köra godtycklig logik (a.k.a Account Abstraction)
## Säkert delsystem
Hårdvara Signer använder det säkra undersystemet inbyggt i användarnas enhet — iPhone**Säker enklav**eller Android Phone**Titan**HSM — för att skydda kontot. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) Den säkra enklaven / Titan chip är ett dedikerat och isolerat delsystem, helt separerade från applikationsprocessorn som kan generera privata nycklar och signera meddelanden. Det genererar tangenterna med hjälp av en intern True Random Number Generator (TRNG) och signerar meddelanden över NIST-P256 (secp256r1) elliptisk kurva via dess interna Public Key Accelerator (PKA). De privata nycklarna lämnar aldrig det säkra systemet och är okända/otillgängliga för någon, inte ens för användaren, eller för själva programmet. Detta innebär att även om enhetens applikationsprocessor kärna blir komprometterad, användarnycklar förblir säkra! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Djupare dyk ner i den säkra enklaven
Under tillverkningsprocessen för chip genereras en UID (Unique Identifier) av TRNG och lagras i PKA. Den kan inte läsas och lämnar aldrig PKA, Därför är det okänt även för Secure Enclave-processorn och för Secure Enclave Processor Operating System (SepOS). Detta UID är ett slumptal som är unikt per enhet och används för att kryptera alla andra nycklar som kommer att genereras i framtiden på den här enheten. Sättet det fungerar är som följer: applikationen kommer att begära SepOS för att generera en ny key-par, SepOS kommer att instruera Secure Enclave TRNG att generera en nyckel och kryptera den (med UID). Appen kan sedan begära från SepOS att dekryptera nyckeln och signera ett meddelande med den genererade nyckeln. Under hela denna process den genererade nyckeln lämnar inte enklaven och är okänd för någon. (För mer information om Secure Enclave, se[här](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). Sättet Säkra enklaven är byggt och fungerar, tillsammans med det faktum att det är ett mål för attacker från mäktiga företag och regeringar runt om i världen, är anledningen till att dess säkerhet överträffar standard hårdvara plånböcker.
## Konto sammanfattning
Kraften i Braavos som en smart kontraktsbaserad plånbok ovanpå StarkNet är att den består av två pelare:
* Klientsidan (t.ex. applikationen) som tillåter användaren att granska/signera transaktioner och skicka dem till kedjan. * Den on-chain sida — har ett konto smart kontrakt som kan köra godtycklig logik; och i synnerhet i vårt fall, kör godtycklig signatur**verifiering**logik. Applikationen signerar transaktionen med hjälp av säkerhetsmodulen för mobila enheter och skickar den sedan till kontotekontraktet on-chain som kan verifiera den. Som nämnts ovan, säkerhetsmodulen på iPhones och Android-telefoner använder en kryptografi som kallas NIST-P256 (secp256r1), vilket inte är kompatibelt med något större blockkedje-kryptografiskt system, inklusive StarkNet. Det är därför att ha ett smart kontrakt konto i kedjan som alla transaktioner går igenom och kan köra godtycklig logik, är avgörande för att använda dessa HSMs på iPhones och Android-telefoner. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Biometri
Hur godkänner användaren en transaktion via Braavos plånbok? Kan ett illasinnat program helt enkelt automatiskt signera en transaktion utan användarens medgivande? Nej! Det häftiga med den inbyggda säkerhetsmodulen i mobila enheter, såsom Secure Enclave, är att den stöder i sig biometrisk autentisering av användaridentitet. Detta innebär att även det faktiska godkännandet för att underteckna en transaktion görs direkt mot Secure Enclave. Godkännandet går inte igenom ansökan, och användaren kommer att behöva godkänna transaktionen med sitt fingeravtryck eller ansiktsidentifiering.
## Återställning
Om ingen vet den privata nyckeln, vad händer om enheten går vilse eller blir klossen? Hur kan användaren få tillbaka kontrollen över kontot? I Braavos kommer ett konto faktiskt att ha 2 publika nycklar — maskinvarusigneringsnyckeln, som kommer att användas för att signera alla transaktioner, och nyckeln härrör från seed phrase som bara kan signera en transaktion — en “Begär att ta bort maskinvara Signer”. Denna begäran kommer inte att genomföras omedelbart, utan snarare kommer att ha en tidsfördröjning på 4 dagar (konfigurerbar) för att tillåta användaren att använda maskinvarustecknaren att avbryta en sådan begäran. Detta innebär att om enheten blir stulen/förlorad/tegel, kommer användarna fortfarande att kunna återställa sitt konto inom 4 dagar. Men om deras Seed Phrase blir stulen och en angripare utfärdar en begäran om att ta bort maskinvaruskylten, användaren kommer automatiskt (och upprepade gånger) att få ett meddelande till sin mobila enhet och kommer att kunna avbryta begäran och hålla alla tillgångar säkra.
## Summary
Funktionen Hardware Signer erbjuder både state-of-the-art säkerhetsnivå för kryptoanvändare, och erfarenhetsanvändarna används från web2. I denna mening, underteckna en transaktion är lika smidig och bekymmersfri som att betala med Apple/Google lön. Detta är bara en, men ändå framträdande, exempel på kraften i StarkNet, smart kontraktsbaserad plånbok (a. .a Account Abstraction) och den nya designytan det möjliggör. Vi förutser utvecklingen av fler och fler tillväxtmöjligheter som kommer att driva kryptoindustrin till en bättre och mer inkluderande framtid, ge nya och befintliga användare lika med kompromisslös säkerhet i kombination med kompromisslös UX.