# Come StarkNet sta rivoluzionando la firma delle criptovalute
## *Fuori con le chiavi complesse, in con ID faccia. Un caso di studio sull'astrazione dell'account*
Nel momento in cui le persone possono utilizzare metodi familiari come ID faccia per firmare le transazioni criptovalute, vedremo un boom in auto-custodia. Tutti sanno che gestire il proprio portafoglio è l'ideale cripto originale, ma è intimidatorio e ha persone che abbracciano gli scambi. Questo è un caso di studio di come una funzionalità StarkNet chiamata Account Abstraction viene utilizzato da Braavos per ottenere un modo molto più intuitivo di utilizzare il tuo portafoglio.
## Introduzione Dell'Abstrazione Dell'Account
Dopo lo scandalo FTX, la questione è più importante che mai. Perché la gente sceglie ancora di dare la propria cripta alle istituzioni centralizzate, piuttosto che custodirla da sole? La risposta: per la maggior parte delle persone, l'autosufficienza è complicata. Le frasi di sementi sono il meccanismo di recupero “peggiore”, scoraggiando molti (anche alcuni dei degeni più induriti). La risposta a questa sfida: Account Abstraction. L'astrazione dell'account consente ai portafogli di soddisfare (e superare) le aspettative UX degli utenti Web2, come la firma di una transazione utilizzando Face ID o l'autenticazione a due fattori. Facilita la segmentazione dell'account e i limiti di spesa; e, infine, consente il recupero dell'account semplice e la rimozione della frase seme tutti insieme. Si tratta di una rivoluzione per UI e UX.
## StarkNet
StarkNet, il principale Rollup di Validità, ha diverse caratteristiche chiave che lo rendono la soluzione più promettente per scalare Ethereum. Sulla base delle prove STARK, fornisce basse tariffe per il gas senza compromettere la sicurezza di Ethereum. Il track record di prove STARK che alimentano StarkEx include $800B in volume di trading cumulativo, 300M transazioni, e 90M NFTs. Le capacità delle prove STARK di fornire commissioni basse, unite alla potenza di Account Abstraction, ha permesso a Braavos di sviluppare le innovative capacità di portafoglio a cui sta puntando.
## Contesto
La maggior parte delle blockchain principali, inclusi Bitcoin ed Ethereum, utilizza gli schemi di firma crittografica della curva ellittica secp256k1 (vedi[qui](http://ethanfast.com/top-crypto.html)per un elenco completo). Questa implementazione della curva ellittica è considerata robusta — molte blockchain la usano e si sono fermate le prove del tempo. Ma non è compatibile con lo schema di firma crittografica disponibile nei Moduli di Sicurezza Hardware (HSM) dei dispositivi mobili, come gli iPhone e i telefoni Android (Pixel e altri). Questi dispositivi utilizzano un'altra curva — secp256r1 (chiamato anche NIST-P256). Ciò significa che gli utenti di queste blockchain non possono sfruttare i chip di sicurezza sui loro dispositivi e devono default ai portafogli hardware se vogliono ottenere un livello di sicurezza elevato. Questo limita gravemente qualsiasi innovazione UX su come gli utenti possono accedere a un portafoglio e approvare le transazioni (quindi, l'ubiquità delle frasi seed-sees). StarkNet non supporta secp256r1 e ha una propria curva proprietaria che è una curva STARK-friendly. Ma a differenza di altre blockchain, StarkNet ha l'astrazione dell'account disponibile nativamente sulla sua piattaforma, che apre un nuovo mondo di opportunità UX per le app del portafoglio. Braavos ha sfruttato questa capacità per introdurre il Firmatario Hardware.
## Il Firmatario Hardware
L'Hardware Signer è composto da due parti principali:
* Il sottosistema sicuro nel dispositivo mobile degli utenti * L'account smart contract che può eseguire una logica arbitraria (alias Account Abstraction)
## Sottosistema Sicuro
L'Hardware Signer utilizza il sottosistema sicuro integrato nel dispositivo degli utenti — iPhone**Secure Enclave**o Android Phone**Titan**HSM — per proteggere l'account. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) Il chip Secure Enclave / Titan è un sottosistema dedicato e isolato, totalmente separati dal processore dell'applicazione che può generare chiavi private e messaggi di firma. Genera le chiavi usando un generatore di numeri casuali (TRNG) interno e firma messaggi sulla curva ellittica NIST-P256 (secp256r1) tramite il suo acceleratore di chiave pubblica (PKA). Le chiavi private non lasciano mai il sistema sicuro e sono sconosciute/inaccessibili a nessuno, nemmeno all'utente, o all'applicazione stessa. Ciò significa che anche se il kernel del processore dell'applicazione del dispositivo diventa compromesso, le chiavi utente rimangono al sicuro! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Immersione più profonda nell'Inclave Sicura
Durante il processo di produzione del chip un UID (Unique Identifier) viene generato dal TRNG ed è memorizzato nel PKA. Non può essere letto e non lascia mai il PKA, quindi è sconosciuta anche al processore Secure Enclave e al sistema operativo Secure Enclave (SepOS). Questo UID è un numero casuale che è univoco per dispositivo e viene utilizzato per cifrare tutte le altre chiavi che saranno generate in futuro su questo dispositivo. Il modo in cui funziona è il seguente: l'applicazione richiederà a SepOS di generare una nuova coppia di chiavi, il SepOS istruirà il Secure Enclave TRNG per generare una chiave e crittografarla (usando l'UID). L'app può quindi richiedere a SepOS di decifrare la chiave e firmare un messaggio utilizzando la chiave generata. Durante questo intero processo la chiave generata non lascia l'enclave ed è sconosciuta a chiunque. (Per ulteriori informazioni sul Secure Enclave, si prega di consultare[qui](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). Il modo in cui il Secure Enclave è costruito e funziona, insieme al fatto che è un obiettivo per gli attacchi di potenti società e governi in tutto il mondo, è il motivo per cui la sua sicurezza supera i portafogli hardware standard.
## Abstrazione Account
Il potere di Braavos come portafoglio basato su un contratto intelligente sulla cima di StarkNet, è che è composto da due pilastri:
* Il lato client (ad esempio l'applicazione) che consente all'utente di rivedere/firmare le transazioni e inviarle alla catena. * Il lato on-chain - ha un account smart contract che può eseguire una logica arbitraria; e in particolare nel nostro caso, eseguire la logica di verifica**della firma arbitraria**. L'applicazione firma la transazione utilizzando il modulo di sicurezza del dispositivo mobile e quindi lo invia al contratto di conto on-chain che può verificarlo. Come accennato sopra, il modulo di sicurezza su iPhone e telefoni Android utilizza una crittografia che si chiama NIST-P256 (secp256r1), che non è compatibile con qualsiasi schema crittografico blockchain principale, incluso StarkNet. Questo è il motivo per cui avere un conto smart contract on-chain che tutte le transazioni passano e possono eseguire una logica arbitraria, è fondamentale per utilizzare questi HSMs su iPhone e telefoni Android. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Biometria
In che modo l'utente approva una transazione tramite il portafoglio Braavos? Un’applicazione dannosa può semplicemente firmare automaticamente una transazione senza il consenso dell’utente? No!! La cosa fantastica del modulo di sicurezza integrato nei dispositivi mobili, come il Secure Enclave, è che supporta intrinsecamente l'autenticazione biometrica dell'identità dell'utente. Ciò significa che anche l'approvazione effettiva per firmare una transazione viene fatta direttamente contro l'Secure Enclave. L'approvazione non passa attraverso l'applicazione, e l'utente dovrà approvare la transazione con la sua impronta digitale o identificazione facciale.
## Recupero
Se nessuno conosce la chiave privata, cosa succede se il dispositivo si perde o diventa mattoncino? Come può l'utente recuperare il controllo dell'account? In Braavos, un account avrà in realtà 2 chiavi pubbliche — la chiave Firmatario Hardware, che sarà utilizzata per firmare tutte le transazioni, e la chiave derivata dalla seed phrase che può firmare solo una transazione — una “Richiesta di rimuovere Hardware Signer”. Questa richiesta non verrà eseguita immediatamente, ma piuttosto avrà un ritardo di 4 giorni (configurabile) al fine di consentire all'utente di utilizzare il Firmatario Hardware per annullare una tale richiesta. Ciò significa che se il dispositivo viene rubato/perso/bricked, gli utenti saranno ancora in grado di recuperare il loro account entro 4 giorni. Tuttavia, se il loro Seed Frase viene rubato e un attaccante emette una richiesta di rimuovere il Firmatario Hardware, l'utente riceverà automaticamente (e ripetutamente) una notifica al proprio dispositivo mobile e sarà in grado di annullare la richiesta e mantenere tutte le risorse al sicuro.
## Summary
La funzione Hardware Signer offre sia un livello di sicurezza all'avanguardia per gli utenti di criptovalute, sia l'esperienza che gli utenti vengono utilizzati dal web2. In questo senso, la firma di una transazione è fluida e preoccupata come il pagamento con Apple/Google pagare. Questo è solo uno, ma prominente, esempio del potere di StarkNet, smart contract based wallet (a. .a Account Abstraction) e il nuovo spazio di progettazione abilitato. Prevediamo lo sviluppo di sempre più capacità nascenti che porteranno l'industria delle criptovalute a un futuro migliore e più inclusivo, offrire sia agli utenti nuovi che a quelli esistenti una sicurezza senza compromessi abbinata a UX senza compromessi.