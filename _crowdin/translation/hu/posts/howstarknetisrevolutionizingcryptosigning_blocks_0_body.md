# Hogyan forradalmasítja a StarkNet a kriptográfiai aláírást
## *Ki az összetett billentyűkkel, be arcazonosítóval. Esettanulmány a fiókabsztrakcióról*
Abban a pillanatban, amikor az emberek az ismert módszereket, például az arcazonosítót használhatják a kripto-tranzakciók aláírására, fellendülést fogunk látni az önőrzés terén. Mindenki tudja, hogy a saját pénztárca üzemeltetése az eredeti kriptoideál, de ez megfélemlítő, és az emberek inkább a cserét választják. Ez egy esettanulmány arról, hogyan használja a Braavos a StarkNet Fiókabsztrakció nevű funkcióját a pénztárca sokkal intuitívabb használatához.
## Bemutatkozik a fiókabsztrakció
Az FTX-botrány után a kérdés aktuálisabb, mint valaha. Miért döntenek az emberek továbbra is úgy, hogy központosított intézményeknek adják át kriptokártyájukat, ahelyett, hogy maguk őriznék meg? A válasz: a legtöbb ember számára az öngondoskodás bonyolult. A mag kifejezések a „legrosszabb-legjobb” helyreállítási mechanizmus, sokakat elriasztanak (még a legkeményebb degenseket is). A válasz erre a kihívásra: Számlaabsztrakció. A fiókabsztrakció lehetővé teszi a pénztárcák számára, hogy megfeleljenek (és meghaladják) a Web2-felhasználók UX-elvárásait, például Face ID használatával vagy kéttényezős hitelesítés használatával írjanak alá egy tranzakciót. Megkönnyíti a fiókszegmentálást és a költési limiteket; és végül lehetővé teszi az egyszerű fiók-helyreállítást és a kezdő kifejezés eltávolítását. Ez egy forradalom a felhasználói felület és az UX számára.
## StarkNet
A StarkNet, a vezető Validity Rollup számos kulcsfontosságú jellemzővel rendelkezik, amelyek miatt ez a legígéretesebb megoldás az Ethereum méretezésére. A STARK bizonyítékai alapján alacsony gázdíjat biztosít az Ethereum biztonságának veszélyeztetése nélkül. A StarkEx-et működtető STARK-bizonyítékok 800 milliárd dolláros kumulált kereskedési volumenből, 300 millió tranzakcióból és 90 millió NFT-ből állnak. A STARK proofok alacsony díjakat biztosító képessége, valamint a számlaabsztrakció képessége lehetővé tette a Braavos számára, hogy kifejlessze az általa megcélzott innovatív pénztárca-képességeket.
## Kontextus
A legtöbb fő blokklánc, beleértve a Bitcoint és az Ethereumot is, a secp256k1 elliptikus görbe kriptográfiai aláírási sémákat használja (a teljes listát lásd[itt](http://ethanfast.com/top-crypto.html)). Ez az elliptikus görbe megvalósítása robusztusnak tekinthető – sok blokklánc használja, és kiállta az idő próbáját. De nem kompatibilis a mobileszközök hardverbiztonsági moduljaiban (HSM), például az iPhone-okon és az Android (Pixel és egyéb) telefonokon elérhető kriptográfiai aláírási sémával. Ezek az eszközök egy másik görbét használnak - secp256r1 (más néven NIST-P256). Ez azt jelenti, hogy ezeknek a blokkláncoknak a felhasználói nem tudják kihasználni az eszközeik biztonsági chipjeit, és alapértelmezés szerint hardveres pénztárcára kell állítaniuk, ha erős biztonsági szintet szeretnének elérni. Ez súlyosan korlátozza az UX-innovációt arra vonatkozóan, hogy a felhasználók hogyan jelentkezhetnek be a pénztárcába és hagyhatják jóvá a tranzakciókat (tehát a mag-kifejezések mindenütt jelen vannak). A StarkNet nem támogatja a secp256r1-et, és saját szabadalmaztatott görbéje van, amely egy STARK-barát görbe. Más blokkláncokkal ellentétben azonban a StarkNet platformján natívan elérhető a fiókabsztrakció, ami az UX-lehetőségek új világát nyitja meg a pénztárca-alkalmazások számára. A Braavos kihasználta ezt a képességet a Hardware Signer bevezetésére.
## A hardveres aláíró
A hardveres aláíró két fő részből áll:
* A biztonságos alrendszer a felhasználók mobileszközén * Az intelligens fiókszerződés, amely tetszőleges logikát futtathat (más néven fiókabsztrakció)
## Biztonságos alrendszer
A Hardware Signer a felhasználói eszközbe beépített biztonságos alrendszert – iPhone**Secure Enclave**vagy Android Phone**Titan**HSM – használja a fiók védelmére. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) A Secure Enclave / Titan chip egy dedikált és elszigetelt alrendszer, teljesen elválasztva az alkalmazásprocesszortól, amely képes privát kulcsokat generálni és üzeneteket aláírni. A kulcsokat egy belső True Random Number Generator (TRNG) segítségével állítja elő, és az üzeneteket a NIST-P256 (secp256r1) elliptikus görbén keresztül írja alá belső nyilvános kulcsgyorsítóján (PKA) keresztül. A privát kulcsok soha nem hagyják el a biztonságos rendszert, és senki számára ismeretlenek/hozzáférhetetlenek, még a felhasználó vagy maga az alkalmazás számára sem. Ez azt jelenti, hogy a felhasználói kulcsok biztonságban maradnak még akkor is, ha az eszközalkalmazás-processzor kernel feltörik! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Merüljön mélyebbre a biztonságos enklávéba
A chip gyártási folyamata során a TRNG generál egy UID-t (Unique Identifier), amelyet a PKA tárol. Nem olvasható, és soha nem hagyja el a PKA-t, így még a Secure Enclave processzor és a Secure Enclave Processor Operating System (SepOS) számára is ismeretlen. Ez az UID egy véletlen szám, amely eszközönként egyedi, és az összes többi kulcs titkosítására szolgál, amelyek a jövőben ezen az eszközön generálódnak.\ A működése a következő: az alkalmazás új kulcs generálására kéri a SepOS-t -pár, a SepOS utasítja a Secure Enclave TRNG-t, hogy generáljon kulcsot és titkosítsa azt (az UID használatával). Az alkalmazás ezután kérheti a SepOS-től a kulcs visszafejtését, és egy üzenet aláírását a generált kulccsal. Az egész folyamat során a generált kulcs nem hagyja el az enklávéot, és senki számára ismeretlen. (A Secure Enclave-ról további információkért lásd[itt](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). A Secure Enclave felépítésének és működésének módja, valamint az a tény, hogy nagyhatalmú vállalatok és kormányok támadásainak célpontja világszerte, az oka annak, hogy biztonsága felülmúlja a szabványos hardveres pénztárcákat.
## Számla absztrakció
A Braavos, mint egy intelligens szerződésalapú pénztárca a StarkNet tetején, abban rejlik, hogy két pillérből áll:
* A kliens oldal (pl. az alkalmazás), amely lehetővé teszi a felhasználó számára a tranzakciók áttekintését/aláírását és a láncnak való elküldését. * A láncon belüli oldal – fiókos intelligens szerződéssel rendelkezik, amely tetszőleges logikát futtathat; és különösen a mi esetünkben futtasson tetszőleges aláírás**ellenőrzés**logikát. Az alkalmazás a mobileszköz biztonsági moduljával aláírja a tranzakciót, majd elküldi a láncon lévő számlaszerződésnek, amely ellenőrizni tudja azt. Ahogy fentebb említettük, az iPhone és Android telefonok biztonsági modulja a NIST-P256 (secp256r1) nevű kriptográfiát használja, amely nem kompatibilis egyetlen nagyobb blokklánc-kriptográfiai sémával sem, beleértve a StarkNet-et is. Ez az oka annak, hogy egy intelligens szerződéses fiók a láncon belül, amelyen minden tranzakció átmegy, és amely tetszőleges logikát futtathat, kulcsfontosságú ezeknek a HSM-eknek az iPhone és Android telefonokon történő használatához. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Biometrikus adatok
Hogyan hagyja jóvá a felhasználó a tranzakciót a Braavos pénztárcán keresztül? Egy rosszindulatú alkalmazás egyszerűen automatikusan aláírhat egy tranzakciót a felhasználó beleegyezése nélkül? Nem!! A mobileszközökbe, például a Secure Enclave-be beépített biztonsági modul nagyszerűsége az, hogy támogatja a felhasználói identitás belső biometrikus hitelesítését. Ez azt jelenti, hogy még a tranzakció aláírásának tényleges jóváhagyása is közvetlenül a Secure Enclave-vel szemben történik. A jóváhagyás nem megy át az alkalmazáson, és a felhasználónak jóvá kell hagynia a tranzakciót ujjlenyomatával vagy arcazonosítójával.
## Felépülés
Ha senki sem ismeri a privát kulcsot, mi történik, ha az eszköz elveszik vagy befalazódik? Hogyan szerezheti vissza a felhasználó az irányítást a fiók felett? Braavosban egy fiók tulajdonképpen 2 nyilvános kulccsal rendelkezik – a hardveres aláíró kulcsával, amely az összes tranzakció aláírására lesz használva, és az alapmondatból származó kulcs, amely csak egy tranzakciót írhat alá – ez a „Hardveraláíró eltávolítási kérelem”. Ez a kérés nem hajtódik végre azonnal, hanem 4 napos késleltetéssel (konfigurálható), hogy a felhasználó a Hardveraláíró segítségével törölje az ilyen kérést. Ez azt jelenti, hogy ha az eszközt ellopják/elveszett/leblokkolják, a felhasználók továbbra is visszaállíthatják fiókjukat 4 napon belül. Ha azonban a kezdőkifejezésüket ellopják, és egy támadó kéri a hardveraláíró eltávolítását, a felhasználó automatikusan (és ismételten) értesítést kap mobileszközére, és törölheti a kérést, és biztonságban tarthatja az összes eszközt. .
## Összegzés
A Hardware Signer szolgáltatás a legkorszerűbb biztonsági szintet kínálja a kriptográfiai felhasználóknak, és a felhasználók által a web2-től megszokott élményt. Ebben az értelemben a tranzakció aláírása ugyanolyan zökkenőmentes és gondtalan, mint az Apple/Google Pay segítségével történő fizetés. Ez csak egy, de kiemelkedő példa a StarkNet, az intelligens szerződésalapú pénztárca (más néven Account Abstraction) és az általa lehetővé tett új tervezési terület erejére. Egyre több születőben lévő képesség kifejlesztését tervezzük, amelyek a kriptoipart egy jobb és befogadóbb jövő felé hajtják, és az új és a meglévő felhasználóknak egyaránt kompromisszumok nélküli biztonságot és kompromisszummentes felhasználói élményt biztosítanak.